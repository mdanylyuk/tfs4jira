webpackJsonp([1],{"29ii":function(t,e){},"6edX":function(t,e){},"79RY":function(t,e){},D4uH:function(t,e,i){"use strict";let n={};var a={name:"fa-icon",props:{name:{type:String,validator:t=>!t||t in n||(console.warn(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".`+"\nPlease make sure you have imported this icon before using it."),!1)},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:t=>"horizontal"===t||"vertical"===t},label:String},data:()=>({x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse,[this.$options.name]:!0}},icon(){return this.name?n[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=(t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(t,i,n)=>{let a=`fa-${(s++).toString(16)}`;return e[n]=a,` id="${a}"`})).replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,i,n,a)=>{let s=i||a;return s&&e[s]?`#${e[s]}`:t})}},mounted(){if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(this.icon)return;let t=0,e=0;this.$children.forEach(i=>{i.outerScale=this.normalizedScale,t=Math.max(t,i.width),e=Math.max(e,i.height)}),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach(i=>{i.x=(t-i.width)/2,i.y=(e-i.height)/2})},register(t){for(let e in t){let i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n[e]=i}},icons:n};let s=870711;var r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,n){return i("path",t._b({key:"path-"+n},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,n){return i("polygon",t._b({key:"polygon-"+n},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[i("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]};var o=i("VU/8")(a,r,!1,function(t){i("jSVj")},null,null);e.a=o.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,s,r,o,c,l,u,p,f=i("7+uW"),d=i("D4uH"),h=(i("D/PP"),i("L8Ge")),E=i.n(h),v=i("pDAi"),_=i.n(v),m=i("rXUV"),g=i.n(m),I=i("0VsM"),S=i.n(I),A=i("4vMe"),T=i.n(A),L=i("6Cj1"),N=i.n(L),R=i("Tg6C"),O=i.n(R),C=i("GiJQ"),b=i.n(C),V=i("0VlM"),y=i.n(V),F=i("NYxO"),w=function(t,e){var i={};for(var n in e)if(-1!==["actions","state","getters"].indexOf(n))for(var a in i[n]={},e[n]){var s=e[n][a];i[n][s]=t+"/"+s}return i},k=function(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var a=t[i][n];e[i][a]=a}return e},P=function(t,e){var i=t.label.toUpperCase(),n=e.label.toUpperCase();return i<n?-1:i>n?1:0},D=k({state:["AVAILABLE_VALUES","LOADER_VISIBLE","MAPPINGS"],actions:["SET_UP_SERVICE","GET_AVAILABLE_VALUES","MAP","REMOVE_MAPPING","SWITCH_TFS_LINK","HANDLE_ERROR"],mutations:["SHOW_LOADER","SET_MAPPINGS_VALUES"],getters:["AVAILABLE_VALUES","TFS_VALUES","JIRA_VALUES","MAPPINGS","IS_LOADER_VISIBLE"],kinds:{JIRA:"JIRA",TFS:"TFS"}}),j=i("Pexg"),U=i.n(j),x=i("mtWM"),M=i.n(x),G=k({state:["NOTIFICATIONS","CONFIG","COOKIE_STORE","NOTIFICATIONS_LISTENERS"],actions:["SEND_NOTIFICATION","ADD_LISTENER","HANDLE_ERROR"],mutations:["ADD_NOTIFICATION","ASSIGN_LISTENER"],getters:["GET_NOTIFICATIONS","CONTEXT_PATH","IMAGE_PATH","GET_COOKIE_STORE"]}),J=i("6DPD"),H=i.n(J),B=i("OdJd"),W=i.n(B),z=function(){function t(){H()(this,t)}return W()(t,[{key:"extractMessageFromErrorObject",value:function(t){var e="Unknown error occurred";if(void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.Message)e=t.response.data.Message;else if(void 0!==t.message)e=t.message;else if("string"==typeof t)return t;return e}}]),t}(),K=new z,Y=(n={},y()(n,G.actions.SEND_NOTIFICATION,function(t,e){var i=t.commit,n=t.state[G.state.NOTIFICATIONS_LISTENERS];void 0!==n[e.receiver]&&n[e.receiver](e.payload),e.dispatched=!0,i(G.mutations.ADD_NOTIFICATION,e)}),y()(n,G.actions.ADD_LISTENER,function(t,e){var i=t.commit;t.state;i(G.mutations.ASSIGN_LISTENER,e)}),y()(n,G.actions.HANDLE_ERROR,function(t,e){var i=t.dispatch,n=K.extractMessageFromErrorObject(e);i(G.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:n}})}),n),q=(a={},y()(a,G.mutations.ADD_NOTIFICATION,function(t,e){"AppConfig"===e.receiver?X(t,e):"CookieStore"===e.receiver?Q(t,e):t[G.state.NOTIFICATIONS]=e}),y()(a,G.mutations.ASSIGN_LISTENER,function(t,e){t[G.state.NOTIFICATIONS_LISTENERS][e.on]=e.handler}),a),X=function(t,e){void 0!==e.payload.contextPath&&(t[G.state.CONFIG].contextPath=e.payload.contextPath)},Q=function(t,e){t[G.state.COOKIE_STORE]=e.payload.cookieStore},Z={namespaced:!0,state:(s={},y()(s,G.state.CONFIG,{contextPath:""}),y()(s,G.state.COOKIE_STORE,{}),y()(s,G.state.NOTIFICATIONS,{}),y()(s,G.state.NOTIFICATIONS_LISTENERS,{}),s),getters:(r={},y()(r,G.getters.GET_NOTIFICATIONS,function(t){return t[G.state.NOTIFICATIONS]}),y()(r,G.getters.CONTEXT_PATH,function(t){return t[G.state.CONFIG].contextPath}),y()(r,G.getters.IMAGE_PATH,function(t){return t[G.state.CONFIG].contextPath+"/Content/Images/"}),y()(r,G.getters.GET_COOKIE_STORE,function(t){return t[G.state.COOKIE_STORE]}),r),actions:Y,mutations:q},tt=w("app",G),et=(o={},y()(o,D.actions.GET_AVAILABLE_VALUES,function(t){return b()(O.a.mark(function e(){var i,n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(D.mutations.SHOW_LOADER,!0),e.next=5,c.getData();case 5:return a=e.sent,i(D.mutations.SET_MAPPINGS_VALUES,a),i(D.mutations.SHOW_LOADER,!1),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),n(D.actions.HANDLE_ERROR,e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}))()}),y()(o,D.actions.MAP,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,n(D.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,c.addMapping(e.jiraValue,e.tfsValue,a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(D.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),s(D.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),y()(o,D.actions.REMOVE_MAPPING,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,e.duringProcessing=!0,i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,c.removeMapping(a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS],e,!0);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),s(D.actions.HANDLE_ERROR,i.t3);case 14:case"end":return i.stop()}},i,null,[[1,11]])}))()}),y()(o,D.actions.SWITCH_TFS_LINK,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,e.duringProcessing=!0,i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,c.switchTfsMapping(e,a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),s(D.actions.HANDLE_ERROR,i.t3);case 14:case"end":return i.stop()}},i,null,[[1,11]])}))()}),y()(o,D.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(c=e.service),void 0!==e.prefix&&(c.backendUrl=e.prefix)}),y()(o,D.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch;i(D.mutations.SHOW_LOADER,!1),n(tt.actions.HANDLE_ERROR,e,{root:!0})}),o),it=(l={},y()(l,D.state.MAPPINGS,null),y()(l,D.state.AVAILABLE_VALUES,[]),y()(l,D.state.LOADER_VISIBLE,!1),l),nt=i("7U2N"),at=i.n(nt),st={namespaced:!0,state:it,getters:(u={},y()(u,D.getters.TFS_VALUES,function(t){return void 0===t[D.state.AVAILABLE_VALUES]?[]:at()(t[D.state.AVAILABLE_VALUES]).filter(function(t){return t.visible&&t.kind===D.kinds.TFS}).sort(P)}),y()(u,D.getters.JIRA_VALUES,function(t){return void 0===t[D.state.AVAILABLE_VALUES]?[]:at()(t[D.state.AVAILABLE_VALUES]).filter(function(t){return t.visible&&t.kind===D.kinds.JIRA}).sort(P)}),y()(u,D.getters.AVAILABLE_VALUES,function(t,e){return{TfsValues:e[D.getters.TFS_VALUES],JiraValues:e[D.getters.JIRA_VALUES]}}),y()(u,D.getters.MAPPINGS,function(t,e){return t[D.state.MAPPINGS]}),y()(u,D.getters.IS_LOADER_VISIBLE,function(t){return t[D.state.LOADER_VISIBLE]}),u),actions:et,mutations:(p={},y()(p,D.mutations.SET_MAPPINGS_VALUES,function(t,e){void 0!==e.mappings&&(t[D.state.MAPPINGS]=e.mappings),void 0!==e.available&&(t[D.state.AVAILABLE_VALUES]=e.available)}),y()(p,D.mutations.SHOW_LOADER,function(t,e){t[D.state.LOADER_VISIBLE]=e}),p)},rt=w("mappings",D);function ot(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function ct(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):ot(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var lt={props:{jiraSelectTitle:String,tfsSelectTitle:String},data:function(){return{selectedTfsValue:null,selectedJiraValue:null}},computed:Object(F.c)({jiraValues:rt.getters.JIRA_VALUES,tfsValues:rt.getters.TFS_VALUES}),methods:ct(ct({},Object(F.b)({mapValues:rt.actions.MAP})),{},{addMapping:function(){if(null!==this.selectedJiraValue&&null!==this.selectedTfsValue){var t={jiraValue:this.selectedJiraValue,tfsValue:this.selectedTfsValue};this.mapValues(t),this.selectedTfsValue=null,this.selectedJiraValue=null}},isMapButtonDisabled:function(){return null===this.selectedJiraValue||null===this.selectedTfsValue}})},ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tfs4jira-mapping-layout"},[i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("h2",[t._v(t._s(t.jiraSelectTitle))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-header-note-jira"})]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("h2",[t._v(t._s(t.tfsSelectTitle))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-header-note-tfs"})])]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedJiraValue,expression:"selectedJiraValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"jiraValuesSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedJiraValue=e.target.multiple?i:i[0]}}},t._l(t.jiraValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTfsValue,expression:"selectedTfsValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"tfsValuesSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedTfsValue=e.target.multiple?i:i[0]}}},t._l(t.tfsValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])])]),t._v(" "),i("button",{staticClass:"tfs4jira-mapping-map-button tfs4jira-rounded-button",attrs:{disabled:t.isMapButtonDisabled(),title:"Please select values for both Jira and TFS to map them."},on:{click:function(e){t.addMapping()}}},[t._v("Map\n    ")])])},staticRenderFns:[]},pt=i("VU/8")(lt,ut,!1,null,null,null).exports;function ft(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function dt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):ft(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var ht={props:{mapping:Object,isLinksMapping:Boolean},computed:Object(F.c)({imagePath:tt.getters.IMAGE_PATH}),methods:dt(dt({},Object(F.b)({removeMapping:rt.actions.REMOVE_MAPPING,switchTfsLink:rt.actions.SWITCH_TFS_LINK})),{},{switchTitleText:function(){return"Switch to "+this.mapping.invertedTitle},canBeSwitched:function(){return this.isLinksMapping&&this.mapping.tfsValue&&this.mapping.tfsValue.hasInvertedVersion}})},Et={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.mapping.jiraTitle&&void 0!==t.mapping.tfsTitle?i("tr",{staticClass:"tfs4jira-mapping-row",staticStyle:{"background-color":"rgb(255, 255, 255)"}},[i("td",{staticClass:"tfs4jira-mapping-row-left"},[i("div",{staticClass:"tfs4jira-mapping-value-text"},[i("div",{staticClass:"tfs4jira-mapping-value-text-label"},[t._v(t._s(t.mapping.jiraTitle))])])]),t._v(" "),t._m(0),t._v(" "),i("td",{staticClass:"tfs4jira-mapping-row-right"},[i("div",{staticClass:"tfs4jira-mapping-value-text"},[i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-merged-mapping-remove tfs4jira-rounded-button",attrs:{disabled:t.mapping.duringProcessing,title:"Remove"},on:{click:function(e){t.removeMapping(t.mapping)}}},[i("img",{attrs:{src:t.imagePath+"delete-icon.svg"}})]),t._v("\n            "+t._s(t.mapping.tfsTitle)+"\n            "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.canBeSwitched(),expression:"canBeSwitched()"}],staticClass:"tfs4jira-rounded-button reverse",attrs:{disabled:t.mapping.duringProcessing,title:t.switchTitleText()},on:{click:function(e){t.switchTfsLink(t.mapping)}}},[i("img",{attrs:{src:t.imagePath+"reverse-icon.svg"}})])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tfs4jira-mapping-row-direction"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-both",attrs:{title:""}})])}]};var vt=i("VU/8")(ht,Et,!1,function(t){i("vRcm")},"data-v-2c460a76",null).exports,_t={ERROR:{iconClass:"error-message",iconName:"exclamation-circle"},SUCCESS:{iconClass:"success",iconName:"check-circle"},WARNING:{iconClass:"warning",iconName:"exclamation-triangle"}},mt={props:["iconName","iconClass","kind"],computed:{notificationIconClass:function(){return this.kind?_t[this.kind].iconClass:this.iconClass},notificationIconName:function(){return this.iconName?this.iconName:_t[this.kind].iconName},cssClassFromKind:function(){return this.kind?this.kind.toLowerCase():""}}},gt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification",class:this.cssClassFromKind},["none"!==this.notificationIconName?e("div",{staticClass:"icon-box"},[e("icon",{staticClass:"icon",class:this.notificationIconClass,attrs:{name:this.notificationIconName}})],1):this._e(),this._v(" "),e("div",{staticClass:"notification-content"},[this._t("default")],2)])},staticRenderFns:[]};var It=i("VU/8")(mt,gt,!1,function(t){i("jxQI")},"data-v-4ca4fa28",null).exports,St=i("6qwz"),At=i.n(St),Tt=function(){function t(e){H()(this,t),this.http=e,this.hierarchy={}}return W()(t,[{key:"getData",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/mappings/links/availableValues").then(function(n){t.http.get(t.backendUrl+"/mappings/links").then(function(i){e(t.shapeDataFromWebService(n.data,i.data.LinkTypesMappings))},function(t){i(t)})},function(t){i(t)})})}},{key:"shapeDataFromWebService",value:function(t,e){function i(t,e,i,n,a){return{kind:t,title:e,label:e,invertedTitle:e.split("/").reverse().join(" / "),id:n+"_"+a,key:n,inverted:a,hasInvertedVersion:i,visible:!0}}var n={};return this.hierarchy=t.Hierarchy,Array.prototype.forEach.call(t.JiraValues,function(t){var e=i("JIRA",t.LabelA+" / "+t.LabelB,t.LabelA!==t.LabelB,t.JiraLinkType,!1);n[e.id]=e}),Array.prototype.forEach.call(t.TfsValues,function(t){var e=i("TFS",t.LabelA+" / "+t.LabelB,t.LabelA!==t.LabelB,t.TfsLinkType,!1);if(n[e.id]=e,t.LabelA!==t.LabelB){var a=i("TFS",t.LabelB+" / "+t.LabelA,t.LabelA!==t.LabelB,t.TfsLinkType,!0);n[a.id]=a}}),this.hideListItemsAndEnrichMappings(e,n)}},{key:"hideListItemsAndEnrichMappings",value:function(t,e){var i=this;return t.forEach(function(t){at()(e).forEach(function(e){e.key===t.JiraLinkType?t.jiraValue=e:e.key===t.TfsLinkType&&t.IsLinkDirectionInverted===e.inverted&&(t.tfsValue=e)}),t.duringProcessing=!1,void 0===t.jiraValue?t.jiraTitle=t.JiraLinkType:(t.jiraId=t.jiraValue.id,t.jiraTitle=t.jiraValue.title),void 0===t.tfsValue?t.tfsTitle=t.TfsLinkType:(t.tfsTitle=t.tfsValue.title,t.tfsId=t.tfsValue.id,t.invertedTitle=t.tfsValue.invertedTitle)}),t=t.sort(function(t,e){return t.jiraTitle.toString()>e.jiraTitle.toString()?-1:1}),at()(e).forEach(function(e){var n=Array.prototype.filter.call(t,function(t){return t.jiraId===e.id||t.tfsId===e.id||void 0!==t.tfsValue&&t.tfsValue.key==e.key});e.visible=0===n.length&&0==e.inverted,!i.hierarchy.Enabled||"System.LinkTypes.Hierarchy"!==e.key&&i.hierarchy.JiraLinkId!==e.key||(e.visible=!1)}),this.hierarchy.Enabled&&(t=t.filter(function(t){return t.jiraValue.key!==i.hierarchy.JiraLinkId&&"System.LinkTypes.Hierarchy"!==t.TfsLinkType})),{hierarchy:this.hierarchy,available:e,mappings:t}}},{key:"switchTfsMapping",value:function(t,e,i){var n=this;return new At.a(function(a,s){var r=Array.prototype.filter.call(at()(e),function(e){return"TFS"===e.kind&&e.key===t.tfsValue.key&&e.id!==t.tfsValue.id});0===r.length?a(null):n.removeMapping(e,i,t,!1).then(function(e){n.addMapping(t.jiraValue,r[0],e.available,e.mappings).then(function(t){a({mappings:t,available:e.available})},function(t){return s(t)})},function(t){s(t)})})}},{key:"addMapping",value:function(t,e,i,n){var a=this;return new At.a(function(s,r){a.http.post(a.backendUrl+"/mappings/links/values",{JiraLinkType:t.key,TfsLinkType:e.key,IsLinkDirectionInverted:e.inverted}).then(function(t){n.push(t.data);var e=a.hideListItemsAndEnrichMappings(n,i);s(e.mappings)},function(t){r(t)})})}},{key:"removeMapping",value:function(t,e,i,n){var a=this;return new At.a(function(s,r){a.http.delete(a.backendUrl+"/mappings/links/values/"+i.Id).then(function(r){e=Array.prototype.filter.call(e,function(t){return t.Id!==i.Id}),s(n?a.hideListItemsAndEnrichMappings(e,t):{mappings:e,available:t})},function(t){r(t)})})}}]),t}();function Lt(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Nt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Lt(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Rt={props:["profileGuid","loadOnInit"],data:function(){return{jiraSelectTitle:"Jira Link Types",tfsSelectTitle:"TFS Link Types",hierarchy:{},mountCallback:function(){}}},computed:Object(F.c)({mappings:rt.getters.MAPPINGS,isLoaderVisible:rt.getters.IS_LOADER_VISIBLE,contextPath:tt.getters.CONTEXT_PATH,imagePath:tt.getters.IMAGE_PATH}),methods:Nt(Nt({},Object(F.b)({setUpService:rt.actions.SET_UP_SERVICE,getAvailableValues:rt.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new Tt(M.a)}),t.next=3,this.getAvailableValues();case 3:null!=(e=t.sent)&&(this.hierarchy=e.hierarchy),this.mountCallback();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{MappingSelects:pt,MappingRow:vt,Notification:It},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshLinkMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("Links Mapping")]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hierarchy&&t.hierarchy.Enabled,expression:"hierarchy && hierarchy.Enabled"}],staticClass:"links-notification"},[i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[t._v("Please note that links used in Hierarchy Mapping are not available here.")])])],1),t._v(" "),i("mapping-selects",{attrs:{jiraSelectTitle:t.jiraSelectTitle,tfsSelectTitle:t.tfsSelectTitle}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.mappings&&0==t.mappings.length,expression:"(mappings && mappings.length == 0)"}],staticClass:"mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS link types that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},[i("tbody",t._l(t.mappings,function(t){return i("mapping-row",{key:t.Id,attrs:{mapping:t,isLinksMapping:!0}})}))])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var Ct=i("VU/8")(Rt,Ot,!1,function(t){i("79RY")},"data-v-7323377e",null).exports,bt=i("mw3O"),Vt=i.n(bt),yt=(i("pYLg"),i("+NLg"),i("7DwN"),i("DMY1"),i("R3SC"),{props:["statusValue"],computed:{className:function(){return this.statusValueToClassName(this.statusValue)},displayName:function(){return this.statusValueToDisplayName(this.statusValue)},iconName:function(){return this.statusValueToIconName(this.statusValue)}},components:{icon:d.a},methods:{statusValueToDisplayName:function(t){switch(t){case 0:return"Not tested";case 1:return"OK";case 2:return"Warning";case 3:return"Failed";default:return"unknown"}},statusValueToClassName:function(t){switch(t){case 0:return"not-tested";case 1:return"test-ok";case 2:return"test-warn";case 3:return"test-failed";default:return"unknown"}},statusValueToIconName:function(t){switch(t){case 0:return"circle";case 1:return"check-circle";case 2:return"exclamation-circle";case 3:return"times-circle";default:return"question-circle"}}}}),Ft={render:function(){var t=this.$createElement;return(this._self._c||t)("icon",{staticClass:"health-status-indicator",class:[this.className],attrs:{name:this.iconName,title:this.displayName}})},staticRenderFns:[]};var wt=i("VU/8")(yt,Ft,!1,function(t){i("29ii")},"data-v-52a8758e",null).exports;i("TFdi"),i("Oncp");function kt(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):kt(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Dt={props:["profileGuid"],data:function(){return{healthCheckResultGroups:[],isProfileHealthResultLoading:!1}},computed:Pt(Pt({},Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{isLoading:function(){return this.isProfileHealthResultLoading},backendUrl:function(){return this.profileGuid?this.contextPath+"/profiles/"+this.profileGuid+"/HealthCheck":this.contextPath+"/profiles/HealthCheck"}}),components:{"health-status-indicator":wt,icon:d.a},methods:{loadProfileHealth:function(t){var e=this;this.isProfileHealthResultLoading=!0;var i=Vt.a.stringify(t);return M.a.post(this.backendUrl,i).then(this.handleResponseData).catch(this.handleResponseError).then(function(){e.isProfileHealthResultLoading=!1})},refresh:function(t){console.log("Refreshing ProfileHealthComponent"),this.loadProfileHealth(t)},toggleCollapse:function(t){t.isCollapsed=!t.isCollapsed},areHealthCheckResultsAvailableInGroup:function(t){return t.CheckResults&&t.CheckResults.length},handleResponseData:function(t){this.healthCheckResultGroups=t.data,this.healthCheckResultGroups.forEach(function(t){var e=t.Status<=1;f.a.set(t,"isCollapsed",e)})},handleResponseError:function(t){console.log("Error getting profile health result : ",t),this.healthCheckResultGroups=[{Name:"Error getting profile health result",Status:3,Message:t.message}]}},mounted:function(){this.loadProfileHealth()}},jt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-health-component"},[i("ul",{staticClass:"health-check-result-groups"},t._l(t.healthCheckResultGroups,function(e){return i("li",[i("div",[i("health-status-indicator",{attrs:{"status-value":e.Status}}),t._v(" "),i("span",{staticClass:"health-check-result-group-name",class:{clickable:t.areHealthCheckResultsAvailableInGroup(e)},on:{click:function(i){t.toggleCollapse(e)}}},[t._v("\n                    "+t._s(e.Name)+"\n                    "),t.areHealthCheckResultsAvailableInGroup(e)?[e.isCollapsed?i("icon",{staticClass:"collapse-group-icon",attrs:{name:"caret-right"}}):i("icon",{staticClass:"collapse-group-icon",attrs:{name:"caret-down"}})]:t._e()],2),t._v(" "),e.Message?i("div",{staticClass:"health-check-result-group-description"},[t._v(t._s(e.Message))]):t._e()],1),t._v(" "),t.areHealthCheckResultsAvailableInGroup(e)?i("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed,expression:"!healthCheckResultGroup.isCollapsed"}],staticClass:"health-check-results"},t._l(e.CheckResults,function(e){return i("li",[i("health-status-indicator",{attrs:{"status-value":e.Status}}),t._v(" "),i("span",[t._v("\n                        "+t._s(e.Name)+"\n                    ")]),t._v(" "),e.Message?i("div",{staticClass:"health-check-result-description"},[t._v(t._s(e.Message))]):t._e()],1)})):t._e()])})),t._v(" "),t.isLoading?i("div",{staticClass:"spinner",class:{visible:t.isLoading}}):t._e()])},staticRenderFns:[]};var Ut=i("VU/8")(Dt,jt,!1,function(t){i("wJNk")},"data-v-2095250a",null).exports;i("vrpP"),i("lOjN");function xt(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Mt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):xt(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Gt={props:["profileGuid"],data:function(){return{isCollapsed:!1,shouldBeFixed:!1,currentWizardStep:null}},computed:{isGuidSet:function(){return this.profileGuid&&"00000000-0000-0000-0000-000000000000"!==this.profileGuid},windowWidth:function(){return window.innerWidth}},created:function(){var t=this;window.addEventListener("scroll",function(){t.adjustElementPosition()}),this.adjustElementPosition()},methods:Mt(Mt({},Object(F.b)({registerListener:tt.actions.ADD_LISTENER})),{},{adjustElementPosition:function(){"undefined"!=typeof $&&Ht($(this.$el),this)},collapse:function(){this.isCollapsed=!0,this.adjustElementPosition()},expand:function(){this.isCollapsed=!1,this.adjustElementPosition()},handleNotification:function(t){void 0!==t.profileDataToOverride&&this.$refs.profileHealthComponent.refresh(t.profileDataToOverride),void 0!==t.wizardStep&&(Jt(this.currentWizardStep,this.$refs.profileHealthComponent),this.currentWizardStep=t.wizardStep)}}),components:{"profile-health-component":Ut,icon:d.a},mounted:function(){this.registerListener({on:"WizardSide",handler:function(t){this.handleNotification(t)}.bind(this)})}},Jt=function(t,e){switch(t){case"jira-connection-step":case"tfs-connection-step":case"synchronization-settings":e.refresh()}},Ht=function(t,e){if($(".tabheader").length>0){var i=$(".tabheader").offset().top,n=!1,a=$(window).scrollTop()>i+50;a!==n&&(n=a),e.shouldBeFixed=n,e.shouldBeFixed?t.css("right",$(window).width()-$(".page").offset().left-$(".page").outerWidth()):t.css("right","auto")}},Bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wizard-side-component",class:{"should-be-fixed":t.shouldBeFixed,collapsed:t.isCollapsed}},[t.isCollapsed?i("div",{staticClass:"expand-button clickable",attrs:{title:"Profile Health Component"},on:{click:function(e){e.stopPropagation(),t.expand()}}},[i("icon",{attrs:{name:"angle-double-left"}})],1):t._e(),t._v(" "),t.isCollapsed?t._e():i("div",{staticClass:"wizard-side-component-title"},[i("span",{staticClass:"collapse-button clickable",attrs:{title:"collapse"},on:{click:function(e){e.stopPropagation(),t.collapse()}}},[i("icon",{attrs:{name:"angle-double-right"}})],1),t._v("\n        Profile Health\n    ")]),t._v(" "),i("profile-health-component",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],ref:"profileHealthComponent",attrs:{"profile-guid":t.isGuidSet?t.profileGuid:""}})],1)},staticRenderFns:[]};var Wt=i("VU/8")(Gt,Bt,!1,function(t){i("qL+f")},"data-v-373593cc",null).exports;if(void 0===window.Spartez||void 0===window.Spartez.Shared)throw"window.Spartez or window.Spartez.Shared is not set up";var zt=window.Spartez.Shared;function Kt(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Kt(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Yt={data:function(){return{shared:zt}},methods:$t($t({},Object(F.b)({sendNotification:tt.actions.SEND_NOTIFICATION})),{},{dispatchNotifications:function(){this.notifications.forEach(function(t){!1===t.dispatched&&this.sendNotification(t)}.bind(this))}}),computed:{notifications:function(){return this.shared.notifications}},watch:{notifications:function(t){this.dispatchNotifications()}},mounted:function(){this.dispatchNotifications()}},qt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Xt=i("VU/8")(Yt,qt,!1,null,null,null).exports;function Qt(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Zt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Qt(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var te={props:[""],data:function(){return{currentItem:null}},computed:{shouldShowCustomButtons:function(){return!!this.currentItem.buttons&&this.currentItem.buttons.length>0}},methods:Zt(Zt({},Object(F.b)({registerListener:tt.actions.ADD_LISTENER})),{},{close:function(t){this.currentItem=null,t&&t()}}),mounted:function(){this.registerListener({on:"MessageBox",handler:function(t){this.currentItem=t.payload||t}.bind(this)})}},ee={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.currentItem?i("div",{staticClass:"container"},[i("div",{staticClass:"dialog"},[i("div",{staticClass:"title"},[t._v(t._s(t.currentItem.title))]),t._v(" "),i("div",{staticClass:"body"},[t._v(t._s(t.currentItem.message))]),t._v(" "),i("div",{staticClass:"buttons"},[t._l(t.currentItem.buttons,function(e,n){return t.shouldShowCustomButtons?i("input",{staticClass:"popupbutton",attrs:{type:"button",name:"custom-button-"+n,value:e.title},on:{click:function(i){t.close(e.onClickHandler)}}}):t._e()}),t._v(" "),t.shouldShowCustomButtons?t._e():i("input",{staticClass:"popupbutton",attrs:{type:"button",name:"closebutton",value:"Close"},on:{click:function(e){t.close()}}})],2),t._v(" "),i("div",{staticClass:"clear"})])]):t._e()},staticRenderFns:[]};var ie,ne,ae,se,re=i("VU/8")(te,ee,!1,function(t){i("kEHW")},"data-v-07fbe68c",null).exports,oe=i("vGz6"),ce=i.n(oe),le=k({state:["HIERARCHY_STATE","AVAILABLE_JIRA_VALUES","IS_EPIC_TYPE_MAPPED","IS_EPIC_NAME_MAPPED","WAITING_FOR_RESPONSE","SELECTED_JIRA_LINK"],actions:["FETCH_HIERARCHY_STATE","UPDATE_HIERARCHY_STATE","SET_UP_SERVICE","HANDLE_ERROR"],mutations:["UPDATE_HIERARCHY_STATE","SET_AVAILABLE_JIRA_VALUES","SET_IS_EPIC_TYPE_MAPPED","SET_IS_EPIC_NAME_MAPPED","ENABLE_VIEW","DISABLE_VIEW","UPDATE_JIRA_LINK"],getters:["HIERARCHY_STATE","AVAILABLE_JIRA_VALUES","IS_EPIC_TYPE_MAPPED","IS_EPIC_NAME_MAPPED","JIRA_LINK_TITLE","WAITING_FOR_RESPONSE"],default:{TFS_LINK_TYPE:"Parent / Child Link"}}),ue=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"fetchHierarchy",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/mappings/hierarchy").then(function(t){e(t.data)},function(t){i(t)})})}},{key:"updateHierarchy",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/mappings/hierarchy",t).then(function(t){i(t.data)},function(t){n(t)})})}}]),t}())(M.a),pe=(ie={},y()(ie,le.actions.FETCH_HIERARCHY_STATE,function(t,e){return b()(O.a.mark(function e(){var i,n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,t.state,n=t.dispatch,e.prev=1,i(le.mutations.DISABLE_VIEW),e.next=5,ue.fetchHierarchy();case 5:a=e.sent,i(le.mutations.UPDATE_HIERARCHY_STATE,a.Hierarchy),i(le.mutations.SET_AVAILABLE_JIRA_VALUES,a.AvailableJiraValues),i(le.mutations.SET_IS_EPIC_TYPE_MAPPED,a.IsEpicTypeMapped),i(le.mutations.SET_IS_EPIC_NAME_MAPPED,a.IsEpicNameMapped),i(le.mutations.UPDATE_JIRA_LINK),i(le.mutations.ENABLE_VIEW),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),n(le.actions.HANDLE_ERROR,e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])}))()}),y()(ie,le.actions.UPDATE_HIERARCHY_STATE,function(t,e){return b()(O.a.mark(function i(){var n,a;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(le.mutations.DISABLE_VIEW),i.next=5,ue.updateHierarchy(e);case 5:n(le.mutations.UPDATE_JIRA_LINK),n(le.mutations.ENABLE_VIEW),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),a(le.actions.HANDLE_ERROR,i.t0);case 12:case"end":return i.stop()}},i,null,[[1,9]])}))()}),y()(ie,le.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(ue=e.service),void 0!==e.prefix&&(ue.backendUrl=e.prefix)}),y()(ie,le.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch,a=fe(e);i(le.mutations.ENABLE_VIEW),n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),ie),fe=function(t){var e="Unknown error occurred";return void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.Message?e=t.response.data.Message:void 0!==t.message&&(e=t.message),e},de={namespaced:!0,state:(ne={},y()(ne,le.state.HIERARCHY_STATE,{}),y()(ne,le.state.AVAILABLE_JIRA_VALUES,[]),y()(ne,le.state.IS_EPIC_TYPE_MAPPED,!1),y()(ne,le.state.IS_EPIC_NAME_MAPPED,!1),y()(ne,le.state.WAITING_FOR_RESPONSE,!1),y()(ne,le.state.SELECTED_JIRA_LINK,""),ne),getters:(ae={},y()(ae,le.getters.HIERARCHY_STATE,function(t){return t[le.state.HIERARCHY_STATE]}),y()(ae,le.getters.IS_EPIC_TYPE_MAPPED,function(t){return t[le.state.IS_EPIC_TYPE_MAPPED]}),y()(ae,le.getters.IS_EPIC_NAME_MAPPED,function(t){return t[le.state.IS_EPIC_NAME_MAPPED]}),y()(ae,le.getters.AVAILABLE_JIRA_VALUES,function(t){var e=t[le.state.AVAILABLE_JIRA_VALUES],i=t[le.state.HIERARCHY_STATE];return e.forEach(function(t){t.title=t.regularTitle,i.JiraLinkIsInverted&&(t.title=t.invertedTitle)}),e}),y()(ae,le.getters.JIRA_LINK_TITLE,function(t){return t[le.state.SELECTED_JIRA_LINK]}),y()(ae,le.getters.WAITING_FOR_RESPONSE,function(t){return t[le.state.WAITING_FOR_RESPONSE]}),ae),actions:pe,mutations:(se={},y()(se,le.mutations.UPDATE_HIERARCHY_STATE,function(t,e){t[le.state.HIERARCHY_STATE]=e}),y()(se,le.mutations.SET_AVAILABLE_JIRA_VALUES,function(t,e){e.forEach(function(t){t.regularTitle=t.LabelA+" / "+t.LabelB,t.invertedTitle=t.LabelB+" / "+t.LabelA}),e.unshift({regularTitle:"None",invertedTitle:"None",JiraLinkType:0,LabelA:"",LabelB:""}),t[le.state.AVAILABLE_JIRA_VALUES]=e}),y()(se,le.mutations.SET_IS_EPIC_NAME_MAPPED,function(t,e){t[le.state.IS_EPIC_NAME_MAPPED]=e}),y()(se,le.mutations.SET_IS_EPIC_TYPE_MAPPED,function(t,e){t[le.state.IS_EPIC_TYPE_MAPPED]=e}),y()(se,le.mutations.DISABLE_VIEW,function(t){t[le.state.WAITING_FOR_RESPONSE]=!0}),y()(se,le.mutations.ENABLE_VIEW,function(t){t[le.state.WAITING_FOR_RESPONSE]=!1}),y()(se,le.mutations.UPDATE_JIRA_LINK,function(t){var e=t[le.state.HIERARCHY_STATE];if(void 0!==e.Enabled){var i=t[le.state.AVAILABLE_JIRA_VALUES].find(function(t){return t.JiraLinkType===e.JiraLinkId});t[le.state.SELECTED_JIRA_LINK]=void 0===i||null===i?"":e.JiraLinkIsInverted?i.invertedTitle:i.regularTitle}}),se)},he=w("hierarchy",le);function Ee(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function ve(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Ee(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var _e={props:["profileGuid","loadOnInit","wizardView"],data:function(){return{mountCallback:function(){},issueTypeMappingId:null,currentJiraLinkId:null}},computed:Object(F.c)({selectedJiraLinkType:he.getters.JIRA_LINK_TITLE,hierarchyState:he.getters.HIERARCHY_STATE,availableJiraValues:he.getters.AVAILABLE_JIRA_VALUES,isEpicNameMapped:he.getters.IS_EPIC_NAME_MAPPED,isEpicTypeMapped:he.getters.IS_EPIC_TYPE_MAPPED,waitingForResponse:he.getters.WAITING_FOR_RESPONSE,imagePath:tt.getters.IMAGE_PATH}),components:{Notification:It},methods:ve(ve(ve({},Object(F.b)({setUpService:he.actions.SET_UP_SERVICE,updateHierarchy:he.actions.UPDATE_HIERARCHY_STATE,fetchHierarchy:he.actions.FETCH_HIERARCHY_STATE,registerListener:tt.actions.ADD_LISTENER})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.fetchHierarchy(),this.mountCallback();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),invertJiraLink:function(){this.hierarchyState.JiraLinkIsInverted=!this.hierarchyState.JiraLinkIsInverted},scrollDown:function(){ge()}}),watch:{hierarchyState:{handler:function(t,e){if(void 0!==e.Enabled){var i={JiraLinkTitle:me(this.availableJiraValues,this.hierarchyState.JiraLinkId)};this.updateHierarchy(ce()({},this.hierarchyState,i))}},deep:!0}},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles/"+this.profileGuid}),"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshHierarchyComponent",handler:function(t){this.initComponent()}.bind(this)}),this.registerListener({on:"SetIssueTypeMappingId",handler:function(t){this.issueTypeMappingId=t.id}.bind(this)}),this.registerListener({on:"FieldMappingChanged",handler:function(t){this.fetchHierarchy()}.bind(this)})}},me=function(t,e){if(!t)return"";var i=t.find(function(t){return t.JiraLinkType===e});return i?i.title:""},ge=function(){var t=document.getElementById("fields-mapping").getBoundingClientRect();window.scrollTo({top:document.body.scrollHeight-t.height,behavior:"smooth"}),window.Spartez.Shared.sendNotification("MapEpicName",{})},Ie={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.hierarchyState.Enabled?i("div",{class:{disabled:t.waitingForResponse}},[i("div",{staticClass:"hierarchy-group-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.Enabled,expression:"hierarchyState.Enabled"}],attrs:{type:"checkbox",id:"hierarchy-check-box"},domProps:{checked:Array.isArray(t.hierarchyState.Enabled)?t._i(t.hierarchyState.Enabled,null)>-1:t.hierarchyState.Enabled},on:{change:function(e){var i=t.hierarchyState.Enabled,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.hierarchyState.Enabled=i.concat([null])):s>-1&&(t.hierarchyState.Enabled=i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.hierarchyState,"Enabled",a)}}}),t._v(" "),i("label",{attrs:{for:"hierarchy-check-box"}},[t._v("Enable Hierarchy synchronization")])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.hierarchyState.Enabled?i("div",{staticClass:"hierarchy-container"},[i("div",{staticClass:"hierarchy-links"},[i("label",[t._v("Which Jira issue link type would you like to use to map TFS work items Parent/Child relation?")]),t._v(" "),i("div",{staticClass:"hierarchy-group-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.JiraLinkId,expression:"hierarchyState.JiraLinkId"}],attrs:{disabled:!t.hierarchyState.Enabled},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.hierarchyState,"JiraLinkId",e.target.multiple?i:i[0])}}},t._l(t.availableJiraValues,function(e){return i("option",{domProps:{value:e.JiraLinkType}},[t._v("\n                            "+t._s(e.title)+"\n                        ")])})),t._v(" "),i("button",{staticClass:"tfs4jira-rounded-button reverse",on:{click:function(e){t.invertJiraLink()}}},[i("img",{attrs:{src:t.imagePath+"reverse-icon.svg"}})])]),t._v(" "),i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[i("b",[t._v("The following links are not available inside Links Mapping from now on:")])]),t._v(" "),i("ul",[i("li",[t._v('TFS "Parent / Child" link')]),t._v(" "),""!==t.selectedJiraLinkType&&"None"!==t.selectedJiraLinkType?i("li",[t._v('Jira "'+t._s(t.selectedJiraLinkType)+'" link')]):t._e()])]),t._v(" "),i("div",{staticClass:"hierarchy-group-checkbox epic-check-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.UseEpicLinks,expression:"hierarchyState.UseEpicLinks"}],attrs:{type:"checkbox",id:"epic-link-used",disabled:!t.hierarchyState.Enabled},domProps:{checked:Array.isArray(t.hierarchyState.UseEpicLinks)?t._i(t.hierarchyState.UseEpicLinks,null)>-1:t.hierarchyState.UseEpicLinks},on:{change:function(e){var i=t.hierarchyState.UseEpicLinks,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.hierarchyState.UseEpicLinks=i.concat([null])):s>-1&&(t.hierarchyState.UseEpicLinks=i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.hierarchyState,"UseEpicLinks",a)}}}),t._v(" "),i("label",{attrs:{for:"epic-link-used"}},[t._v("For Jira Epics use Epic Link field \n                        "),"None"!==t.selectedJiraLinkType&&""!==t.selectedJiraLinkType?i("span",[t._v(" instead of "),i("b",[t._v(t._s(t.selectedJiraLinkType))])]):t._e(),t._v(".\n                    ")])])],1),t._v(" "),t.wizardView?t._e():i("div",[t.hierarchyState.UseEpicLinks&&!t.isEpicTypeMapped?i("notification",{staticClass:"important",attrs:{"icon-name":"exclamation-circle","icon-class":"attention-message"}},[i("p",[t._v(" Jira Epic issue is not mapped to any TFS work item.")]),t._v(" "),i("p",[i("a",{attrs:{href:t.contextPath()+"/Tfs/Index/"+t.profileGuid+"?mappings=1&mappingid="+t.issueTypeMappingId+"&subtasks=false"}},[t._v("Map now")])])]):t._e(),t._v(" "),t.hierarchyState.UseEpicLinks&&!t.isEpicNameMapped?i("notification",{staticClass:"important",attrs:{"icon-name":"exclamation-circle","icon-class":"attention-message"}},[i("p",[t._v(" Jira Epic Name field is not mapped to any TFS field.")]),t._v(" "),i("p",[i("a",{on:{click:function(e){t.scrollDown()}}},[t._v("Map now")])])]):t._e()],1)]):t._e()])],1):t._e()},staticRenderFns:[]};var Se,Ae,Te,Le,Ne=i("VU/8")(_e,Ie,!1,function(t){i("vAHb")},"data-v-2e8022c3",null).exports,Re=k({state:["AVAILABLE_JIRA_VALUES","AVAILABLE_TFS_VALUES","LOADER_VISIBLE","SELECTED_JIRA_FIELD","SELECTED_TFS_FIELD","MAPPINGS_GROUPS"],actions:["SET_UP_SERVICE","GET_AVAILABLE_VALUES","MAP","REMOVE_MAPPING","HANDLE_ERROR","SET_SELECTED_JIRA_FIELD","SET_SELECTED_TFS_FIELD","SET_DEFAULT_MAPPING"],mutations:["SHOW_LOADER","SET_MAPPINGS_VALUES","SET_SELECTED_JIRA_FIELD","SET_SELECTED_TFS_FIELD","UPDATE_MAPPINGS"],getters:["TFS_VALUES","JIRA_VALUES","MAPPINGS_GROUPS","IS_LOADER_VISIBLE","SELECTED_JIRA_FIELD","SELECTED_TFS_FIELD"],kinds:{JIRA:"JIRA",TFS:"TFS"}}),Oe=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/mappings/fields").then(function(i){200===i.status&&i.data&&e(t.fillAvailableValuesAndGroupMappings(i.data))},function(t){i(t)})})}},{key:"fillAvailableValuesAndGroupMappings",value:function(t){var e,i=this;if(t.Mappings){var n=t.Mappings;n.forEach(function(t){return i.wrapMappingForView(t)}),e=this.group(n)}return t.MappingsGroups&&(e=t.MappingsGroups),{jiraFields:t.JiraFieldsNames,tfsFields:t.TfsFieldsNames,groupedMappings:e}}},{key:"updateMappingDirection",value:function(t){return 1===t.Direction||"-tfs-to-jira"===t.Direction?t.Direction="-tfs-to-jira":2===t.Direction||"-jira-to-tfs"===t.Direction?t.Direction="-jira-to-tfs":t.Direction="-both",t}},{key:"group",value:function(t){var e=this,i=[];t.forEach(function(t){i.push(t)});var n=[];i.forEach(function(i){if(!n.find(function(t){return t.groupBy===i.TfsField.Key})){var a=t.filter(function(t){return t.TfsField.Key===i.TfsField.Key});if(a.length>1){var s=e.createNewGroup(a,i.TfsField.Key,"tfs");n.push(s)}}});var a=[];i.forEach(function(i){if(!a.find(function(t){return t.groupBy===i.JiraField.Key})){var n=t.filter(function(t){return t.JiraField.Key===i.JiraField.Key});if(n.length>1){var s=e.createNewGroup(n,i.JiraField.Key,"jira");a.push(s)}}});var s=n.concat(a);return i.forEach(function(t){if(!s.find(function(e){return e.groupBy===t.JiraField.Key||e.groupBy===t.TfsField.Key})){var i=e.createNewGroup([t],t.JiraField.Key,"none");s.push(i)}}),s.forEach(function(t){return e.updateMappingsInGroup(t)}),s}},{key:"addMapping",value:function(t,e,i,n,a){var s=this,r=s.backendUrl+"/mappings/fields?jiraField="+encodeURIComponent(t.Key)+"&tfsField="+encodeURIComponent(e.Key);return new At.a(function(o,c){s.http.post(r).then(function(r){if(r.data&&200===r.status){var c=s.createNewMapping(r.data),l=!1,u={};if(a.forEach(function(t){t.mappings.some(function(t){return t.JiraField.Key===c.JiraField.Key})?(l=!0,(u=t).groupBy=c.JiraField.Key,u.kind="jira"):t.mappings.some(function(t){return t.TfsField.Key===c.TfsField.Key})&&(l=!0,(u=t).groupBy=c.TfsField.Key,u.kind="tfs")}),l)s.addMappingToGroup(c,u.groupBy,a,u.kind);else{var p=s.createNewGroup([c],c.JiraField.Key,"none");s.updateMappingsInGroup(p),a.push(p)}s.sendNotificationIfEpicNameChanged(c),o({jiraFields:i.filter(function(e){return e.Key!==t.Key}),tfsFields:n.filter(function(t){return t.Key!==e.Key}),groupedMappings:a})}},function(t){c(t)})})}},{key:"removeMapping",value:function(t,e,i,n){var a=this;return new At.a(function(s,r){a.http.delete(a.backendUrl+"/mappings/fields/"+i.Id).then(function(r){r.data&&200===r.status&&(a.removeMappingFromGroup(i,n),a.pushToAvailableFields(i,n,e,t),a.sendNotificationIfEpicNameChanged(i),s({jiraFields:t,tfsFields:e,groupedMappings:n}))},function(t){r(t)})})}},{key:"setMappingAsDefault",value:function(t,e){var i=this;return new At.a(function(n,a){i.http.put(i.backendUrl+"/mappings/fields/"+t.Id+"/default").then(function(n){if(204===n.status)return e.find(function(e){return e.groupBy===t.groupId}).mappings.forEach(function(e){i.updateMappingDirection(e),e.Default=e.Id===t.Id}),{groupedMappings:e}},function(t){a(t)})})}},{key:"addMappingToGroup",value:function(t,e,i,n){var a=i.find(function(t){return t.groupBy===e});if(a){a.kind=n;var s="tfs"===n?t.TfsField.Key:t.JiraField.Key;a.groupBy=s,1!=a.mappings.length||a.mappings[0].Default||t.Default||this.setMappingAsDefault(a.mappings[0],i),a.mappings.push(t),a.mappings.forEach(function(t){return t.groupId=s}),this.updateMappingsInGroup(a)}}},{key:"removeMappingFromGroup",value:function(t,e){var i=e.find(function(e){return e.groupBy===t.groupId});if(i){if(i.mappings=Array.prototype.filter.call(i.mappings,function(e){return e.Id!==t.Id}),1===i.mappings.length){var n=i.mappings[0].JiraField.Key;i.kind="none",i.groupBy=n,i.mappings[0].groupId=n}i.mappings.length>0?this.updateMappingsInGroup(i):e=Array.prototype.filter.call(e,function(t){return t.groupBy!==i.groupBy})}}},{key:"pushToAvailableFields",value:function(t,e,i,n){var a=e.find(function(e){var i=e.mappings,n=i.some(function(e){return e.TfsField.Key===t.TfsField.Key}),a=i.some(function(e){return e.JiraField.Key===t.JiraField.Key});return n||a});a?(a.mappings.some(function(e){return e.JiraField.Key===t.JiraField.Key})||n.push({Key:t.JiraField.Key,Value:t.JiraField.Value}),a.mappings.some(function(e){return e.TfsField.Key===t.TfsField.Key})||i.push({Key:t.TfsField.Key,Value:t.TfsField.Value})):(n.push({Key:t.JiraField.Key,Value:t.JiraField.Value}),i.push({Key:t.TfsField.Key,Value:t.TfsField.Value}))}},{key:"sendNotificationIfEpicNameChanged",value:function(t){"Epic Name"===t.JiraField.Value&&window.Spartez.Shared.sendNotification("FieldMappingChanged",{})}},{key:"createNewMapping",value:function(t){var e=t;return this.wrapMappingForView(e),e}},{key:"createNewGroup",value:function(t,e,i){t.forEach(function(t){return t.groupId=e});var n={groupBy:e,mappings:t,kind:i};return this.enrichGroupForView(n),n}},{key:"enrichGroupForView",value:function(t){var e=t.mappings.find(function(t){return t.Default});t.Direction=e?e.Direction:"-both"}},{key:"updateMappingsInGroup",value:function(t){"tfs"===t.kind?t.mappings.forEach(function(e){return e.isLastInTfsGroup=t.mappings.indexOf(e)===t.mappings.length-1}):"jira"===t.kind?t.mappings.forEach(function(e){return e.isLastInJiraGroup=t.mappings.indexOf(e)===t.mappings.length-1}):(t.mappings[0].isLastInJiraGroup=!0,t.mappings[0].isLastInTfsGroup=!0),this.enrichGroupForView(t)}},{key:"wrapMappingForView",value:function(t){this.getHelpForMapping(t),this.updateMappingDirection(t)}},{key:"getHelpForMapping",value:function(t){t.JiraField.FieldInfo="",t.TfsField.FieldInfo="",0===t.JiraField.Key.indexOf("timetracking")&&(t.JiraField.FieldInfo="<ul><li>For Time Tracking fields in TFS type of <b>double</b> should be used. We assume that time in this fields will be stored in <b>hours</b>.</li><li><b>Logged time</b> in JIRA cannot be decreased so value of Logged Time in TFS that is lower than JIRA Logged Time won't be synchronized.</li><li>For best results <b>Original Estimate</b> and <b>Remaining Estimate</b> fields should be synchronized in pair or none at all because not synchronized field will be set to the same value as synchronized field anyway (but only in JIRA).</li></ul>"),"project"===t.JiraField.Key&&(t.JiraField.FieldInfo="Mapping of the <strong>Project</strong> JIRA field is not recommended. If you do use it, always map it to a TFS field containing a JIRA project key.<br><br><strong>This field must never be used with bi-directional synchronization, because it interferes with the Synchronizer's ability to find updated JIRA issues.</strong>"),"assignee"===t.JiraField.Key&&(t.JiraField.FieldInfo='User fields, such as <strong>assignee</strong> can be automatically mapped in JIRA and TFS, provided that both JIRA and TFS server are connected to the same Active Directory instance and therefore share their user account data. If this is not the case, please use the "Map Values" option.'),"###TFS4JIRA###.JIRA.Resolution"===t.JiraField.Key&&(t.JiraField.FieldInfo='In most of the cases JIRA <strong>Resolution</strong> field should be mapped to TFS <strong>Resolved Reason</strong> field - please <a href="https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+FAQ#TFS4JIRAFAQ-TowhichfieldinTFSshouldImapJiraResolutionfield?" target="_blank">refer to the documentation</a> for more informations.'),"System.Tags"===t.TfsField.Key&&(t.TfsField.FieldInfo="Tags field can be updated remotely since TFS 2013 Update 2 so in earlier versions of TFS this field won't be updated."),t.JiraField.HasInfo=""!==t.JiraField.FieldInfo,t.TfsField.HasInfo=""!==t.TfsField.FieldInfo,t.jiraInfoTooltip=t.JiraField.Key+"_tooltip",t.tfsInfoTooltip=t.TfsField.Key+"_tooltip"}}]),t}())(M.a),Ce=new z,be=(Se={},y()(Se,Re.actions.GET_AVAILABLE_VALUES,function(t){return b()(O.a.mark(function e(){var i,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(Re.mutations.SHOW_LOADER,!0),e.t0=i,e.t1=Re.mutations.SET_MAPPINGS_VALUES,e.next=7,Oe.getData();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(Re.mutations.SHOW_LOADER,!1),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(1),n(Re.actions.HANDLE_ERROR,e.t3);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))()}),y()(Se,Re.actions.MAP,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,n(Re.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=Re.mutations.SET_MAPPINGS_VALUES,i.next=7,Oe.addMapping(e.jiraField,e.tfsField,a[Re.state.AVAILABLE_JIRA_VALUES],a[Re.state.AVAILABLE_TFS_VALUES],a[Re.state.MAPPINGS_GROUPS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(Re.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),s(Re.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),y()(Se,Re.actions.REMOVE_MAPPING,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,n(Re.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=Re.mutations.SET_MAPPINGS_VALUES,i.next=7,Oe.removeMapping(a[Re.state.AVAILABLE_JIRA_VALUES],a[Re.state.AVAILABLE_TFS_VALUES],e.mapping,a[Re.state.MAPPINGS_GROUPS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(Re.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),s(Re.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),y()(Se,Re.actions.SET_DEFAULT_MAPPING,function(t,e){return b()(O.a.mark(function i(){var n,a,s;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,s=t.dispatch,i.prev=1,i.t0=n,i.t1=Re.mutations.UPDATE_MAPPINGS,i.next=6,Oe.setMappingAsDefault(e,a[Re.state.MAPPINGS_GROUPS]);case 6:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=13;break;case 10:i.prev=10,i.t3=i.catch(1),s(Re.actions.HANDLE_ERROR,i.t3);case 13:case"end":return i.stop()}},i,null,[[1,10]])}))()}),y()(Se,Re.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(Oe=e.service),void 0!==e.prefix&&(Oe.backendUrl=e.prefix)}),y()(Se,Re.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch,a=Ce.extractMessageFromErrorObject(e);i(Re.mutations.SHOW_LOADER,!1),n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),y()(Se,Re.actions.SET_SELECTED_JIRA_FIELD,function(t,e){var i=t.commit;t.dispatch;i(Re.mutations.SET_SELECTED_JIRA_FIELD,e)}),y()(Se,Re.actions.SET_SELECTED_TFS_FIELD,function(t,e){var i=t.commit;t.dispatch;i(Re.mutations.SET_SELECTED_TFS_FIELD,e)}),Se),Ve=(Ae={},y()(Ae,Re.state.MAPPINGS_GROUPS,[]),y()(Ae,Re.state.AVAILABLE_JIRA_VALUES,[]),y()(Ae,Re.state.AVAILABLE_TFS_VALUES,[]),y()(Ae,Re.state.LOADER_VISIBLE,!1),y()(Ae,Re.state.SELECTED_JIRA_FIELD,null),y()(Ae,Re.state.SELECTED_TFS_FIELD,null),Ae),ye=(Te={},y()(Te,Re.getters.TFS_VALUES,function(t){return void 0===t[Re.state.AVAILABLE_TFS_VALUES]?[]:at()(t[Re.state.AVAILABLE_TFS_VALUES]).sort(Fe)}),y()(Te,Re.getters.JIRA_VALUES,function(t){return void 0===t[Re.state.AVAILABLE_JIRA_VALUES]?[]:at()(t[Re.state.AVAILABLE_JIRA_VALUES]).sort(Fe)}),y()(Te,Re.getters.MAPPINGS_GROUPS,function(t,e){return t[Re.state.MAPPINGS_GROUPS]}),y()(Te,Re.getters.IS_LOADER_VISIBLE,function(t){return t[Re.state.LOADER_VISIBLE]}),y()(Te,Re.getters.SELECTED_JIRA_FIELD,function(t){return t[Re.state.SELECTED_JIRA_FIELD]}),y()(Te,Re.getters.SELECTED_TFS_FIELD,function(t){return t[Re.state.SELECTED_TFS_FIELD]}),Te),Fe=function(t,e){var i=t.Value.toUpperCase(),n=e.Value.toUpperCase();return i<n?-1:i>n?1:0},we={namespaced:!0,state:Ve,getters:ye,actions:be,mutations:(Le={},y()(Le,Re.mutations.SET_MAPPINGS_VALUES,function(t,e){void 0!==e.groupedMappings&&(t[Re.state.MAPPINGS_GROUPS]=e.groupedMappings),void 0!==e.jiraFields&&(t[Re.state.AVAILABLE_JIRA_VALUES]=e.jiraFields),void 0!==e.tfsFields&&(t[Re.state.AVAILABLE_TFS_VALUES]=e.tfsFields)}),y()(Le,Re.mutations.SHOW_LOADER,function(t,e){t[Re.state.LOADER_VISIBLE]=e}),y()(Le,Re.mutations.SET_SELECTED_JIRA_FIELD,function(t,e){t[Re.state.SELECTED_JIRA_FIELD]=void 0===e||null===e?null:e}),y()(Le,Re.mutations.SET_SELECTED_TFS_FIELD,function(t,e){t[Re.state.SELECTED_TFS_FIELD]=void 0===e||null===e?null:e}),y()(Le,Re.mutations.UPDATE_MAPPINGS,function(t,e){void 0!==e.groupedMappings&&(t[Re.state.MAPPINGS_GROUPS]=e.groupedMappings)}),Le)},ke=w("fieldsMapping",Re);function Pe(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function De(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Pe(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var je={data:function(){return{selectedTfsValue:null,selectedJiraValue:null}},computed:Object(F.c)({tfsFields:ke.getters.TFS_VALUES,jiraFields:ke.getters.JIRA_VALUES}),methods:De(De({},Object(F.b)({mapFields:ke.actions.MAP,setJiraSelectedValue:ke.actions.SET_SELECTED_JIRA_FIELD,setTfsSelectedValue:ke.actions.SET_SELECTED_TFS_FIELD,registerListener:tt.actions.ADD_LISTENER})),{},{addMapping:function(){null!==this.selectedJiraValue&&null!==this.selectedTfsValue&&(this.mapFields({jiraField:this.selectedJiraValue,tfsField:this.selectedTfsValue}),this.selectedTfsValue=null,this.selectedJiraValue=null)},disableMapButton:function(){return null===this.selectedJiraValue||null===this.selectedTfsValue},documentClick:function(t){Ue(t.target)||(this.selectedTfsValue=null,this.selectedJiraValue=null)}}),created:function(){document.addEventListener("click",this.documentClick)},destroyed:function(){document.removeEventListener("click",this.documentClick)},watch:{selectedJiraValue:function(t){this.setJiraSelectedValue(t)},selectedTfsValue:function(t){this.setTfsSelectedValue(t)}},mounted:function(){this.registerListener({on:"MapEpicName",handler:function(t){var e=this.jiraFields.find(function(t){return"Epic Name"===t.Value});e&&(this.selectedJiraValue=e)}.bind(this)})}},Ue=function(t){var e=document.getElementById("jiraFieldsSelect"),i=document.getElementById("tfsFieldsSelect"),n=t.parentElement;return t===e||t===i||n===e||n===i},xe={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tfs4jira-mapping-layout"},[t._m(0),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedJiraValue,expression:"selectedJiraValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"jiraFieldsSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedJiraValue=e.target.multiple?i:i[0]}}},t._l(t.jiraFields,function(e){return i("option",{key:e.Key,domProps:{value:e}},[t._v("\n                        "+t._s(e.Value)+"\n                    ")])}))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTfsValue,expression:"selectedTfsValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"tfsFieldsSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedTfsValue=e.target.multiple?i:i[0]}}},t._l(t.tfsFields,function(e){return i("option",{key:e.Key,domProps:{value:e}},[t._v("\n                        "+t._s(e.Value)+"\n                    ")])}))])])]),t._v(" "),i("button",{staticClass:"tfs4jira-mapping-map-button tfs4jira-rounded-button",attrs:{disabled:t.disableMapButton(),title:"Please select values for both JIRA and TFS to map them."},on:{click:function(e){t.addMapping()}}},[t._v("Map\n    ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tfs4jira-mapping-layout-row"},[e("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[e("h2",[this._v("Jira Fields")]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-header-note-jira"})]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[e("h2",[this._v("TFS Fields")]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-header-note-tfs"})])])}]},Me=i("VU/8")(je,xe,!1,null,null,null).exports,Ge=i("h/Ox"),Je=i.n(Ge);i("TOaT");function He(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Be(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?He(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):He(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}f.a.use(Je.a);var We={props:["groupLength","group","guid","isWizardView"],computed:Object(F.c)({selectedJiraField:ke.getters.SELECTED_JIRA_FIELD,selectedTfsField:ke.getters.SELECTED_TFS_FIELD,imagePath:tt.getters.IMAGE_PATH}),methods:Be(Be(Be({},Object(F.b)({removeMapping:ke.actions.REMOVE_MAPPING,mapFields:ke.actions.MAP,setJiraSelectedValue:ke.actions.SET_SELECTED_JIRA_FIELD,setTfsSelectedValue:ke.actions.SET_SELECTED_TFS_FIELD,setMappingAsDefault:ke.actions.SET_DEFAULT_MAPPING})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{editValues:function(t){this.isWizardView&&"true"===this.isWizardView?Ke(t):ze(this.contextPath(),this.guid,t.Id)},removeMappingFromGroup:function(t,e){this.removeMapping({mapping:t,group:e})},addJiraFieldToGroup:function(t,e){this.mapFields({jiraField:t,tfsField:e.TfsField}),this.setJiraSelectedValue(null)},addTfsFieldToGroup:function(t,e){this.mapFields({jiraField:e.JiraField,tfsField:t}),this.setTfsSelectedValue(null)},setAsDefault:function(t){this.setMappingAsDefault(t)}})},ze=function(t,e,i){window.location.href=t+"/Tfs/Index/"+e+"?mappings=1&mappingid="+i},Ke=function(t){$("#field-mapping-component").trigger("EditMappingButtonClicked",{jiraId:t.JiraField.Key,tfsId:t.TfsField.Key,mappingId:t.Id})},$e={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tbody",t._l(t.group.mappings,function(e,n){return i("tr",{key:e.Id},["jira"===t.group.kind&&0===n?i("td",{staticClass:"tfs4jira-mapping-row-left",attrs:{rowspan:t.groupLength}},[i("span",[t._v(" "+t._s(e.JiraField.Value)+" ")]),t._v(" "),e.JiraField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.jiraInfoTooltip},expression:"{html: mapping.jiraInfoTooltip}"}]},[i("icon",{staticClass:"field-info-icon",attrs:{name:"question-circle-o"}}),t._v(" "),i("div",{attrs:{id:e.jiraInfoTooltip},domProps:{innerHTML:t._s(e.JiraField.FieldInfo)}})],1):t._e()]):t._e(),t._v(" "),i("td",{directives:[{name:"show",rawName:"v-show",value:"jira"!==t.group.kind,expression:"group.kind !== 'jira'"}],staticClass:"tfs4jira-mapping-row-left"},[i("span",[t._v(" "+t._s(e.JiraField.Value)+" ")]),t._v(" "),e.JiraField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.jiraInfoTooltip},expression:"{html: mapping.jiraInfoTooltip}"}]},[i("icon",{staticClass:"field-info-icon",attrs:{name:"question-circle-o"}}),t._v(" "),i("div",{attrs:{id:e.jiraInfoTooltip},domProps:{innerHTML:t._s(e.JiraField.FieldInfo)}})],1):t._e(),t._v(" "),e.isLastInTfsGroup&&t.selectedJiraField?i("div",[i("span",{staticClass:"field-inline-link-button",on:{click:function(i){t.addJiraFieldToGroup(t.selectedJiraField,e)}}},[t._v(" + add selected field\n                ")])]):t._e()]),t._v(" "),i("td",{staticClass:"tfs4jira-mapping-row-direction"},[e.Default||"none"===t.group.kind?i("div",{class:"tfs4jira-mapping-row-direction"+e.Direction}):i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:"jira"===t.group.kind&&"-tfs-to-jira"!=e.Direction,expression:"group.kind === 'jira' && mapping.Direction != '-tfs-to-jira'"}],class:"tfs4jira-mapping-row-direction-jira-to-tfs"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"tfs"===t.group.kind&&"-jira-to-tfs"!=e.Direction,expression:"group.kind === 'tfs' && mapping.Direction != '-jira-to-tfs'"}],class:"tfs4jira-mapping-row-direction-tfs-to-jira"})])]),t._v(" "),"tfs"===t.group.kind&&0===n?i("td",{staticClass:"tfs4jira-mapping-row-right",attrs:{rowspan:t.groupLength}},[i("span",[t._v(" "+t._s(e.TfsField.Value)+" ")]),t._v(" "),e.TfsField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.tfsInfoTooltip},expression:"{html: mapping.tfsInfoTooltip}"}]},[i("icon",{staticClass:"field-info-icon",attrs:{name:"question-circle-o"}}),t._v(" "),i("div",{attrs:{id:e.tfsInfoTooltip},domProps:{innerHTML:t._s(e.TfsField.FieldInfo)}})],1):t._e()]):t._e(),t._v(" "),i("td",{directives:[{name:"show",rawName:"v-show",value:"tfs"!==t.group.kind,expression:"group.kind !== 'tfs'"}],staticClass:"tfs4jira-mapping-row-right"},[i("span",[t._v(" "+t._s(e.TfsField.Value)+" ")]),t._v(" "),e.TfsField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.tfsInfoTooltip},expression:"{html: mapping.tfsInfoTooltip}"}]},[i("icon",{staticClass:"field-info-icon",attrs:{name:"question-circle-o"}}),t._v(" "),i("div",{attrs:{id:e.tfsInfoTooltip},domProps:{innerHTML:t._s(e.TfsField.FieldInfo)}})],1):t._e(),t._v(" "),e.isLastInJiraGroup&&t.selectedTfsField?i("div",[i("span",{staticClass:"field-inline-link-button",on:{click:function(i){t.addTfsFieldToGroup(t.selectedTfsField,e)}}},[t._v(" + add selected field\n                ")])]):t._e()]),t._v(" "),i("td",{staticClass:"mapping-set-primary"},[i("span",{staticClass:"fields-mapping-group-settings"},[e.Default&&t.groupLength>1?i("div",{staticClass:"fields-mapping-default"},[t._v(" \n                    Primary \n                ")]):i("div",{directives:[{name:"show",rawName:"v-show",value:!t.selectedJiraField&&!t.selectedTfsField,expression:"!selectedJiraField && !selectedTfsField"}]},[t.group.mappings.length>1?i("a",{staticClass:"fields-mapping-set-default",on:{click:function(i){t.setAsDefault(e)}}},[t._v(" Set as primary")]):t._e()])])]),t._v(" "),i("td",{staticClass:"mapping-row-settings"},[i("div",{staticClass:"mapping-value-settings"},[i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-remove tfs4jira-rounded-button",attrs:{title:"Remove"},on:{click:function(i){t.removeMappingFromGroup(e,t.group)}}},[i("img",{attrs:{src:t.imagePath+"delete-icon.svg"}})]),t._v(" "),e.NeedsAttention?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.Id},expression:"{html: mapping.Id}"}],staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-edit tfs4jira-rounded-button mapping-needs-attention",on:{click:function(i){t.editValues(e)}}},[i("img",{attrs:{src:t.imagePath+"field-values-icon-active.svg"}}),t._v(" "),i("div",{attrs:{id:e.Id}},[3===e.MappingMode?i("span",[t._v("No users are currently mapped - define them using this button\n                            "),t.isWizardView?t._e():i("span",[t._v(" or enter Users Mapping tab")])]):i("span",[t._v("No values are currently mapped - define them using this button")])])]):i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-edit tfs4jira-rounded-button",attrs:{title:"Edit"},on:{click:function(i){t.editValues(e)}}},[i("img",{attrs:{src:t.imagePath+"field-values-icon.svg"}})])])])])}))},staticRenderFns:[]};var Ye=i("VU/8")(We,$e,!1,function(t){i("UkHx")},"data-v-1428d61c",null).exports;function qe(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Xe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):qe(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Qe={props:["profileGuid","loadOnInit","isWizardView"],data:function(){return{mountCallback:function(){}}},computed:Object(F.c)({selectedJiraField:ke.getters.SELECTED_JIRA_FIELD,selectedTfsField:ke.getters.SELECTED_TFS_FIELD,mappingsGroups:ke.getters.MAPPINGS_GROUPS,isLoaderVisible:ke.getters.IS_LOADER_VISIBLE}),methods:Xe(Xe(Xe({},Object(F.b)({setUpService:ke.actions.SET_UP_SERVICE,getAvailableValues:ke.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAvailableValues();case 2:this.mountCallback();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{FieldsMappingSelects:Me,FieldsMappingRow:Ye},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles/"+this.profileGuid}),this.loadOnInit&&"true"===this.loadOnInit&&!this.isWizardView&&this.initComponent(),this.registerListener({on:"RefreshFieldsMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Ze={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fields-mapping"},[i("div",{staticClass:"tfs4jira-mapping-container"},[i("fields-mapping-selects"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.mappingsGroups&&0===t.mappingsGroups.length,expression:"(mappingsGroups != undefined && mappingsGroups.length === 0)"}],staticClass:"tfs4jira-mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS fields that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},t._l(t.mappingsGroups,function(e,n){return i("fields-mapping-row",{key:n,attrs:{"is-wizard-view":t.isWizardView,group:e,guid:t.profileGuid,groupLength:e.mappings.length}})}))],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var ti,ei,ii=i("VU/8")(Qe,Ze,!1,function(t){i("W2he")},"data-v-af8ae446",null).exports,ni=i("gYgk"),ai=i.n(ni),si=i("ucJ4"),ri=i.n(si),oi=k({state:["CONFIGURATION","WAITING_FOR_RESPONSE","LOADING_MESSAGE","VIEW_NOTIFICATION"],actions:["FETCH","SAVE","CONFIRM_REMOVE","REMOVE","TEST","SET_UP_SERVICE","SET_VIEW_NOTIFICATION","HANDLE_ERROR"],mutations:["SET_CONFIGURATION","DISABLE_VIEW","ENABLE_VIEW","SET_VIEW_NOTIFICATION"],getters:["CONFIGURATION","WAITING_FOR_RESPONSE","LOADING_MESSAGE","VIEW_NOTIFICATION"]}),ci={LOADING_MESSAGES:{FETCH:"Fetching SMTP configuration",SAVE:"Saving SMTP configuration",REMOVE:"Removing SMTP configuration",TEST:"Sending test email to {EMAIL}"},VIEW_NOTIFICATIONS:{SAVED:{kind:"SUCCESS",text:"Configuration saved."},TEST_PASSED:{kind:"SUCCESS",text:"Test email successfully sent."},NONE:{kind:"NONE"},ERROR:{kind:"ERROR",text:"Unfortunately, error occurred. Please review and rectify:",error:""}}},li={Id:0,Name:"",FromEmailAddress:"",ToEmailAddress:"",EmailSubjectPrefix:"",SynchronizerUrl:null,HostName:"",Port:465,TimeoutInSeconds:30,UseSSL:!1,UserName:"",Password:""},ui=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"fetchConfiguration",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/notifications/smtp-configuration").then(function(t){200===t.status&&t.data&&e(t.data)},function(t){i(t)})})}},{key:"saveConfiguration",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration",t).then(function(t){200===t.status&&t.data&&setTimeout(function(){i(t.data)},500)},function(t){n(t)})})}},{key:"testConfiguration",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/test",t).then(function(t){204===t.status&&i()},function(t){n(t)})})}},{key:"removeConfiguration",value:function(t){var e=this;return new At.a(function(i,n){e.http.delete(e.backendUrl+"/notifications/smtp-configuration/"+t).then(function(t){204===t.status&&i(li)},function(t){n(t)})})}},{key:"disableConfiguration",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/"+t+"/disable").then(function(t){204===t.status&&i()},function(t){n(t)})})}},{key:"enableConfiguration",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/"+t+"/enable").then(function(t){204===t.status&&i()},function(t){n(t)})})}}]),t}(),pi=new z,fi=new ui(M.a),di=(ti={},y()(ti,oi.actions.FETCH,function(t){return b()(O.a.mark(function e(){var i,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(oi.mutations.DISABLE_VIEW,ci.LOADING_MESSAGES.FETCH),e.t0=i,e.t1=oi.mutations.SET_CONFIGURATION,e.next=7,fi.fetchConfiguration();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=14;break;case 11:e.prev=11,e.t3=e.catch(1),n(oi.actions.HANDLE_ERROR,e.t3);case 14:return e.prev=14,i(oi.mutations.ENABLE_VIEW),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))()}),y()(ti,oi.actions.SAVE,function(t){return b()(O.a.mark(function e(){var i,n,a,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,s=hi(n[oi.state.CONFIGURATION]),i(oi.mutations.SET_VIEW_NOTIFICATION,ci.VIEW_NOTIFICATIONS.NONE),i(oi.mutations.DISABLE_VIEW,ci.LOADING_MESSAGES.SAVE),e.t0=i,e.t1=oi.mutations.SET_CONFIGURATION,e.next=9,fi.saveConfiguration(s);case 9:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(oi.mutations.SET_VIEW_NOTIFICATION,ci.VIEW_NOTIFICATIONS.SAVED),e.next=17;break;case 14:e.prev=14,e.t3=e.catch(1),a(oi.actions.HANDLE_ERROR,e.t3);case 17:return e.prev=17,i(oi.mutations.ENABLE_VIEW),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}))()}),y()(ti,oi.actions.TEST,function(t){return b()(O.a.mark(function e(){var i,n,a,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,s=hi(n[oi.state.CONFIGURATION]),i(oi.mutations.SET_VIEW_NOTIFICATION,ci.VIEW_NOTIFICATIONS.NONE),i(oi.mutations.DISABLE_VIEW,ci.LOADING_MESSAGES.TEST.replace("{EMAIL}",s.ToEmailAddress)),e.next=7,fi.testConfiguration(s);case 7:i(oi.mutations.SET_VIEW_NOTIFICATION,ci.VIEW_NOTIFICATIONS.TEST_PASSED),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a(oi.actions.HANDLE_ERROR,e.t0);case 13:return e.prev=13,i(oi.mutations.ENABLE_VIEW),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}))()}),y()(ti,oi.actions.CONFIRM_REMOVE,function(t,e){t.commit;var i=t.dispatch;i(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Confirm",message:"Are you sure you want to remove SMTP configuration?",buttons:[{title:"Cancel"},{title:"Remove",onClickHandler:function(){i(oi.actions.REMOVE,e)}}]}},{root:!0})}),y()(ti,oi.actions.REMOVE,function(t,e){return b()(O.a.mark(function i(){var n,a;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.dispatch,i.prev=1,n(oi.mutations.DISABLE_VIEW,ci.LOADING_MESSAGES.REMOVE),i.t0=n,i.t1=oi.mutations.SET_CONFIGURATION,i.next=7,fi.removeConfiguration(e);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),a(oi.actions.HANDLE_ERROR,i.t3);case 14:return i.prev=14,n(oi.mutations.ENABLE_VIEW),i.finish(14);case 17:case"end":return i.stop()}},i,null,[[1,11,14,17]])}))()}),y()(ti,oi.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(fi=e.service),void 0!==e.prefix&&(fi.backendUrl=e.prefix)}),y()(ti,oi.actions.HANDLE_ERROR,function(t,e){t.dispatch;var i=t.commit,n=pi.extractMessageFromErrorObject(e),a=ce()({},ci.VIEW_NOTIFICATIONS.ERROR,{error:n});i(oi.mutations.SET_VIEW_NOTIFICATION,a)}),ti);function hi(t){return ce()({},t,{IsEnabled:t.Enabled})}var Ei,vi,_i={namespaced:!0,state:(ei={},y()(ei,oi.state.CONFIGURATION,{}),y()(ei,oi.state.VIEW_NOTIFICATION,{kind:"NONE",text:""}),y()(ei,oi.state.WAITING_FOR_RESPONSE,!1),y()(ei,oi.state.LOADING_MESSAGE,""),ei),getters:(Ei={},y()(Ei,oi.getters.CONFIGURATION,function(t){return t[oi.state.CONFIGURATION]}),y()(Ei,oi.getters.WAITING_FOR_RESPONSE,function(t){return t[oi.state.WAITING_FOR_RESPONSE]}),y()(Ei,oi.getters.LOADING_MESSAGE,function(t){return t[oi.state.LOADING_MESSAGE]}),y()(Ei,oi.getters.VIEW_NOTIFICATION,function(t){return t[oi.state.VIEW_NOTIFICATION]}),Ei),actions:di,mutations:(vi={},y()(vi,oi.mutations.SET_CONFIGURATION,function(t,e){void 0!==e&&(t[oi.state.CONFIGURATION]=e,t[oi.state.CONFIGURATION].Enabled=t[oi.state.CONFIGURATION].IsEnabled)}),y()(vi,oi.mutations.DISABLE_VIEW,function(t,e){t[oi.state.WAITING_FOR_RESPONSE]=!0,t[oi.state.LOADING_MESSAGE]=e}),y()(vi,oi.mutations.ENABLE_VIEW,function(t){t[oi.state.WAITING_FOR_RESPONSE]=!1}),y()(vi,oi.mutations.SET_VIEW_NOTIFICATION,function(t,e){t[oi.state.VIEW_NOTIFICATION]=e}),vi)},mi=w("SmtpConfiguration",oi);function gi(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ii(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):gi(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Si="This field is required",Ai=["FromEmailAddress","ToEmailAddress","HostName","UserName","Password","Port","TimeoutInSeconds"],Ti={props:["loadOnInit"],data:function(){return{mountCallback:function(){},formErrors:{}}},computed:Ii(Ii({},Object(F.c)({configuration:mi.getters.CONFIGURATION,waitingForResponse:mi.getters.WAITING_FOR_RESPONSE,loadingMessage:mi.getters.LOADING_MESSAGE,imagePath:tt.getters.IMAGE_PATH,viewNotification:mi.getters.VIEW_NOTIFICATION})),{},{isDisabled:function(){return!this.configuration.IsEnabled&&this.configuration.Id},isConfigurationFetched:function(){return void 0!==this.configuration.Id}}),components:{Notification:It},methods:Ii(Ii(Ii({},Object(F.b)({setUpService:mi.actions.SET_UP_SERVICE,getConfiguration:mi.actions.FETCH,saveConfiguration:mi.actions.SAVE,testConfiguration:mi.actions.TEST,removeConfiguration:mi.actions.CONFIRM_REMOVE,disableConfiguration:mi.actions.DISABLE,enableConfiguration:mi.actions.ENABLE,registerListener:tt.actions.ADD_LISTENER})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getConfiguration();case 2:this.mountCallback();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveData:function(t){t.preventDefault(),this.formErrors=Ni(this.configuration),0===N()(this.formErrors).length?this.saveConfiguration(this.configuration):f.a.nextTick(Li)},test:function(){this.formErrors=Ni(this.configuration),0===N()(this.formErrors).length?this.testConfiguration(this.configuration):f.a.nextTick(Li)}}),watch:{configuration:function(t){null===t.SynchronizerUrl&&(t.SynchronizerUrl=function(t){if(window.location.hostname.startsWith("localhost")||window.location.hostname.startsWith("127.0.0."))return"";if(!window.location.origin)return"";return window.location.origin+t}(this.contextPath()))}},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"}),"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefresSmtpConfigurationComponent",handler:function(t){this.initComponent()}.bind(this)})}};function Li(){$("html, body").animate({scrollTop:ri()($(".form-error:visible").offset().top-100)},300)}function Ni(t){var e={};return Ai.forEach(function(i){t[i]||(e[i]=Si)}),ai()(e)}var Ri={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("h1",[t._v("Mail Notifications "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}]},[t._v("(Disabled)")])]),t._v(" "),i("form",{attrs:{method:"post"},on:{submit:t.saveData}},[i("notification",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}],staticClass:"warning",attrs:{"icon-name":"exclamation-triangle"}},[i("p",[t._v(" You will not receive email notifications if this configuration is disabled.")])]),t._v(" "),t.viewNotification&&"NONE"!==t.viewNotification.kind?i("notification",{attrs:{kind:t.viewNotification.kind}},[i("p",[i("b",[t._v(t._s(t.viewNotification.text))])]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.viewNotification.error,expression:"viewNotification.error"}],staticClass:"error-text"},[t._v(t._s(t.viewNotification.error))])]):t._e(),t._v(" "),i("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.isConfigurationFetched,expression:"isConfigurationFetched"}]},[t._m(0),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(1),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.FromEmailAddress,expression:"configuration.FromEmailAddress"}],attrs:{type:"text",id:"from-address"},domProps:{value:t.configuration.FromEmailAddress},on:{input:function(e){e.target.composing||t.$set(t.configuration,"FromEmailAddress",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("The default address this server will use to send emails from.")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.FromEmailAddress,expression:"formErrors.FromEmailAddress"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.FromEmailAddress))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(2),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.ToEmailAddress,expression:"configuration.ToEmailAddress"}],attrs:{type:"text",id:"to-address"},domProps:{value:t.configuration.ToEmailAddress},on:{input:function(e){e.target.composing||t.$set(t.configuration,"ToEmailAddress",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("The default address this server will use to send emails to.")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.ToEmailAddress,expression:"formErrors.ToEmailAddress"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.ToEmailAddress))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"email-prefix"}},[t._v("Email subject prefix")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.EmailSubjectPrefix,expression:"configuration.EmailSubjectPrefix"}],attrs:{type:"text",id:"email-prefix"},domProps:{value:t.configuration.EmailSubjectPrefix},on:{input:function(e){e.target.composing||t.$set(t.configuration,"EmailSubjectPrefix",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("Optional. This prefix will be prepended to all outgoing email subjects.")])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"synchronizer-url"}},[t._v("This Synchronizer's URL")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.SynchronizerUrl,expression:"configuration.SynchronizerUrl"}],attrs:{type:"text",id:"synchronizer-url"},domProps:{value:t.configuration.SynchronizerUrl},on:{input:function(e){e.target.composing||t.$set(t.configuration,"SynchronizerUrl",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("Optional. This URL will be included in email footer.")])])])]),t._v(" "),i("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.isConfigurationFetched,expression:"isConfigurationFetched"}]},[t._m(3),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(4),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.HostName,expression:"configuration.HostName"}],attrs:{type:"text",id:"host-name"},domProps:{value:t.configuration.HostName},on:{input:function(e){e.target.composing||t.$set(t.configuration,"HostName",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.HostName,expression:"formErrors.HostName"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.HostName))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(5),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Port,expression:"configuration.Port"}],attrs:{type:"number",min:"0",step:"1",id:"port"},domProps:{value:t.configuration.Port},on:{input:function(e){e.target.composing||t.$set(t.configuration,"Port",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.Port,expression:"formErrors.Port"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.Port))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(6),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.TimeoutInSeconds,expression:"configuration.TimeoutInSeconds"}],attrs:{type:"number",min:"0",step:"1",id:"timeout"},domProps:{value:t.configuration.TimeoutInSeconds},on:{input:function(e){e.target.composing||t.$set(t.configuration,"TimeoutInSeconds",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.TimeoutInSeconds,expression:"formErrors.TimeoutInSeconds"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.TimeoutInSeconds))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"ssl"}},[t._v("SSL")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.UseSSL,expression:"configuration.UseSSL"}],attrs:{type:"checkbox",id:"ssl"},domProps:{checked:Array.isArray(t.configuration.UseSSL)?t._i(t.configuration.UseSSL,null)>-1:t.configuration.UseSSL},on:{change:function(e){var i=t.configuration.UseSSL,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.configuration.UseSSL=i.concat([null])):s>-1&&(t.configuration.UseSSL=i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.configuration,"UseSSL",a)}}})])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(7),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.UserName,expression:"configuration.UserName"}],attrs:{type:"text",id:"user-name"},domProps:{value:t.configuration.UserName},on:{input:function(e){e.target.composing||t.$set(t.configuration,"UserName",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.UserName,expression:"formErrors.UserName"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.UserName))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(8),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Password,expression:"configuration.Password"}],attrs:{type:"password",id:"password"},domProps:{value:t.configuration.Password},on:{input:function(e){e.target.composing||t.$set(t.configuration,"Password",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.Password,expression:"formErrors.Password"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.Password))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"flex-input"},[i("label",{attrs:{for:"is-enabled"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Enabled,expression:"configuration.Enabled"}],attrs:{type:"checkbox",id:"is-enabled"},domProps:{checked:Array.isArray(t.configuration.Enabled)?t._i(t.configuration.Enabled,null)>-1:t.configuration.Enabled},on:{change:function(e){var i=t.configuration.Enabled,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.configuration.Enabled=i.concat([null])):s>-1&&(t.configuration.Enabled=i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.configuration,"Enabled",a)}}}),t._v("\n                        Configuration enabled\n                    ")])])])]),t._v(" "),i("div",{staticClass:"splitter"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.waitingForResponse,expression:"waitingForResponse"}],staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col spinning-wheel"},[i("img",{attrs:{src:t.imagePath+"ajax-loader.gif"}}),t._v(" "),i("span",[t._v(t._s(t.loadingMessage))])])]),t._v(" "),t.isConfigurationFetched&&!t.waitingForResponse?i("fieldset",{staticClass:"form-footer"},[i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col buttons"},[t._m(9),t._v(" "),i("input",{staticClass:"col-button",attrs:{type:"button",value:"Test"},on:{click:function(e){t.test()}}})])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col"},[i("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.configuration.Id,expression:"configuration.Id !== 0"}]},[t._v("\n                        If you would like to remove this SMTP configuration, click "),i("span",{staticClass:"inline-button",on:{click:function(e){t.removeConfiguration(t.configuration.Id)}}},[t._v("here")]),t._v(".\n                        "),i("br"),t._v(" Keep in mind that you will need to fill out this form again to enable Mail Notifications.\n                    ")])])])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n                Use this form to setup SMTP mail server. This server will be used to send notifications about errors and warnings encountered in the Synchronizer."),e("br"),this._v(" "),e("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/Mail+Notifications",target:"_blank"}},[this._v("Learn more about Mail Notifications")]),this._v(".\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"from-address"}},[this._v("From address "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"from-address"}},[this._v("To address "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",[e("h4",[this._v("SMTP Server")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"host-name"}},[this._v("SMTP host "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"port"}},[this._v("SMTP port "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"timeout"}},[this._v("Timeout (s) "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"user-name"}},[this._v("Username "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"password"}},[this._v("Password "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-button"},[e("input",{attrs:{type:"submit",value:"Save"}})])}]};var Oi,Ci,bi,Vi,yi=i("VU/8")(Ti,Ri,!1,function(t){i("6edX")},"data-v-0f0d1bdc",null).exports,Fi=k({state:["LOGGING_EVENTS","WAITING_FOR_RESPONSE","IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE","IS_SMTP_CONFIGURATION_ENABLED"],actions:["FETCH_LOGGING_EVENTS","SET_UP_SERVICE","HANDLE_ERROR","DELETE_BY_ID","CONFIRM_DELETE_ALL","DELETE_LOGGING_EVENTS"],mutations:["SET_LOGGING_EVENTS","DELETE_LOGGING_EVENT_BY_ID","CLEAR_LOGGING_EVENTS","WAIT_FOR_DELETE_RESPONSE","STOP_WAIT_FOR_DELETE_RESPONSE","SET_SMTP_CONFIGURATION_STATE"],getters:["LOGGING_EVENTS","WAITING_FOR_RESPONSE","IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE","IS_SMTP_CONFIGURATION_ENABLED"]}),wi=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/notifications/loggingEvents").then(function(i){if(200===i.status&&i.data){var n=at()(i.data).sort(t.sortByFirstOccurence);e(n)}},function(t){i(t)})})}},{key:"removeLoggingEventById",value:function(t){var e=this;return new At.a(function(i,n){e.http.delete(e.backendUrl+"/notifications/loggingEvents/"+t).then(function(e){204===e.status&&i(t)},function(t){n(t)})})}},{key:"removeLoggingEvents",value:function(t){var e=this,i=t.map(function(t){return t.Id});return new At.a(function(t,n){e.http.post(e.backendUrl+"/notifications/loggingEvents/remove",i).then(function(e){204===e.status&&t()},function(t){n(t)})})}},{key:"sortByFirstOccurence",value:function(t,e){var i=t.FirstOccurenceTime,n=e.FirstOccurenceTime;return i<n?-1:i>n?1:0}}]),t}())(M.a),ki=new ui(M.a),Pi=new z,Di=(Oi={},y()(Oi,Fi.actions.FETCH_LOGGING_EVENTS,function(t){return b()(O.a.mark(function e(){var i,n,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,n[Fi.state.WAITING_FOR_RESPONSE]=!0,e.t0=i,e.t1=Fi.mutations.SET_SMTP_CONFIGURATION_STATE,e.next=7,ki.fetchConfiguration();case 7:return e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.t3=i,e.t4=Fi.mutations.SET_LOGGING_EVENTS,e.next=13,wi.getData();case 13:e.t5=e.sent,(0,e.t3)(e.t4,e.t5),n[Fi.state.WAITING_FOR_RESPONSE]=!1,e.next=21;break;case 18:e.prev=18,e.t6=e.catch(1),a(Fi.actions.HANDLE_ERROR,e.t6);case 21:case"end":return e.stop()}},e,null,[[1,18]])}))()}),y()(Oi,Fi.actions.DELETE_BY_ID,function(t,e){return b()(O.a.mark(function i(){var n,a;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(Fi.mutations.WAIT_FOR_DELETE_RESPONSE,e),i.t0=n,i.t1=Fi.mutations.DELETE_LOGGING_EVENT_BY_ID,i.next=7,wi.removeLoggingEventById(e);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(Fi.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,e),i.next=16;break;case 12:i.prev=12,i.t3=i.catch(1),n(Fi.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,e),a(Fi.actions.HANDLE_ERROR,i.t3);case 16:case"end":return i.stop()}},i,null,[[1,12]])}))()}),y()(Oi,Fi.actions.CONFIRM_DELETE_ALL,function(t,e){t.commit;var i=t.dispatch;i(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Confirm",message:"Are you sure you want to clear all errors?",buttons:[{title:"Cancel"},{title:"Clear",onClickHandler:function(){i(Fi.actions.DELETE_LOGGING_EVENTS)}}]}},{root:!0})}),y()(Oi,Fi.actions.DELETE_LOGGING_EVENTS,function(t){return b()(O.a.mark(function e(){var i,n,a,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,s=n[Fi.state.LOGGING_EVENTS],n[Fi.state.WAITING_FOR_RESPONSE]=!0,e.t0=i,e.t1=Fi.mutations.CLEAR_LOGGING_EVENTS,e.next=8,wi.removeLoggingEvents(s);case 8:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),n[Fi.state.WAITING_FOR_RESPONSE]=!1,e.next=16;break;case 13:e.prev=13,e.t3=e.catch(1),a(Fi.actions.HANDLE_ERROR,e.t3);case 16:case"end":return e.stop()}},e,null,[[1,13]])}))()}),y()(Oi,Fi.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(wi=e.service),void 0!==e.smtpConfigurationService&&(ki=e.smtpConfigurationService),void 0!==e.prefix&&(wi.backendUrl=e.prefix,ki.backendUrl=e.prefix)}),y()(Oi,Fi.actions.HANDLE_ERROR,function(t,e){t.commit;var i=t.state,n=t.dispatch;i[Fi.state.WAITING_FOR_RESPONSE]=!1;var a=Pi.extractMessageFromErrorObject(e);n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),Oi),ji={namespaced:!0,state:(Ci={},y()(Ci,Fi.state.LOGGING_EVENTS,null),y()(Ci,Fi.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE,[]),y()(Ci,Fi.state.WAITING_FOR_RESPONSE,!1),y()(Ci,Fi.state.IS_SMTP_CONFIGURATION_ENABLED,!1),Ci),getters:(bi={},y()(bi,Fi.getters.LOGGING_EVENTS,function(t){return t[Fi.state.LOGGING_EVENTS]}),y()(bi,Fi.getters.WAITING_FOR_RESPONSE,function(t){return t[Fi.state.WAITING_FOR_RESPONSE]}),y()(bi,Fi.getters.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE,function(t){return t[Fi.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE]}),y()(bi,Fi.getters.IS_SMTP_CONFIGURATION_ENABLED,function(t){return t[Fi.state.IS_SMTP_CONFIGURATION_ENABLED]}),bi),actions:Di,mutations:(Vi={},y()(Vi,Fi.mutations.SET_LOGGING_EVENTS,function(t,e){t[Fi.state.LOGGING_EVENTS]=e}),y()(Vi,Fi.mutations.DELETE_LOGGING_EVENT_BY_ID,function(t,e){var i=t[Fi.state.LOGGING_EVENTS];t[Fi.state.LOGGING_EVENTS]=i.filter(function(t){return t.Id!==e})}),y()(Vi,Fi.mutations.CLEAR_LOGGING_EVENTS,function(t){t[Fi.state.LOGGING_EVENTS]=[]}),y()(Vi,Fi.mutations.WAIT_FOR_DELETE_RESPONSE,function(t,e){t[Fi.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE].push(e)}),y()(Vi,Fi.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,function(t,e){var i=t[Fi.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE];t[Fi.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE]=i.filter(function(t){return t!==e})}),y()(Vi,Fi.mutations.SET_SMTP_CONFIGURATION_STATE,function(t,e){var i=0!=e.Id,n=e.IsEnabled;t[Fi.state.IS_SMTP_CONFIGURATION_ENABLED]=i&&n}),Vi)},Ui=w("loggingEvents",Fi),xi=i("PJh5"),Mi=i.n(xi);function Gi(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ji(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Gi(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Hi={props:["loggingEvent"],data:function(){return{collapsed:!0}},components:{Notification:It},computed:Ji(Ji({},Object(F.c)({imagePath:tt.getters.IMAGE_PATH,rowsWaitingForDelete:Ui.getters.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE})),{},{loggingEventLevel:function(){return"WARN"==this.loggingEvent.EventLevel?"WARNING":"ERROR"},shortMessage:function(){return this.loggingEvent.Message.length>500?this.loggingEvent.Message.substring(0,500)+"...":""},firstOccurenceTime:function(){return Mi()(this.loggingEvent.FirstOccurenceTime).format("YYYY-MM-DD HH:mm:ssZ")},lastOccurenceTime:function(){return Mi()(this.loggingEvent.LastOccurenceTime).format("YYYY-MM-DD HH:mm:ssZ")},isWaitingForDeleteResponse:function(){return this.rowsWaitingForDelete.indexOf(this.loggingEvent.Id)>=0}}),methods:Ji(Ji({},Object(F.b)({removeById:Ui.actions.DELETE_BY_ID})),{},{expandMessage:function(){this.collapsed=!1},collapseMessage:function(){this.collapsed=!0}})},Bi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logging-event-row"},[i("notification",{attrs:{kind:t.loggingEventLevel,"icon-name":"none"}},[i("div",{staticClass:"logging-event-container",class:{disabled:t.isWaitingForDeleteResponse}},[i("div",{staticClass:"logging-event-message"},[""!==t.shortMessage&&t.collapsed?i("div",{staticClass:"logging-event-message-body"},[i("p",[i("pre",[t._v(t._s(t.shortMessage))])]),t._v(" "),i("span",{on:{click:function(e){t.expandMessage()}}},[t._v("Show more")])]):i("div",{staticClass:"logging-event-message-body"},[i("p",[i("pre",[t._v(t._s(t.loggingEvent.Message))])]),t._v(" "),""!==t.shortMessage?i("span",{on:{click:function(e){t.collapseMessage()}}},[t._v("Show less")]):t._e()]),t._v(" "),i("div",{staticClass:"logging-event-message-footer"},[i("span",[i("b",[t._v("Number of occurences:")]),t._v(" "+t._s(t.loggingEvent.MergedEventsCount))]),t._v(" "),i("span",[i("b",[t._v("First occurence:")]),t._v(" "+t._s(t.firstOccurenceTime))]),t._v(" "),i("span",[i("b",[t._v("Last occurence:")]),t._v(" "+t._s(t.lastOccurenceTime))])])]),t._v(" "),i("div",[i("img",{staticClass:"close-button",attrs:{src:t.imagePath+"delete-icon.svg"},on:{click:function(e){t.removeById(t.loggingEvent.Id)}}})])])])],1)},staticRenderFns:[]};var Wi=i("VU/8")(Hi,Bi,!1,function(t){i("Q7/d")},"data-v-07374bf8",null).exports;function zi(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ki(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):zi(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var $i={props:["loadOnInit"],computed:Object(F.c)({loggingEvents:Ui.getters.LOGGING_EVENTS,waitingForResponse:Ui.getters.WAITING_FOR_RESPONSE,isSmtpConfigurationEnabled:Ui.getters.IS_SMTP_CONFIGURATION_ENABLED,imagePath:tt.getters.IMAGE_PATH}),methods:Ki(Ki(Ki({},Object(F.b)({setUpService:Ui.actions.SET_UP_SERVICE,getLoggingEvents:Ui.actions.FETCH_LOGGING_EVENTS,removeLoggingEvents:Ui.actions.CONFIRM_DELETE_ALL})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLoggingEvents();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{LoggingEventRow:Wi,Notification:It},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"}),"true"===this.loadOnInit&&this.initComponent()}},Yi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loggingEvents?i("div",[i("notification",{directives:[{name:"show",rawName:"v-show",value:!t.isSmtpConfigurationEnabled,expression:"!isSmtpConfigurationEnabled"}],staticClass:"warning",attrs:{"icon-name":"exclamation-triangle"}},[i("p",[t._v(" \n                Errors will not be collected and listed until the "),i("a",{attrs:{href:t.contextPath()+"/Settings"}},[t._v("SMTP configuration")]),t._v(" is configured and enabled.\n            ")])]),t._v(" "),0!==t.loggingEvents.length?i("div",{staticClass:"logging-events-container"},[i("div",{staticClass:"rows-container"},[i("div",{staticClass:"rows-container-header"},[i("div",[t._v("\n                        Synchronizer encountered "+t._s(t.loggingEvents.length)+" error(s).\n                    ")]),t._v(" "),i("input",{attrs:{type:"button",value:"Clear all errors"},on:{click:function(e){t.removeLoggingEvents()}}})]),t._v(" "),t._l(t.loggingEvents,function(t){return i("logging-event-row",{key:t.Id,attrs:{loggingEvent:t}})})],2)]):i("div",{staticClass:"no-logging-events"},[t._v("\n            There are no errors.\n        ")])],1):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.waitingForResponse,expression:"waitingForResponse"}]},[i("div",{staticClass:"logging-events-load spinning-wheel"},[i("img",{attrs:{src:t.imagePath+"ajax-loader.gif"}}),t._v(" "),i("span",[t._v("Loading...")])])])])},staticRenderFns:[]};var qi=i("VU/8")($i,Yi,!1,function(t){i("xBJv")},"data-v-27a152f4",null).exports,Xi={computed:{isUserBrowserUnsupported:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ")>=0,i=t.indexOf("Trident/")>=0;return e||i}}},Qi={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isUserBrowserUnsupported,expression:"isUserBrowserUnsupported"}],staticClass:"main-container"},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("h1",[this._v("BROWSER NOT SUPPORTED")]),this._v(" "),e("p",[this._v("\n            The TFS4JIRA Synchronizer features are currently not supported in your browser.\n            Please try opening the application using the latest version of Chrome, Firefox, Safari, Opera or Edge."),e("br"),e("br"),this._v("\n            List of supported browsers is available\n            "),e("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+system+requirements",target:"_blank"}},[this._v("here")]),this._v(".\n        ")])])}]};var Zi,tn=i("VU/8")(Xi,Qi,!1,function(t){i("VBot")},"data-v-09c29a03",null).exports,en=k({actions:["SEND_EVENT","SET_UP_SERVICE"]}),nn=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"sendEvent",value:function(t){var e=this;return new At.a(function(i,n){e.http.post(e.backendUrl+"/notifications/support",t).then(function(t){},function(t){n(t)})})}}]),t}(),an=(new z,new nn(M.a)),sn={namespaced:!0,actions:(Zi={},y()(Zi,en.actions.SEND_EVENT,function(t,e){return b()(O.a.mark(function i(){var n;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.commit,n=t.dispatch,i.prev=1,i.next=4,an.sendEvent(e);case 4:i.next=9;break;case 6:i.prev=6,i.t0=i.catch(1),n(tt.actions.HANDLE_ERROR,i.t0,{root:!0});case 9:case"end":return i.stop()}},i,null,[[1,6]])}))()}),y()(Zi,en.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.prefix&&(an.backendUrl=e.prefix)}),Zi)},rn=w("supportActivity",en);i("Em2B"),i("OHUv"),i("wdG2");function on(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function cn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?on(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):on(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var ln={data:function(){return{SubmitFeature:{SupportType:"Submit feature request or report bug",EventType:"Clicked"},ContactUs:{SupportType:"Contact us (mailto)",EventType:"Clicked"},ReadDocumentation:{SupportType:"Link to TFS4JIRA documentation",EventType:"Clicked"}}},components:{icon:d.a},methods:cn(cn({},Object(F.b)({setUpService:rn.actions.SET_UP_SERVICE,sendEvent:rn.actions.SEND_EVENT})),Object(F.c)({contextPath:tt.getters.CONTEXT_PATH})),mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"})}},un={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-bar"},[i("div",[i("a",{attrs:{href:"https://spartez-software.atlassian.net/servicedesk/customer/portals",target:"_blank",title:"Submit a feature request or report a bug"},on:{click:function(e){t.sendEvent(t.SubmitFeature)}}},[i("icon",{attrs:{name:"comments"}})],1),t._v(" "),i("a",{attrs:{href:"support@spartez-software.com",title:"Contact us"},on:{click:function(e){t.sendEvent(t.ContactUs)}}},[i("icon",{attrs:{name:"envelope"}})],1),t._v(" "),i("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+Documentation+Home",target:"_blank",title:"TFS4JIRA documentation"},on:{click:function(e){t.sendEvent(t.ReadDocumentation)}}},[i("icon",{attrs:{name:"book"}})],1)])])},staticRenderFns:[]};var pn=i("VU/8")(ln,un,!1,function(t){i("UdFn")},"data-v-719e21e4",null).exports;i("nZeE");function fn(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function dn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):fn(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var hn=new Date("2019-02-25"),En={data:function(){return{stripeHiddenByUserManually:!1}},components:{Icon:d.a},computed:dn(dn({},Object(F.c)({cookieStore:tt.getters.GET_COOKIE_STORE,imagePath:tt.getters.IMAGE_PATH})),{},{shouldHideWebinarStripe:function(){if("function"!=typeof this.cookieStore)return!0;var t=new Date>hn;return this.cookieStore("WEBINAR_STRIPE_HIDDEN_BY_USER")||t}}),methods:{hide:function(){this.cookieStore("WEBINAR_STRIPE_HIDDEN_BY_USER",!0,{path:"/",expires:30}),this.stripeHiddenByUserManually=!0}}},vn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.shouldHideWebinarStripe&&!t.stripeHiddenByUserManually,expression:"!shouldHideWebinarStripe && !stripeHiddenByUserManually"}],staticClass:"stripe"},[i("a",{staticClass:"hide",on:{click:function(e){t.hide()}}},[i("icon",{attrs:{name:"close"}})],1),t._v(" "),i("p",[t._v("Sign up for 1 of the 2 free webinars & get a 10% discount for license purchase")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttons-bar"},[e("a",{attrs:{href:"https://campaigns.spartez-software.com/tfs4jiragetthemost?src=tfs4jirasynchronizer",target:"parent"}},[this._v("New to TFS4JIRA? Get the most out of your evaluation")]),this._v(" "),e("a",{attrs:{href:"https://campaigns.spartez-software.com/tfs4jirawhatscoming?src=tfs4jirasynchronizer",target:"parent"}},[this._v("Already using TFS4JIRA? Learn what's coming up")])])}]};var _n,mn,gn,In,Sn=i("VU/8")(En,vn,!1,function(t){i("vr85")},"data-v-2138830f",null).exports,An=k({state:["DEFAULT_VALUES","AVAILABLE_VALUES","SPECIAL_VALUES","LOADER_VISIBLE"],actions:["SET_UP_SERVICE","GET_DEFAULT_VALUES","SET_AVAILABLE_VALUES","UPDATE_DEFAULT_VALUES","HANDLE_ERROR"],mutations:["SET_DEFAULT_VALUES","SET_AVAILABLE_VALUES","SHOW_LOADER"],getters:["DEFAULT_VALUES","AVAILABLE_VALUES","SPECIAL_VALUES","IS_LOADER_VISIBLE"]}),Tn={},Ln=(_n={},y()(_n,An.actions.GET_DEFAULT_VALUES,function(t){return b()(O.a.mark(function e(){var i,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(An.mutations.SHOW_LOADER,!0),e.t0=i,e.t1=An.mutations.SET_DEFAULT_VALUES,e.next=7,Tn.getDefaultValues();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(An.mutations.SHOW_LOADER,!1),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(1),n(An.actions.HANDLE_ERROR,e.t3);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))()}),y()(_n,An.actions.SET_AVAILABLE_VALUES,function(t,e){return b()(O.a.mark(function i(){var n,a;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.commit,a=t.dispatch;try{n(An.mutations.SHOW_LOADER,!0),n(An.mutations.SET_AVAILABLE_VALUES,e),n(An.mutations.SHOW_LOADER,!1)}catch(t){a(An.actions.HANDLE_ERROR,t)}case 2:case"end":return i.stop()}},i)}))()}),y()(_n,An.actions.UPDATE_DEFAULT_VALUES,function(t,e){return b()(O.a.mark(function i(){var n,a;return O.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(An.mutations.SHOW_LOADER,!0),i.next=5,Tn.updateDefaultValues(e);case 5:n(An.mutations.SHOW_LOADER,!1),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),a(An.actions.HANDLE_ERROR,i.t0);case 11:case"end":return i.stop()}},i,null,[[1,8]])}))()}),y()(_n,An.actions.SET_UP_SERVICE,function(t,e){U()(t),void 0!==e.service&&(Tn=e.service),void 0!==e.prefix&&(Tn.backendUrl=e.prefix)}),y()(_n,An.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch;i(An.mutations.SHOW_LOADER,!1),n(tt.actions.HANDLE_ERROR,e,{root:!0})}),_n),Nn={namespaced:!0,state:(mn={},y()(mn,An.state.DEFAULT_VALUES,[]),y()(mn,An.state.AVAILABLE_VALUES,[]),y()(mn,An.state.SPECIAL_VALUES,[]),y()(mn,An.state.LOADER_VISIBLE,!1),mn),getters:(gn={},y()(gn,An.getters.DEFAULT_VALUES,function(t){return t[An.state.DEFAULT_VALUES]}),y()(gn,An.getters.AVAILABLE_VALUES,function(t){var e=t[An.state.AVAILABLE_VALUES],i=[],n=[];return 0!==e.length&&(e.forEach(function(t){return t.visible=!0}),i=e.filter(function(t){return"JIRA"===t.kind}).sort(P),n=e.filter(function(t){return"TFS"===t.kind}).sort(P)),{TfsValues:n,JiraValues:i}}),y()(gn,An.getters.SPECIAL_VALUES,function(t){return t[An.state.SPECIAL_VALUES]}),y()(gn,An.getters.IS_LOADER_VISIBLE,function(t){return t[An.state.LOADER_VISIBLE]}),gn),actions:Ln,mutations:(In={},y()(In,An.mutations.SET_DEFAULT_VALUES,function(t,e){void 0!==e.DefaultValues&&(t[An.state.DEFAULT_VALUES]=e.DefaultValues),void 0!==e.SpecialValues&&(t[An.state.SPECIAL_VALUES]=e.SpecialValues)}),y()(In,An.mutations.SET_AVAILABLE_VALUES,function(t,e){var i=at()(e).map(function(t){return ce()({},t)});t[An.state.AVAILABLE_VALUES]=i}),y()(In,An.mutations.SHOW_LOADER,function(t,e){t[An.state.LOADER_VISIBLE]=e}),In)},Rn=w("usersMapping",An),On=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/mappings/users").then(function(i){200===i.status&&i.data&&e(t.shapeDataFromWebService(i.data))},function(t){i(t)})})}},{key:"createItem",value:function(t,e,i){return{id:e+"_"+t,kind:t,key:e,label:i,visible:!0}}},{key:"shapeDataFromWebService",value:function(t){var e=this,i={};return Array.prototype.forEach.call(t.JiraUsers,function(t){var n=e.createItem("JIRA",t.Key,t.Value);i[n.id]=n}),Array.prototype.forEach.call(t.TfsUsers,function(t){var n=e.createItem("TFS",t.Key,t.Value);i[n.id]=n}),this.hideListItemsAndEnrichMappings(i,t.Mappings)}},{key:"hideListItemsAndEnrichMappings",value:function(t,e){return at()(t).forEach(function(t){t.visible=!0}),e.forEach(function(e){at()(t).forEach(function(t){"JIRA"===t.kind&&t.key===e.JiraUserKey&&(t.visible=!1),"TFS"===t.kind&&t.key===e.TfsUserKey&&(t.visible=!1)}),e.jiraTitle=e.JiraUserValue,e.tfsTitle=e.TfsUserValue,e.duringProcessing=!1}),{available:t,mappings:e}}},{key:"addMapping",value:function(t,e,i,n){var a=this;return new At.a(function(s,r){a.http.post(a.backendUrl+"/mappings/users",{JiraUserKey:t.key,JiraUserValue:t.label,TfsUserKey:e.key,TfsUserValue:e.label}).then(function(t){200===t.status&&t.data&&(n.push(t.data),s(a.hideListItemsAndEnrichMappings(i,n)))},function(t){r(t)})})}},{key:"removeMapping",value:function(t,e,i){var n=this;return new At.a(function(a,s){n.http.delete(n.backendUrl+"/mappings/users/"+i.Id).then(function(s){200===s.status&&!0===s.data&&(e=e.filter(function(t){return t.Id!==i.Id}),a(n.hideListItemsAndEnrichMappings(t,e)))},function(t){s(t)})})}},{key:"getDefaultValues",value:function(){var t=this;return new At.a(function(e,i){t.http.get(t.backendUrl+"/mappings/users/defaults").then(function(i){200===i.status&&i.data&&e(t.wrapDefaultValues(i.data))},function(t){i(t)})})}},{key:"wrapDefaultValues",value:function(t){var e,i=this,n=t.DefaultValues,a=[];return Array.prototype.forEach.call(t.SpecialValues,function(t){var e=i.createItem("JIRA",t.Key,t.Value);a.push(e);var n=i.createItem("TFS",t.Key,t.Value);a.push(n)}),{DefaultValues:(e=n,{JiraValue:i.createItem("JIRA",e.JiraUserKey,e.JiraUserValue),TfsValue:i.createItem("TFS",e.TfsUserKey,e.TfsUserValue)}),SpecialValues:a}}},{key:"updateDefaultValues",value:function(t){var e=this;return new At.a(function(i,n){e.http.put(e.backendUrl+"/mappings/users/defaults",t).then(function(t){204===t.status&&i()},function(t){n(t)})})}}]),t}();function Cn(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function bn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):Cn(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Vn={props:{profileGuid:String,contextPath:String,loadOnInit:String},computed:bn(bn({},Object(F.c)({defaultValues:Rn.getters.DEFAULT_VALUES,availableValues:Rn.getters.AVAILABLE_VALUES,specialValues:Rn.getters.SPECIAL_VALUES,waitingForResponse:Rn.getters.IS_LOADER_VISIBLE})),{},{defaultJiraValue:{get:function(){if(this.defaultValues.JiraValue)return this.defaultValues.JiraValue},set:function(t){t&&(this.updateDefaultValues({JiraUserKey:t.key,JiraUserValue:t.label,TfsUserKey:this.defaultTfsValue.key,TfsUserValue:this.defaultTfsValue.label}),this.defaultValues.JiraValue=t)}},defaultTfsValue:{get:function(){if(this.defaultValues.TfsValue)return this.defaultValues.TfsValue},set:function(t){t&&(this.updateDefaultValues({JiraUserKey:this.defaultJiraValue.key,JiraUserValue:this.defaultJiraValue.label,TfsUserKey:t.key,TfsUserValue:t.label}),this.defaultValues.TfsValue=t)}},jiraSpecialValues:{get:function(){return this.specialValues.filter(function(t){return"JIRA"===t.kind})}},tfsSpecialValues:{get:function(){return this.specialValues.filter(function(t){return"TFS"===t.kind})}}}),methods:bn(bn({},Object(F.b)({setUpService:Rn.actions.SET_UP_SERVICE,getDefaultValues:Rn.actions.GET_DEFAULT_VALUES,updateDefaultValues:Rn.actions.UPDATE_DEFAULT_VALUES})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new On(M.a)}),t.next=3,this.getDefaultValues();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),watch:{loadOnInit:{handler:function(t,e){t!=e&&"true"===t&&this.initComponent()}}},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent()}},yn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"default-mapping-row"},[i("div",{staticClass:"fieldlistleft"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.defaultJiraValue,expression:"defaultJiraValue"}],staticClass:"defaultvalue",attrs:{id:"default-jira-value",disabled:t.waitingForResponse},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.defaultJiraValue=e.target.multiple?i:i[0]}}},[i("optgroup",{attrs:{label:"Action"}},t._l(t.jiraSpecialValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),i("optgroup",{attrs:{label:"Set value"}},t._l(t.availableValues.JiraValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"default-mapping-row"},[t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"fieldlistright"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.defaultTfsValue,expression:"defaultTfsValue"}],staticClass:"defaultvalue",attrs:{id:"default-tfs-value",disabled:t.waitingForResponse},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.defaultTfsValue=e.target.multiple?i:i[0]}}},[i("optgroup",{attrs:{label:"Action"}},t._l(t.tfsSpecialValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),i("optgroup",{attrs:{label:"Set value"}},t._l(t.availableValues.TfsValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistmiddle"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-tfs-to-jira"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistright"},[e("i",[this._v("anything else")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistleft"},[e("i",[this._v("anything else")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistmiddle"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-jira-to-tfs"})])}]};var Fn=i("VU/8")(Vn,yn,!1,function(t){i("Xn7V")},"data-v-6eaa0c8b",null).exports;function wn(t,e){var i=N()(t);if(T.a){var n=T()(t);e&&(n=n.filter(function(e){return S()(t,e).enumerable})),i.push.apply(i,n)}return i}function kn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(i),!0).forEach(function(e){y()(t,e,i[e])}):g.a?_()(t,g()(i)):wn(Object(i)).forEach(function(e){E()(t,e,S()(i,e))})}return t}var Pn={props:["profileGuid","loadOnInit"],data:function(){return{mountCallback:function(){}}},computed:Object(F.c)({mappings:rt.getters.MAPPINGS,isLoaderVisible:rt.getters.IS_LOADER_VISIBLE,contextPath:tt.getters.CONTEXT_PATH}),methods:kn(kn({},Object(F.b)({setUpService:rt.actions.SET_UP_SERVICE,getAvailableValues:rt.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER,setAvailableValuesForDefaults:Rn.actions.SET_AVAILABLE_VALUES})),{},{initComponent:function(){var t=b()(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new On(M.a)}),t.next=3,this.getAvailableValues();case 3:e=t.sent,this.setAvailableValuesForDefaults(e.available),this.loadOnInit="true",this.mountCallback();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{MappingSelects:pt,MappingRow:vt,UsersMappingDefault:Fn},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshUsersMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Dn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("User Mapping")]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-container"},[i("mapping-selects",{attrs:{jiraSelectTitle:"Jira Users",tfsSelectTitle:"TFS Users"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.mappings&&0==t.mappings.length,expression:"(mappings && mappings.length == 0)"}],staticClass:"mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS users that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},[i("tbody",t._l(t.mappings,function(t){return i("mapping-row",{key:t.Id,attrs:{mapping:t}})}))]),t._v(" "),i("users-mapping-default",{attrs:{profileGuid:t.profileGuid,contextPath:t.contextPath,loadOnInit:t.loadOnInit}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var jn,Un=i("VU/8")(Pn,Dn,!1,function(t){i("bMcF")},"data-v-26f59d25",null).exports;f.a.use(F.a);var xn=new F.a.Store({modules:(jn={},y()(jn,"mappings",st),y()(jn,"hierarchy",de),y()(jn,"app",Z),y()(jn,"fieldsMapping",we),y()(jn,"SmtpConfiguration",_i),y()(jn,"loggingEvents",ji),y()(jn,"supportActivity",sn),y()(jn,"usersMapping",Nn),jn)});f.a.config.productionTip=!1,f.a.component("icon",d.a),Array.prototype.forEach.call(document.querySelectorAll(".vue-container"),function(t){new f.a({el:"#"+t.getAttribute("id"),store:xn,components:{LinkMapping:Ct,WizardSide:Wt,NotificationHandler:Xt,HealthStatusIndicator:wt,ProfileHealth:Ut,MessageBox:re,Hierarchy:Ne,Notification:It,FieldsMapping:ii,SmtpConfiguration:yi,LoggingEvents:qi,UnsupportedBrowserChecker:tn,SupportSideBar:pn,WebinarStripe:Sn,UsersMapping:Un}})})},"Q7/d":function(t,e){},TOaT:function(t,e){},UdFn:function(t,e){},UkHx:function(t,e){},VBot:function(t,e){},W2he:function(t,e){},Xn7V:function(t,e){},bMcF:function(t,e){},jSVj:function(t,e){},jxQI:function(t,e){},kEHW:function(t,e){},"qL+f":function(t,e){},uslO:function(t,e,i){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return i(s(t))}function s(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(n)},a.resolve=s,t.exports=a,a.id="uslO"},vAHb:function(t,e){},vRcm:function(t,e){},vr85:function(t,e){},wJNk:function(t,e){},xBJv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map