webpackJsonp([1],{"06kb":function(t,e){},"29ii":function(t,e){},"6edX":function(t,e){},D4uH:function(t,e,i){"use strict";let n={};var a={name:"fa-icon",props:{name:{type:String,validator:t=>!t||t in n||(console.warn(`Invalid prop: prop "name" is referring to an unregistered icon "${t}".`+"\nPlease make sure you have imported this icon before using it."),!1)},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:t=>"horizontal"===t||"vertical"===t},label:String},data:()=>({x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse,[this.$options.name]:!0}},icon(){return this.name?n[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:t,height:e}=this.icon;return Math.max(t,e)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let t=this.icon.raw,e={};return t=(t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(t,i,n)=>{let a=`fa-${(r++).toString(16)}`;return e[n]=a,` id="${a}"`})).replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,i,n,a)=>{let r=i||a;return r&&e[r]?`#${e[r]}`:t})}},mounted(){if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(this.icon)return;let t=0,e=0;this.$children.forEach(i=>{i.outerScale=this.normalizedScale,t=Math.max(t,i.width),e=Math.max(e,i.height)}),this.childrenWidth=t,this.childrenHeight=e,this.$children.forEach(i=>{i.x=(t-i.width)/2,i.y=(e-i.height)/2})},register(t){for(let e in t){let i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n[e]=i}},icons:n};let r=870711;var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,n){return i("path",t._b({key:"path-"+n},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,n){return i("polygon",t._b({key:"polygon-"+n},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[i("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]};var o=i("VU/8")(a,s,!1,function(t){i("jSVj")},null,null);e.a=o.exports},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a,r,s,o,l,c,u,f,p=i("7+uW"),d=i("D4uH"),h=(i("D/PP"),i("L8Ge")),v=i.n(h),E=i("pDAi"),m=i.n(E),_=i("rXUV"),g=i.n(_),I=i("0VsM"),T=i.n(I),S=i("4vMe"),A=i.n(S),F=i("6Cj1"),L=i.n(F),b=i("Tg6C"),N=i.n(b),y=i("GiJQ"),O=i.n(y),C=i("0VlM"),V=i.n(C),R=i("NYxO"),w=function(t,e){var i={};for(var n in e)if(-1!==["actions","state","getters"].indexOf(n))for(var a in i[n]={},e[n]){var r=e[n][a];i[n][r]=t+"/"+r}return i},k=function(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var a=t[i][n];e[i][a]=a}return e},P=function(t,e){var i=t.label.toUpperCase(),n=e.label.toUpperCase();return i<n?-1:i>n?1:0},D=k({state:["AVAILABLE_VALUES","LOADER_VISIBLE","MAPPINGS"],actions:["SET_UP_SERVICE","GET_AVAILABLE_VALUES","MAP","REMOVE_MAPPING","SWITCH_TFS_LINK","HANDLE_ERROR"],mutations:["SHOW_LOADER","SET_MAPPINGS_VALUES"],getters:["AVAILABLE_VALUES","TFS_VALUES","JIRA_VALUES","MAPPINGS","IS_LOADER_VISIBLE"],kinds:{JIRA:"JIRA",TFS:"TFS"}}),j=i("Pexg"),x=i.n(j),U=i("mtWM"),M=i.n(U),G=k({state:["NOTIFICATIONS","CONFIG","COOKIE_STORE","NOTIFICATIONS_LISTENERS"],actions:["SEND_NOTIFICATION","ADD_LISTENER","HANDLE_ERROR"],mutations:["ADD_NOTIFICATION","ASSIGN_LISTENER"],getters:["GET_NOTIFICATIONS","CONTEXT_PATH","IMAGE_PATH","GET_COOKIE_STORE"]}),J=i("6DPD"),H=i.n(J),B=i("OdJd"),W=i.n(B),z=function(){function t(){H()(this,t)}return W()(t,[{key:"extractMessageFromErrorObject",value:function(t){var e="Unknown error occurred";if(void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.Message)e=t.response.data.Message;else if(void 0!==t.message)e=t.message;else if("string"==typeof t)return t;return e}}]),t}(),K=new z,Y=(n={},V()(n,G.actions.SEND_NOTIFICATION,function(t,e){var i=t.commit,n=t.state[G.state.NOTIFICATIONS_LISTENERS];void 0!==n[e.receiver]&&n[e.receiver](e.payload),e.dispatched=!0,i(G.mutations.ADD_NOTIFICATION,e)}),V()(n,G.actions.ADD_LISTENER,function(t,e){var i=t.commit;t.state;i(G.mutations.ASSIGN_LISTENER,e)}),V()(n,G.actions.HANDLE_ERROR,function(t,e){var i=t.dispatch,n=K.extractMessageFromErrorObject(e);i(G.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:n}})}),n),q=(a={},V()(a,G.mutations.ADD_NOTIFICATION,function(t,e){"AppConfig"===e.receiver?X(t,e):"CookieStore"===e.receiver?Q(t,e):t[G.state.NOTIFICATIONS]=e}),V()(a,G.mutations.ASSIGN_LISTENER,function(t,e){t[G.state.NOTIFICATIONS_LISTENERS][e.on]=e.handler}),a),X=function(t,e){void 0!==e.payload.contextPath&&(t[G.state.CONFIG].contextPath=e.payload.contextPath)},Q=function(t,e){t[G.state.COOKIE_STORE]=e.payload.cookieStore},Z={namespaced:!0,state:(r={},V()(r,G.state.CONFIG,{contextPath:""}),V()(r,G.state.COOKIE_STORE,{}),V()(r,G.state.NOTIFICATIONS,{}),V()(r,G.state.NOTIFICATIONS_LISTENERS,{}),r),getters:(s={},V()(s,G.getters.GET_NOTIFICATIONS,function(t){return t[G.state.NOTIFICATIONS]}),V()(s,G.getters.CONTEXT_PATH,function(t){return t[G.state.CONFIG].contextPath}),V()(s,G.getters.IMAGE_PATH,function(t){return t[G.state.CONFIG].contextPath+"/Content/Images/"}),V()(s,G.getters.GET_COOKIE_STORE,function(t){return t[G.state.COOKIE_STORE]}),s),actions:Y,mutations:q},tt=w("app",G),et=(o={},V()(o,D.actions.GET_AVAILABLE_VALUES,function(t){return O()(N.a.mark(function e(){var i,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(D.mutations.SHOW_LOADER,!0),e.next=5,l.getData();case 5:return a=e.sent,i(D.mutations.SET_MAPPINGS_VALUES,a),i(D.mutations.SHOW_LOADER,!1),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(1),n(D.actions.HANDLE_ERROR,e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}))()}),V()(o,D.actions.MAP,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,n(D.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,l.addMapping(e.jiraValue,e.tfsValue,a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(D.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),r(D.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),V()(o,D.actions.REMOVE_MAPPING,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,e.duringProcessing=!0,i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,l.removeMapping(a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS],e,!0);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),r(D.actions.HANDLE_ERROR,i.t3);case 14:case"end":return i.stop()}},i,null,[[1,11]])}))()}),V()(o,D.actions.SWITCH_TFS_LINK,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,e.duringProcessing=!0,i.t0=n,i.t1=D.mutations.SET_MAPPINGS_VALUES,i.next=7,l.switchTfsMapping(e,a[D.state.AVAILABLE_VALUES],a[D.state.MAPPINGS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),r(D.actions.HANDLE_ERROR,i.t3);case 14:case"end":return i.stop()}},i,null,[[1,11]])}))()}),V()(o,D.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(l=e.service),void 0!==e.prefix&&(l.backendUrl=e.prefix)}),V()(o,D.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch;i(D.mutations.SHOW_LOADER,!1),n(tt.actions.HANDLE_ERROR,e,{root:!0})}),o),it=(c={},V()(c,D.state.MAPPINGS,null),V()(c,D.state.AVAILABLE_VALUES,[]),V()(c,D.state.LOADER_VISIBLE,!1),c),nt=i("7U2N"),at=i.n(nt),rt={namespaced:!0,state:it,getters:(u={},V()(u,D.getters.TFS_VALUES,function(t){return void 0===t[D.state.AVAILABLE_VALUES]?[]:at()(t[D.state.AVAILABLE_VALUES]).filter(function(t){return t.visible&&t.kind===D.kinds.TFS}).sort(P)}),V()(u,D.getters.JIRA_VALUES,function(t){return void 0===t[D.state.AVAILABLE_VALUES]?[]:at()(t[D.state.AVAILABLE_VALUES]).filter(function(t){return t.visible&&t.kind===D.kinds.JIRA}).sort(P)}),V()(u,D.getters.AVAILABLE_VALUES,function(t,e){return{TfsValues:e[D.getters.TFS_VALUES],JiraValues:e[D.getters.JIRA_VALUES]}}),V()(u,D.getters.MAPPINGS,function(t,e){return t[D.state.MAPPINGS]}),V()(u,D.getters.IS_LOADER_VISIBLE,function(t){return t[D.state.LOADER_VISIBLE]}),u),actions:et,mutations:(f={},V()(f,D.mutations.SET_MAPPINGS_VALUES,function(t,e){void 0!==e.mappings&&(t[D.state.MAPPINGS]=e.mappings),void 0!==e.available&&(t[D.state.AVAILABLE_VALUES]=e.available)}),V()(f,D.mutations.SHOW_LOADER,function(t,e){t[D.state.LOADER_VISIBLE]=e}),f)},st=w("mappings",D);function ot(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function lt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):ot(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var ct={props:{jiraSelectTitle:String,tfsSelectTitle:String},data:function(){return{selectedTfsValue:null,selectedJiraValue:null}},computed:Object(R.c)({jiraValues:st.getters.JIRA_VALUES,tfsValues:st.getters.TFS_VALUES}),methods:lt(lt({},Object(R.b)({mapValues:st.actions.MAP})),{},{addMapping:function(){if(null!==this.selectedJiraValue&&null!==this.selectedTfsValue){var t={jiraValue:this.selectedJiraValue,tfsValue:this.selectedTfsValue};this.mapValues(t),this.selectedTfsValue=null,this.selectedJiraValue=null}},isMapButtonDisabled:function(){return null===this.selectedJiraValue||null===this.selectedTfsValue}})},ut={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tfs4jira-mapping-layout"},[i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("h2",[t._v(t._s(t.jiraSelectTitle))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-header-note-jira"})]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("h2",[t._v(t._s(t.tfsSelectTitle))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-header-note-tfs"})])]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedJiraValue,expression:"selectedJiraValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"jiraValuesSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedJiraValue=e.target.multiple?i:i[0]}}},t._l(t.jiraValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTfsValue,expression:"selectedTfsValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"tfsValuesSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedTfsValue=e.target.multiple?i:i[0]}}},t._l(t.tfsValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])])]),t._v(" "),i("button",{staticClass:"tfs4jira-mapping-map-button tfs4jira-rounded-button",attrs:{disabled:t.isMapButtonDisabled(),title:"Please select values for both Jira and TFS to map them."},on:{click:function(e){t.addMapping()}}},[t._v("Map\n    ")])])},staticRenderFns:[]},ft=i("VU/8")(ct,ut,!1,null,null,null).exports;function pt(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function dt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):pt(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var ht={props:{mapping:Object,isLinksMapping:Boolean},computed:Object(R.c)({imagePath:tt.getters.IMAGE_PATH}),methods:dt(dt({},Object(R.b)({removeMapping:st.actions.REMOVE_MAPPING,switchTfsLink:st.actions.SWITCH_TFS_LINK})),{},{switchTitleText:function(){return"Switch to "+this.mapping.invertedTitle},canBeSwitched:function(){return this.isLinksMapping&&this.mapping.tfsValue&&this.mapping.tfsValue.hasInvertedVersion}})},vt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.mapping.jiraTitle&&void 0!==t.mapping.tfsTitle?i("tr",{staticClass:"tfs4jira-mapping-row",staticStyle:{"background-color":"rgb(255, 255, 255)"}},[i("td",{staticClass:"tfs4jira-mapping-row-left"},[i("div",{staticClass:"tfs4jira-mapping-value-text"},[i("div",{staticClass:"tfs4jira-mapping-value-text-label"},[t._v(t._s(t.mapping.jiraTitle))])])]),t._v(" "),t._m(0),t._v(" "),i("td",{staticClass:"tfs4jira-mapping-row-right"},[i("div",{staticClass:"tfs4jira-mapping-value-text"},[i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-merged-mapping-remove tfs4jira-rounded-button",attrs:{disabled:t.mapping.duringProcessing,title:"Remove"},on:{click:function(e){t.removeMapping(t.mapping)}}},[i("img",{attrs:{src:t.imagePath+"delete-icon.svg"}})]),t._v("\n            "+t._s(t.mapping.tfsTitle)+"\n            "),i("button",{directives:[{name:"show",rawName:"v-show",value:t.canBeSwitched(),expression:"canBeSwitched()"}],staticClass:"tfs4jira-rounded-button reverse",attrs:{disabled:t.mapping.duringProcessing,title:t.switchTitleText()},on:{click:function(e){t.switchTfsLink(t.mapping)}}},[i("img",{attrs:{src:t.imagePath+"reverse-icon.svg"}})])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticClass:"tfs4jira-mapping-row-direction"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-both",attrs:{title:""}})])}]};var Et=i("VU/8")(ht,vt,!1,function(t){i("vRcm")},"data-v-2c460a76",null).exports,mt={ERROR:{iconClass:"error-message",iconName:"exclamation-circle"},SUCCESS:{iconClass:"success",iconName:"check-circle"},WARNING:{iconClass:"warning",iconName:"exclamation-triangle"}},_t={props:["iconName","iconClass","kind"],computed:{notificationIconClass:function(){return this.kind?mt[this.kind].iconClass:this.iconClass},notificationIconName:function(){return this.iconName?this.iconName:mt[this.kind].iconName},cssClassFromKind:function(){return this.kind?this.kind.toLowerCase():""}}},gt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification",class:this.cssClassFromKind},["none"!==this.notificationIconName?e("div",{staticClass:"icon-box"},[e("icon",{staticClass:"icon",class:this.notificationIconClass,attrs:{name:this.notificationIconName}})],1):this._e(),this._v(" "),e("div",{staticClass:"notification-content"},[this._t("default")],2)])},staticRenderFns:[]};var It=i("VU/8")(_t,gt,!1,function(t){i("jxQI")},"data-v-4ca4fa28",null).exports,Tt=i("6qwz"),St=i.n(Tt),At=function(){function t(e){H()(this,t),this.http=e,this.hierarchy={}}return W()(t,[{key:"getData",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/mappings/links/availableValues").then(function(n){t.http.get(t.backendUrl+"/mappings/links").then(function(i){e(t.shapeDataFromWebService(n.data,i.data.LinkTypesMappings))},function(t){i(t)})},function(t){i(t)})})}},{key:"shapeDataFromWebService",value:function(t,e){function i(t,e,i,n,a){return{kind:t,title:e,label:e,invertedTitle:e.split("/").reverse().join(" / "),id:n+"_"+a,key:n,inverted:a,hasInvertedVersion:i,visible:!0}}var n={};return this.hierarchy=t.Hierarchy,Array.prototype.forEach.call(t.JiraValues,function(t){var e=i("JIRA",t.LabelA+" / "+t.LabelB,t.LabelA!==t.LabelB,t.JiraLinkType,!1);n[e.id]=e}),Array.prototype.forEach.call(t.TfsValues,function(t){var e=i("TFS",t.LabelA+" / "+t.LabelB,t.LabelA!==t.LabelB,t.TfsLinkType,!1);if(n[e.id]=e,t.LabelA!==t.LabelB){var a=i("TFS",t.LabelB+" / "+t.LabelA,t.LabelA!==t.LabelB,t.TfsLinkType,!0);n[a.id]=a}}),this.hideListItemsAndEnrichMappings(e,n)}},{key:"hideListItemsAndEnrichMappings",value:function(t,e){var i=this;return t.forEach(function(t){at()(e).forEach(function(e){e.key===t.JiraLinkType?t.jiraValue=e:e.key===t.TfsLinkType&&t.IsLinkDirectionInverted===e.inverted&&(t.tfsValue=e)}),t.duringProcessing=!1,void 0===t.jiraValue?t.jiraTitle=t.JiraLinkType:(t.jiraId=t.jiraValue.id,t.jiraTitle=t.jiraValue.title),void 0===t.tfsValue?t.tfsTitle=t.TfsLinkType:(t.tfsTitle=t.tfsValue.title,t.tfsId=t.tfsValue.id,t.invertedTitle=t.tfsValue.invertedTitle)}),t=t.sort(function(t,e){return t.jiraTitle.toString()>e.jiraTitle.toString()?-1:1}),at()(e).forEach(function(e){var n=Array.prototype.filter.call(t,function(t){return t.jiraId===e.id||t.tfsId===e.id||void 0!==t.tfsValue&&t.tfsValue.key==e.key});e.visible=0===n.length&&0==e.inverted,!i.hierarchy.Enabled||"System.LinkTypes.Hierarchy"!==e.key&&i.hierarchy.JiraLinkId!==e.key||(e.visible=!1)}),this.hierarchy.Enabled&&(t=t.filter(function(t){return t.jiraValue.key!==i.hierarchy.JiraLinkId&&"System.LinkTypes.Hierarchy"!==t.TfsLinkType})),{hierarchy:this.hierarchy,available:e,mappings:t}}},{key:"switchTfsMapping",value:function(t,e,i){var n=this;return new St.a(function(a,r){var s=Array.prototype.filter.call(at()(e),function(e){return"TFS"===e.kind&&e.key===t.tfsValue.key&&e.id!==t.tfsValue.id});0===s.length?a(null):n.removeMapping(e,i,t,!1).then(function(e){n.addMapping(t.jiraValue,s[0],e.available,e.mappings).then(function(t){a({mappings:t,available:e.available})},function(t){return r(t)})},function(t){r(t)})})}},{key:"addMapping",value:function(t,e,i,n){var a=this;return new St.a(function(r,s){a.http.post(a.backendUrl+"/mappings/links/values",{JiraLinkType:t.key,TfsLinkType:e.key,IsLinkDirectionInverted:e.inverted}).then(function(t){n.push(t.data);var e=a.hideListItemsAndEnrichMappings(n,i);r(e.mappings)},function(t){s(t)})})}},{key:"removeMapping",value:function(t,e,i,n){var a=this;return new St.a(function(r,s){a.http.delete(a.backendUrl+"/mappings/links/values/"+i.Id).then(function(s){e=Array.prototype.filter.call(e,function(t){return t.Id!==i.Id}),r(n?a.hideListItemsAndEnrichMappings(e,t):{mappings:e,available:t})},function(t){s(t)})})}}]),t}();function Ft(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Lt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Ft(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var bt={props:["profileGuid","loadOnInit","wizardView"],data:function(){return{jiraSelectTitle:"Jira Link Types",tfsSelectTitle:"TFS Link Types",hierarchy:{},mountCallback:function(){}}},computed:Object(R.c)({mappings:st.getters.MAPPINGS,isLoaderVisible:st.getters.IS_LOADER_VISIBLE,contextPath:tt.getters.CONTEXT_PATH,imagePath:tt.getters.IMAGE_PATH}),methods:Lt(Lt({},Object(R.b)({setUpService:st.actions.SET_UP_SERVICE,getAvailableValues:st.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){var e;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new At(M.a)}),t.next=3,this.getAvailableValues();case 3:null!=(e=t.sent)&&(this.hierarchy=e.hierarchy),this.mountCallback();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{MappingSelects:ft,MappingRow:Et,Notification:It},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshLinkMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"tfs4jira-mapping-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hierarchy&&t.hierarchy.Enabled,expression:"hierarchy && hierarchy.Enabled"}],staticClass:"links-notification"},[i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[t._v("\n                    Please note that links used in\n                    "),t.wizardView?i("span",[t._v("Hierarchy Mapping")]):i("a",{attrs:{href:t.contextPath+"/Tfs/Index/"+t.profileGuid+"?mappings=1"}},[t._v("\n                        Hierarchy Mapping\n                    ")]),t._v("\n                    are not available here.\n                ")])])],1),t._v(" "),i("mapping-selects",{attrs:{jiraSelectTitle:t.jiraSelectTitle,tfsSelectTitle:t.tfsSelectTitle}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.mappings&&0==t.mappings.length,expression:"(mappings && mappings.length == 0)"}],staticClass:"mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS link types that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},[i("tbody",t._l(t.mappings,function(t){return i("mapping-row",{key:t.Id,attrs:{mapping:t,isLinksMapping:!0}})}))])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var yt=i("VU/8")(bt,Nt,!1,function(t){i("gq9q")},"data-v-e7c930a8",null).exports,Ot=i("mw3O"),Ct=i.n(Ot),Vt=(i("pYLg"),i("+NLg"),i("7DwN"),i("DMY1"),i("R3SC"),{props:["statusValue"],computed:{className:function(){return this.statusValueToClassName(this.statusValue)},displayName:function(){return this.statusValueToDisplayName(this.statusValue)},iconName:function(){return this.statusValueToIconName(this.statusValue)}},components:{icon:d.a},methods:{statusValueToDisplayName:function(t){switch(t){case 0:return"Not tested";case 1:return"OK";case 2:return"Warning";case 3:return"Failed";default:return"unknown"}},statusValueToClassName:function(t){switch(t){case 0:return"not-tested";case 1:return"test-ok";case 2:return"test-warn";case 3:return"test-failed";default:return"unknown"}},statusValueToIconName:function(t){switch(t){case 0:return"circle";case 1:return"check-circle";case 2:return"exclamation-circle";case 3:return"times-circle";default:return"question-circle"}}}}),Rt={render:function(){var t=this.$createElement;return(this._self._c||t)("icon",{staticClass:"health-status-indicator",class:[this.className],attrs:{name:this.iconName,title:this.displayName}})},staticRenderFns:[]};var wt=i("VU/8")(Vt,Rt,!1,function(t){i("29ii")},"data-v-52a8758e",null).exports;i("TFdi"),i("Oncp");function kt(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):kt(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Dt={props:["profileGuid"],data:function(){return{healthCheckResultGroups:[],isProfileHealthResultLoading:!1}},computed:Pt(Pt({},Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{isLoading:function(){return this.isProfileHealthResultLoading},backendUrl:function(){return this.profileGuid?this.contextPath+"/profiles/"+this.profileGuid+"/HealthCheck":this.contextPath+"/profiles/HealthCheck"}}),components:{"health-status-indicator":wt,icon:d.a},methods:{loadProfileHealth:function(t){var e=this;this.isProfileHealthResultLoading=!0;var i=Ct.a.stringify(t);return M.a.post(this.backendUrl,i).then(this.handleResponseData).catch(this.handleResponseError).then(function(){e.isProfileHealthResultLoading=!1})},refresh:function(t){console.log("Refreshing ProfileHealthComponent"),this.loadProfileHealth(t)},toggleCollapse:function(t){t.isCollapsed=!t.isCollapsed},areHealthCheckResultsAvailableInGroup:function(t){return t.CheckResults&&t.CheckResults.length},handleResponseData:function(t){this.healthCheckResultGroups=t.data,this.healthCheckResultGroups.forEach(function(t){var e=t.Status<=1;p.a.set(t,"isCollapsed",e)})},handleResponseError:function(t){console.log("Error getting profile health result : ",t),this.healthCheckResultGroups=[{Name:"Error getting profile health result",Status:3,Message:t.message}]}},mounted:function(){this.loadProfileHealth()}},jt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"profile-health-component"},[i("ul",{staticClass:"health-check-result-groups"},t._l(t.healthCheckResultGroups,function(e){return i("li",[i("div",[i("health-status-indicator",{attrs:{"status-value":e.Status}}),t._v(" "),i("span",{staticClass:"health-check-result-group-name",class:{clickable:t.areHealthCheckResultsAvailableInGroup(e)},on:{click:function(i){t.toggleCollapse(e)}}},[t._v("\n                    "+t._s(e.Name)+"\n                    "),t.areHealthCheckResultsAvailableInGroup(e)?[e.isCollapsed?i("icon",{staticClass:"collapse-group-icon",attrs:{name:"caret-right"}}):i("icon",{staticClass:"collapse-group-icon",attrs:{name:"caret-down"}})]:t._e()],2),t._v(" "),e.Message?i("div",{staticClass:"health-check-result-group-description"},[t._v(t._s(e.Message))]):t._e()],1),t._v(" "),t.areHealthCheckResultsAvailableInGroup(e)?i("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed,expression:"!healthCheckResultGroup.isCollapsed"}],staticClass:"health-check-results"},t._l(e.CheckResults,function(e){return i("li",[i("health-status-indicator",{attrs:{"status-value":e.Status}}),t._v(" "),i("span",[t._v("\n                        "+t._s(e.Name)+"\n                    ")]),t._v(" "),e.Message?i("div",{staticClass:"health-check-result-description"},[t._v(t._s(e.Message))]):t._e()],1)})):t._e()])})),t._v(" "),t.isLoading?i("div",{staticClass:"spinner",class:{visible:t.isLoading}}):t._e()])},staticRenderFns:[]};var xt=i("VU/8")(Dt,jt,!1,function(t){i("wJNk")},"data-v-2095250a",null).exports;i("vrpP"),i("lOjN");function Ut(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Mt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Ut(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Gt={props:["profileGuid"],data:function(){return{isCollapsed:!1,shouldBeFixed:!1,currentWizardStep:null}},computed:{isGuidSet:function(){return this.profileGuid&&"00000000-0000-0000-0000-000000000000"!==this.profileGuid},windowWidth:function(){return window.innerWidth}},created:function(){var t=this;window.addEventListener("scroll",function(){t.adjustElementPosition()}),this.adjustElementPosition()},methods:Mt(Mt({},Object(R.b)({registerListener:tt.actions.ADD_LISTENER})),{},{adjustElementPosition:function(){"undefined"!=typeof $&&Ht($(this.$el),this)},collapse:function(){this.isCollapsed=!0,this.adjustElementPosition()},expand:function(){this.isCollapsed=!1,this.adjustElementPosition()},handleNotification:function(t){void 0!==t.profileDataToOverride&&this.$refs.profileHealthComponent.refresh(t.profileDataToOverride),void 0!==t.wizardStep&&(Jt(this.currentWizardStep,this.$refs.profileHealthComponent),this.currentWizardStep=t.wizardStep)}}),components:{"profile-health-component":xt,icon:d.a},mounted:function(){this.registerListener({on:"WizardSide",handler:function(t){this.handleNotification(t)}.bind(this)})}},Jt=function(t,e){switch(t){case"jira-connection-step":case"tfs-connection-step":case"synchronization-settings":e.refresh()}},Ht=function(t,e){if($(".tabheader").length>0){var i=$(".tabheader").offset().top,n=!1,a=$(window).scrollTop()>i+50;a!==n&&(n=a),e.shouldBeFixed=n,e.shouldBeFixed?t.css("right",$(window).width()-$(".page").offset().left-$(".page").outerWidth()):t.css("right","auto")}},Bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wizard-side-component",class:{"should-be-fixed":t.shouldBeFixed,collapsed:t.isCollapsed}},[t.isCollapsed?i("div",{staticClass:"expand-button clickable",attrs:{title:"Profile Health Component"},on:{click:function(e){e.stopPropagation(),t.expand()}}},[i("icon",{attrs:{name:"angle-double-left"}})],1):t._e(),t._v(" "),t.isCollapsed?t._e():i("div",{staticClass:"wizard-side-component-title"},[i("span",{staticClass:"collapse-button clickable",attrs:{title:"collapse"},on:{click:function(e){e.stopPropagation(),t.collapse()}}},[i("icon",{attrs:{name:"angle-double-right"}})],1),t._v("\n        Profile Health\n    ")]),t._v(" "),i("profile-health-component",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],ref:"profileHealthComponent",attrs:{"profile-guid":t.isGuidSet?t.profileGuid:""}})],1)},staticRenderFns:[]};var Wt=i("VU/8")(Gt,Bt,!1,function(t){i("qL+f")},"data-v-373593cc",null).exports;if(void 0===window.Spartez||void 0===window.Spartez.Shared)throw"window.Spartez or window.Spartez.Shared is not set up";var zt=window.Spartez.Shared;function Kt(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function $t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Kt(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Yt={data:function(){return{shared:zt}},methods:$t($t({},Object(R.b)({sendNotification:tt.actions.SEND_NOTIFICATION})),{},{dispatchNotifications:function(){this.notifications.forEach(function(t){!1===t.dispatched&&this.sendNotification(t)}.bind(this))}}),computed:{notifications:function(){return this.shared.notifications}},watch:{notifications:function(t){this.dispatchNotifications()}},mounted:function(){this.dispatchNotifications()}},qt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Xt=i("VU/8")(Yt,qt,!1,null,null,null).exports;function Qt(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Zt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Qt(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var te={props:[""],data:function(){return{currentItem:null}},computed:{shouldShowCustomButtons:function(){return!!this.currentItem.buttons&&this.currentItem.buttons.length>0}},methods:Zt(Zt({},Object(R.b)({registerListener:tt.actions.ADD_LISTENER})),{},{close:function(t){this.currentItem=null,t&&t()}}),mounted:function(){this.registerListener({on:"MessageBox",handler:function(t){this.currentItem=t.payload||t}.bind(this)})}},ee={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.currentItem?i("div",{staticClass:"container"},[i("div",{staticClass:"dialog"},[i("div",{staticClass:"title"},[t._v(t._s(t.currentItem.title))]),t._v(" "),i("div",{staticClass:"body"},[t._v(t._s(t.currentItem.message))]),t._v(" "),i("div",{staticClass:"buttons"},[t._l(t.currentItem.buttons,function(e,n){return t.shouldShowCustomButtons?i("input",{staticClass:"popupbutton",attrs:{type:"button",name:"custom-button-"+n,value:e.title},on:{click:function(i){t.close(e.onClickHandler)}}}):t._e()}),t._v(" "),t.shouldShowCustomButtons?t._e():i("input",{staticClass:"popupbutton",attrs:{type:"button",name:"closebutton",value:"Close"},on:{click:function(e){t.close()}}})],2),t._v(" "),i("div",{staticClass:"clear"})])]):t._e()},staticRenderFns:[]};var ie,ne,ae,re,se=i("VU/8")(te,ee,!1,function(t){i("kEHW")},"data-v-07fbe68c",null).exports,oe=i("vGz6"),le=i.n(oe),ce=k({state:["HIERARCHY_STATE","AVAILABLE_JIRA_VALUES","IS_EPIC_TYPE_MAPPED","IS_EPIC_NAME_MAPPED","IS_NEXT_GEN","WAITING_FOR_RESPONSE","SELECTED_JIRA_LINK"],actions:["FETCH_HIERARCHY_STATE","UPDATE_HIERARCHY_STATE","SET_UP_SERVICE","HANDLE_ERROR"],mutations:["UPDATE_HIERARCHY_STATE","SET_AVAILABLE_JIRA_VALUES","SET_IS_EPIC_TYPE_MAPPED","SET_IS_EPIC_NAME_MAPPED","SET_IS_NEXT_GEN","ENABLE_VIEW","DISABLE_VIEW","UPDATE_JIRA_LINK"],getters:["HIERARCHY_STATE","AVAILABLE_JIRA_VALUES","IS_EPIC_TYPE_MAPPED","IS_EPIC_NAME_MAPPED","IS_NEXT_GEN","JIRA_LINK_TITLE","WAITING_FOR_RESPONSE"],default:{TFS_LINK_TYPE:"Parent / Child Link"}}),ue=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"fetchHierarchy",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/mappings/hierarchy").then(function(t){e(t.data)},function(t){i(t)})})}},{key:"updateHierarchy",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/mappings/hierarchy",t).then(function(t){i(t.data)},function(t){n(t)})})}}]),t}())(M.a),fe=(ie={},V()(ie,ce.actions.FETCH_HIERARCHY_STATE,function(t,e){return O()(N.a.mark(function e(){var i,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,t.state,n=t.dispatch,e.prev=1,i(ce.mutations.DISABLE_VIEW),e.next=5,ue.fetchHierarchy();case 5:a=e.sent,i(ce.mutations.UPDATE_HIERARCHY_STATE,a.Hierarchy),i(ce.mutations.SET_AVAILABLE_JIRA_VALUES,a.AvailableJiraValues),i(ce.mutations.SET_IS_EPIC_TYPE_MAPPED,a.IsEpicTypeMapped),i(ce.mutations.SET_IS_EPIC_NAME_MAPPED,a.IsEpicNameMapped),i(ce.mutations.SET_IS_NEXT_GEN,a.IsNextGen),i(ce.mutations.UPDATE_JIRA_LINK),i(ce.mutations.ENABLE_VIEW),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n(ce.actions.HANDLE_ERROR,e.t0);case 18:case"end":return e.stop()}},e,null,[[1,15]])}))()}),V()(ie,ce.actions.UPDATE_HIERARCHY_STATE,function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(ce.mutations.DISABLE_VIEW),i.next=5,ue.updateHierarchy(e);case 5:n(ce.mutations.UPDATE_JIRA_LINK),n(ce.mutations.ENABLE_VIEW),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),a(ce.actions.HANDLE_ERROR,i.t0);case 12:case"end":return i.stop()}},i,null,[[1,9]])}))()}),V()(ie,ce.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(ue=e.service),void 0!==e.prefix&&(ue.backendUrl=e.prefix)}),V()(ie,ce.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch,a=pe(e);i(ce.mutations.ENABLE_VIEW),n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),ie),pe=function(t){var e="Unknown error occurred";return void 0!==t.response&&void 0!==t.response.data&&void 0!==t.response.data.Message?e=t.response.data.Message:void 0!==t.message&&(e=t.message),e},de={namespaced:!0,state:(ne={},V()(ne,ce.state.HIERARCHY_STATE,{}),V()(ne,ce.state.AVAILABLE_JIRA_VALUES,[]),V()(ne,ce.state.IS_EPIC_TYPE_MAPPED,!1),V()(ne,ce.state.IS_EPIC_NAME_MAPPED,!1),V()(ne,ce.state.IS_NEXT_GEN,!1),V()(ne,ce.state.WAITING_FOR_RESPONSE,!1),V()(ne,ce.state.SELECTED_JIRA_LINK,""),ne),getters:(ae={},V()(ae,ce.getters.HIERARCHY_STATE,function(t){return t[ce.state.HIERARCHY_STATE]}),V()(ae,ce.getters.IS_EPIC_TYPE_MAPPED,function(t){return t[ce.state.IS_EPIC_TYPE_MAPPED]}),V()(ae,ce.getters.IS_EPIC_NAME_MAPPED,function(t){return t[ce.state.IS_EPIC_NAME_MAPPED]}),V()(ae,ce.getters.IS_NEXT_GEN,function(t){return t[ce.state.IS_NEXT_GEN]}),V()(ae,ce.getters.AVAILABLE_JIRA_VALUES,function(t){var e=t[ce.state.AVAILABLE_JIRA_VALUES],i=t[ce.state.HIERARCHY_STATE];return e.forEach(function(t){t.title=t.regularTitle,i.JiraLinkIsInverted&&(t.title=t.invertedTitle)}),e}),V()(ae,ce.getters.JIRA_LINK_TITLE,function(t){return t[ce.state.SELECTED_JIRA_LINK]}),V()(ae,ce.getters.WAITING_FOR_RESPONSE,function(t){return t[ce.state.WAITING_FOR_RESPONSE]}),ae),actions:fe,mutations:(re={},V()(re,ce.mutations.UPDATE_HIERARCHY_STATE,function(t,e){t[ce.state.HIERARCHY_STATE]=e}),V()(re,ce.mutations.SET_AVAILABLE_JIRA_VALUES,function(t,e){e.forEach(function(t){t.regularTitle=t.LabelA+" / "+t.LabelB,t.invertedTitle=t.LabelB+" / "+t.LabelA}),e.unshift({regularTitle:"None",invertedTitle:"None",JiraLinkType:0,LabelA:"",LabelB:""}),t[ce.state.AVAILABLE_JIRA_VALUES]=e}),V()(re,ce.mutations.SET_IS_EPIC_NAME_MAPPED,function(t,e){t[ce.state.IS_EPIC_NAME_MAPPED]=e}),V()(re,ce.mutations.SET_IS_EPIC_TYPE_MAPPED,function(t,e){t[ce.state.IS_EPIC_TYPE_MAPPED]=e}),V()(re,ce.mutations.SET_IS_NEXT_GEN,function(t,e){t[ce.state.IS_NEXT_GEN]=e}),V()(re,ce.mutations.DISABLE_VIEW,function(t){t[ce.state.WAITING_FOR_RESPONSE]=!0}),V()(re,ce.mutations.ENABLE_VIEW,function(t){t[ce.state.WAITING_FOR_RESPONSE]=!1}),V()(re,ce.mutations.UPDATE_JIRA_LINK,function(t){var e=t[ce.state.HIERARCHY_STATE];if(void 0!==e.Enabled){var i=t[ce.state.AVAILABLE_JIRA_VALUES].find(function(t){return t.JiraLinkType===e.JiraLinkId});t[ce.state.SELECTED_JIRA_LINK]=void 0===i||null===i?"":e.JiraLinkIsInverted?i.invertedTitle:i.regularTitle}}),re)},he=w("hierarchy",ce);function ve(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ee(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):ve(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var me={components:{Notification:It},props:["profileGuid","loadOnInit","wizardView"],data:function(){return{mountCallback:function(){},issueTypeMappingId:null,currentJiraLinkId:null}},computed:Object(R.c)({selectedJiraLinkType:he.getters.JIRA_LINK_TITLE,hierarchyState:he.getters.HIERARCHY_STATE,availableJiraValues:he.getters.AVAILABLE_JIRA_VALUES,isEpicNameMapped:he.getters.IS_EPIC_NAME_MAPPED,isEpicTypeMapped:he.getters.IS_EPIC_TYPE_MAPPED,isNextGen:he.getters.IS_NEXT_GEN,waitingForResponse:he.getters.WAITING_FOR_RESPONSE,imagePath:tt.getters.IMAGE_PATH}),watch:{hierarchyState:{handler:function(t,e){if(void 0!==e.Enabled){var i={JiraLinkTitle:_e(this.availableJiraValues,this.hierarchyState.JiraLinkId)};this.updateHierarchy(le()({},this.hierarchyState,i))}},deep:!0}},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles/"+this.profileGuid}),"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshHierarchyComponent",handler:function(t){this.initComponent()}.bind(this)}),this.registerListener({on:"SetIssueTypeMappingId",handler:function(t){this.issueTypeMappingId=t.id}.bind(this)}),this.registerListener({on:"FieldMappingChanged",handler:function(t){this.fetchHierarchy()}.bind(this)})},methods:Ee(Ee(Ee({},Object(R.b)({setUpService:he.actions.SET_UP_SERVICE,updateHierarchy:he.actions.UPDATE_HIERARCHY_STATE,fetchHierarchy:he.actions.FETCH_HIERARCHY_STATE,registerListener:tt.actions.ADD_LISTENER})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.fetchHierarchy(),this.mountCallback();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),invertJiraLink:function(){this.hierarchyState.JiraLinkIsInverted=!this.hierarchyState.JiraLinkIsInverted},scrollDown:function(){ge()}})},_e=function(t,e){if(!t)return"";var i=t.find(function(t){return t.JiraLinkType===e});return i?i.title:""},ge=function(){var t=document.getElementById("fields-mapping").getBoundingClientRect();window.scrollTo({top:document.body.scrollHeight-t.height,behavior:"smooth"}),window.Spartez.Shared.sendNotification("MapEpicName",{})},Ie={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.hierarchyState.Enabled?i("div",{class:{disabled:t.waitingForResponse}},[i("div",{staticClass:"hierarchy-group-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.Enabled,expression:"hierarchyState.Enabled"}],attrs:{type:"checkbox",id:"hierarchy-check-box"},domProps:{checked:Array.isArray(t.hierarchyState.Enabled)?t._i(t.hierarchyState.Enabled,null)>-1:t.hierarchyState.Enabled},on:{change:function(e){var i=t.hierarchyState.Enabled,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&(t.hierarchyState.Enabled=i.concat([null])):r>-1&&(t.hierarchyState.Enabled=i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.hierarchyState,"Enabled",a)}}}),t._v(" "),i("label",{attrs:{for:"hierarchy-check-box"}},[t._v("Enable Hierarchy synchronization")])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[t.hierarchyState.Enabled?i("div",{staticClass:"hierarchy-container"},[i("div",{staticClass:"hierarchy-links"},[i("label",[t._v("Jira link type to replicate Parent / Child relation from TFS:")]),t._v(" "),i("div",{staticClass:"hierarchy-group-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.JiraLinkId,expression:"hierarchyState.JiraLinkId"}],attrs:{disabled:!t.hierarchyState.Enabled},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.hierarchyState,"JiraLinkId",e.target.multiple?i:i[0])}}},t._l(t.availableJiraValues,function(e){return i("option",{domProps:{value:e.JiraLinkType}},[t._v("\n                            "+t._s(e.title)+"\n                        ")])})),t._v(" "),i("button",{staticClass:"tfs4jira-rounded-button reverse",on:{click:function(e){t.invertJiraLink()}}},[i("img",{attrs:{src:t.imagePath+"reverse-icon.svg"}})])]),t._v(" "),i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[i("b",[t._v("Link types used for hierarchy synchronization will not be available for\n                            "),t.wizardView?i("span",[t._v("manual mapping:")]):i("a",{attrs:{href:t.contextPath()+"/Profiles/"+t.profileGuid+"/mappings/links"}},[t._v("\n                                manual mapping:\n                            ")])])]),t._v(" "),i("ul",[i("li",[t._v('TFS "Parent / Child" link')]),t._v(" "),""!==t.selectedJiraLinkType&&"None"!==t.selectedJiraLinkType?i("li",[t._v('Jira "'+t._s(t.selectedJiraLinkType)+'" link')]):t._e()])]),t._v(" "),i("div",{staticClass:"hierarchy-group-checkbox epic-check-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.hierarchyState.UseEpicLinks,expression:"hierarchyState.UseEpicLinks"}],attrs:{type:"checkbox",id:"epic-link-used",disabled:!t.hierarchyState.Enabled},domProps:{checked:Array.isArray(t.hierarchyState.UseEpicLinks)?t._i(t.hierarchyState.UseEpicLinks,null)>-1:t.hierarchyState.UseEpicLinks},on:{change:function(e){var i=t.hierarchyState.UseEpicLinks,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&(t.hierarchyState.UseEpicLinks=i.concat([null])):r>-1&&(t.hierarchyState.UseEpicLinks=i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.hierarchyState,"UseEpicLinks",a)}}}),t._v(" "),i("label",{attrs:{for:"epic-link-used"}},[t._v("\n                        For Jira Epics use default method ("+t._s(t.isNextGen?"Parent":"Epic Link")+" field)\n                        "),"None"!==t.selectedJiraLinkType&&""!==t.selectedJiraLinkType?i("span",[t._v(" instead of "),i("b",[t._v(t._s(t.selectedJiraLinkType))])]):t._e(),t._v(".\n                    ")])])],1),t._v(" "),t.wizardView?t._e():i("div",[t.hierarchyState.UseEpicLinks&&!t.isEpicTypeMapped?i("notification",{staticClass:"important",attrs:{"icon-name":"exclamation-circle","icon-class":"attention-message"}},[i("p",[t._v("Jira Epic issue is not mapped to any TFS work item.")]),t._v(" "),i("p",[i("a",{attrs:{href:t.contextPath()+"/Tfs/Index/"+t.profileGuid+"?mappings=1&mappingid="+t.issueTypeMappingId+"&subtasks=false"}},[t._v("\n                            Map now\n                        ")])])]):t._e(),t._v(" "),t.isNextGen||!t.hierarchyState.UseEpicLinks||t.isEpicNameMapped?t._e():i("notification",{staticClass:"important",attrs:{"icon-name":"exclamation-circle","icon-class":"attention-message"}},[i("p",[t._v("Jira Epic Name field is not mapped to any TFS field.")]),t._v(" "),i("p",[i("a",{on:{click:function(e){t.scrollDown()}}},[t._v("Map now")])])])],1)]):t._e()])],1):t._e()},staticRenderFns:[]};var Te,Se,Ae,Fe,Le=i("VU/8")(me,Ie,!1,function(t){i("06kb")},"data-v-50636f13",null).exports,be=k({state:["AVAILABLE_JIRA_VALUES","AVAILABLE_TFS_VALUES","LOADER_VISIBLE","SELECTED_JIRA_FIELD","SELECTED_TFS_FIELD","MAPPINGS_GROUPS"],actions:["SET_UP_SERVICE","GET_AVAILABLE_VALUES","MAP","REMOVE_MAPPING","HANDLE_ERROR","SET_SELECTED_JIRA_FIELD","SET_SELECTED_TFS_FIELD","SET_DEFAULT_MAPPING"],mutations:["SHOW_LOADER","SET_MAPPINGS_VALUES","SET_SELECTED_JIRA_FIELD","SET_SELECTED_TFS_FIELD","UPDATE_MAPPINGS"],getters:["TFS_VALUES","JIRA_VALUES","MAPPINGS_GROUPS","IS_LOADER_VISIBLE","SELECTED_JIRA_FIELD","SELECTED_TFS_FIELD"],kinds:{JIRA:"JIRA",TFS:"TFS"}}),Ne=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/mappings/fields").then(function(i){200===i.status&&i.data&&e(t.fillAvailableValuesAndGroupMappings(i.data))},function(t){i(t)})})}},{key:"fillAvailableValuesAndGroupMappings",value:function(t){var e,i=this;if(t.Mappings){var n=[];return t.Mappings.forEach(function(e){var a=i.wrapMappingForView(e,t.JiraFieldsNames,t.TfsFieldsNames);n.push(a)}),e=this.group(n),{jiraFields:i.updateJiraFieldNamesVisibility(n,t.JiraFieldsNames),tfsFields:i.updateTfsFieldNamesVisibility(n,t.TfsFieldsNames),groupedMappings:e}}}},{key:"updateJiraFieldNamesVisibility",value:function(t,e){return e.forEach(function(e){e.Hidden=t.some(function(t){return t.JiraField.Key==e.Key})}),e}},{key:"updateTfsFieldNamesVisibility",value:function(t,e){return e.forEach(function(e){e.Hidden=t.some(function(t){return t.TfsField.Key==e.Key})}),e}},{key:"updateMappingDirection",value:function(t){return 1===t.Direction||"-tfs-to-jira"===t.Direction?t.Direction="-tfs-to-jira":2===t.Direction||"-jira-to-tfs"===t.Direction?t.Direction="-jira-to-tfs":t.Direction="-both",t}},{key:"group",value:function(t){var e=this,i=[];t.forEach(function(t){i.push(t)});var n=[];i.forEach(function(i){if(!n.find(function(t){return t.groupBy===i.TfsField.Key})){var a=t.filter(function(t){return t.TfsField.Key===i.TfsField.Key});if(a.length>1){var r=e.createNewGroup(a,i.TfsField.Key,"tfs");n.push(r)}}});var a=[];i.forEach(function(i){if(!a.find(function(t){return t.groupBy===i.JiraField.Key})){var n=t.filter(function(t){return t.JiraField.Key===i.JiraField.Key});if(n.length>1){var r=e.createNewGroup(n,i.JiraField.Key,"jira");a.push(r)}}});var r=n.concat(a);return i.forEach(function(t){if(!r.find(function(e){return e.groupBy===t.JiraField.Key||e.groupBy===t.TfsField.Key})){var i=e.createNewGroup([t],t.JiraField.Key,"none");r.push(i)}}),r.forEach(function(t){return e.updateMappingsInGroup(t)}),r}},{key:"addMapping",value:function(t,e,i,n,a){var r=this,s=r.backendUrl+"/mappings/fields?jiraField="+encodeURIComponent(t.Key)+"&tfsField="+encodeURIComponent(e.Key);return new St.a(function(o,l){r.http.post(s).then(function(s){if(s.data){var l=r.createNewMapping(s.data,i,n),c=!1,u={};if(a.forEach(function(t){t.mappings.some(function(t){return t.JiraField.Key===l.JiraField.Key})?(c=!0,(u=t).groupBy=l.JiraField.Key,u.kind="jira"):t.mappings.some(function(t){return t.TfsField.Key===l.TfsField.Key})&&(c=!0,(u=t).groupBy=l.TfsField.Key,u.kind="tfs")}),c)r.addMappingToGroup(l,u.groupBy,a,u.kind);else{var f=r.createNewGroup([l],l.JiraField.Key,"none");r.updateMappingsInGroup(f),a.push(f)}r.sendNotificationIfEpicNameChanged(l),o({jiraFields:i.filter(function(e){return e.Key!==t.Key}),tfsFields:n.filter(function(t){return t.Key!==e.Key}),groupedMappings:a})}},function(t){l(t)})})}},{key:"removeMapping",value:function(t,e,i,n){var a=this;return new St.a(function(r,s){a.http.delete(a.backendUrl+"/mappings/fields/"+i.Id).then(function(s){s.data&&200===s.status&&(a.removeMappingFromGroup(i,n),a.updateAvailableFields(n,e,t),a.sendNotificationIfEpicNameChanged(i),r({jiraFields:t,tfsFields:e,groupedMappings:n}))},function(t){s(t)})})}},{key:"setMappingAsDefault",value:function(t,e){var i=this;return new St.a(function(n,a){i.http.put(i.backendUrl+"/mappings/fields/"+t.Id+"/default").then(function(a){200===a.status&&(e.find(function(e){return e.groupBy===t.groupId}).mappings.forEach(function(e){i.updateMappingDirection(e),e.Default=e.Id===t.Id}),n({groupedMappings:e}))},function(t){a(t)})})}},{key:"addMappingToGroup",value:function(t,e,i,n){var a=i.find(function(t){return t.groupBy===e});if(a){a.kind=n;var r="tfs"===n?t.TfsField.Key:t.JiraField.Key;a.groupBy=r,1!=a.mappings.length||a.mappings[0].Default||t.Default||this.setMappingAsDefault(a.mappings[0],i),a.mappings.push(t),a.mappings.forEach(function(t){return t.groupId=r}),this.updateMappingsInGroup(a)}}},{key:"removeMappingFromGroup",value:function(t,e){var i=e.find(function(e){return e.groupBy===t.groupId});if(i){if(i.mappings=Array.prototype.filter.call(i.mappings,function(e){return e.Id!==t.Id}),1===i.mappings.length){var n=i.mappings[0].JiraField.Key;i.kind="none",i.groupBy=n,i.mappings[0].groupId=n}i.mappings.length>0?this.updateMappingsInGroup(i):e=Array.prototype.filter.call(e,function(t){return t.groupBy!==i.groupBy})}}},{key:"updateAvailableFields",value:function(t,e,i){var n=[];t.forEach(function(t){Array.prototype.push.apply(n,t.mappings)}),i=this.updateJiraFieldNamesVisibility(n,i),e=this.updateTfsFieldNamesVisibility(n,e)}},{key:"sendNotificationIfEpicNameChanged",value:function(t){"Epic Name"===t.JiraField.Value&&window.Spartez.Shared.sendNotification("FieldMappingChanged",{})}},{key:"createNewMapping",value:function(t,e,i){var n=t;return this.wrapMappingForView(n,e,i)}},{key:"createNewGroup",value:function(t,e,i){t.forEach(function(t){return t.groupId=e});var n={groupBy:e,mappings:t,kind:i};return this.enrichGroupForView(n),n}},{key:"enrichGroupForView",value:function(t){var e=t.mappings.find(function(t){return t.Default});t.Direction=e?e.Direction:"-both"}},{key:"updateMappingsInGroup",value:function(t){"tfs"===t.kind?t.mappings.forEach(function(e){return e.isLastInTfsGroup=t.mappings.indexOf(e)===t.mappings.length-1}):"jira"===t.kind?t.mappings.forEach(function(e){return e.isLastInJiraGroup=t.mappings.indexOf(e)===t.mappings.length-1}):(t.mappings[0].isLastInJiraGroup=!0,t.mappings[0].isLastInTfsGroup=!0),this.enrichGroupForView(t)}},{key:"wrapMappingForView",value:function(t,e,i){function n(t,e,i){return{Key:t,Value:e,Info:{Type:"",Message:""},HasInfo:!1,IsAvailable:i}}var a=e.some(function(e){return e.Key==t.JiraField}),r=a?e.find(function(e){return e.Key==t.JiraField}).Value:t.JiraField,s=i.some(function(e){return e.Key==t.TfsField})?i.find(function(e){return e.Key==t.TfsField}).Value:t.TfsField,o=function(t,e,i,a){return{JiraField:n(t.JiraField,e,a),TfsField:n(t.TfsField,i,!0),Id:t.Id,Default:t.Default,Direction:t.Direction,NeedsAttention:t.NeedsAttention,Immutable:!a}}(t,r,s,a);return this.getHelpForMapping(o),this.updateMappingDirection(o),o}},{key:"getHelpForMapping",value:function(t){"timetracking"===t.JiraField.Key&&(t.JiraField.Info.Type="info",t.JiraField.Info.Message="<ul><li>For Time Tracking fields in TFS type of <b>double</b> should be used. We assume that time in this fields will be stored in <b>hours</b>.</li><li><b>Logged time</b> in Jira cannot be decreased so value of Logged Time in TFS that is lower than Jira Logged Time won't be synchronized.</li><li>For best results <b>Original Estimate</b> and <b>Remaining Estimate</b> fields should be synchronized in pair or none at all because not synchronized field will be set to the same value as synchronized field anyway (but only in Jira).</li></ul>",t.JiraField.HasInfo=!0),"project"===t.JiraField.Key&&(t.JiraField.Info.Type="info",t.JiraField.Info.Message="Mapping of the <strong>Project</strong> Jira field is not recommended. If you do use it, always map it to a TFS field containing a Jira project key.<br><br><strong>This field must never be used with bi-directional synchronization, because it interferes with the Synchronizer's ability to find updated Jira issues.</strong>",t.JiraField.HasInfo=!0),"assignee"===t.JiraField.Key&&(t.JiraField.Info.Type="info",t.JiraField.Info.Message='User fields, such as <strong>assignee</strong> can be automatically mapped in Jira and TFS, provided that both Jira and TFS server are connected to the same Active Directory instance and therefore share their user account data. If this is not the case, please use the "Map Values" option.',t.JiraField.HasInfo=!0),"###TFS4JIRA###.JIRA.Resolution"===t.JiraField.Key&&(t.JiraField.Info.Type="info",t.JiraField.Info.Message='In most of the cases Jira <strong>Resolution</strong> field should be mapped to TFS <strong>Resolved Reason</strong> field - please <a href="https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+FAQ#TFS4JIRAFAQ-TowhichfieldinTFSshouldImapJiraResolutionfield?" target="_blank">refer to the documentation</a> for more informations.',t.JiraField.HasInfo=!0),"System.Tags"===t.TfsField.Key&&(t.JiraField.Info.Type="info",t.TfsField.Info.Message="Tags field can be updated remotely since TFS 2013 Update 2 so in earlier versions of TFS this field won't be updated.",t.JiraField.HasInfo=!0),t.JiraField.IsAvailable||(t.JiraField.Info.Type="warning",t.JiraField.Info.Message="The custom field is not available on the Jira create screen, this can cause synchronization to work unexpectedly.",t.JiraField.HasInfo=!0),t.JiraField.HasInfo=""!==t.JiraField.Info.Message,t.TfsField.HasInfo=""!==t.TfsField.Info.Message,t.jiraInfoTooltip=t.JiraField.Key+"_tooltip",t.tfsInfoTooltip=t.TfsField.Key+"_tooltip"}}]),t}())(M.a),ye=new z,Oe=(Te={},V()(Te,be.actions.GET_AVAILABLE_VALUES,function(t){return O()(N.a.mark(function e(){var i,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(be.mutations.SHOW_LOADER,!0),e.t0=i,e.t1=be.mutations.SET_MAPPINGS_VALUES,e.next=7,Ne.getData();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(be.mutations.SHOW_LOADER,!1),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(1),n(be.actions.HANDLE_ERROR,e.t3);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))()}),V()(Te,be.actions.MAP,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,n(be.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=be.mutations.SET_MAPPINGS_VALUES,i.next=7,Ne.addMapping(e.jiraField,e.tfsField,a[be.state.AVAILABLE_JIRA_VALUES],a[be.state.AVAILABLE_TFS_VALUES],a[be.state.MAPPINGS_GROUPS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(be.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),r(be.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),V()(Te,be.actions.REMOVE_MAPPING,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,n(be.mutations.SHOW_LOADER,!0),i.t0=n,i.t1=be.mutations.SET_MAPPINGS_VALUES,i.next=7,Ne.removeMapping(a[be.state.AVAILABLE_JIRA_VALUES],a[be.state.AVAILABLE_TFS_VALUES],e.mapping,a[be.state.MAPPINGS_GROUPS]);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(be.mutations.SHOW_LOADER,!1),i.next=15;break;case 12:i.prev=12,i.t3=i.catch(1),r(be.actions.HANDLE_ERROR,i.t3);case 15:case"end":return i.stop()}},i,null,[[1,12]])}))()}),V()(Te,be.actions.SET_DEFAULT_MAPPING,function(t,e){return O()(N.a.mark(function i(){var n,a,r;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.state,r=t.dispatch,i.prev=1,i.t0=n,i.t1=be.mutations.UPDATE_MAPPINGS,i.next=6,Ne.setMappingAsDefault(e,a[be.state.MAPPINGS_GROUPS]);case 6:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=13;break;case 10:i.prev=10,i.t3=i.catch(1),r(be.actions.HANDLE_ERROR,i.t3);case 13:case"end":return i.stop()}},i,null,[[1,10]])}))()}),V()(Te,be.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(Ne=e.service),void 0!==e.prefix&&(Ne.backendUrl=e.prefix)}),V()(Te,be.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch,a=ye.extractMessageFromErrorObject(e);i(be.mutations.SHOW_LOADER,!1),n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),V()(Te,be.actions.SET_SELECTED_JIRA_FIELD,function(t,e){var i=t.commit;t.dispatch;i(be.mutations.SET_SELECTED_JIRA_FIELD,e)}),V()(Te,be.actions.SET_SELECTED_TFS_FIELD,function(t,e){var i=t.commit;t.dispatch;i(be.mutations.SET_SELECTED_TFS_FIELD,e)}),Te),Ce=(Se={},V()(Se,be.state.MAPPINGS_GROUPS,[]),V()(Se,be.state.AVAILABLE_JIRA_VALUES,[]),V()(Se,be.state.AVAILABLE_TFS_VALUES,[]),V()(Se,be.state.LOADER_VISIBLE,!1),V()(Se,be.state.SELECTED_JIRA_FIELD,null),V()(Se,be.state.SELECTED_TFS_FIELD,null),Se),Ve=(Ae={},V()(Ae,be.getters.TFS_VALUES,function(t){return void 0===t[be.state.AVAILABLE_TFS_VALUES]?[]:at()(t[be.state.AVAILABLE_TFS_VALUES]).filter(function(t){return!t.Hidden}).sort(Re)}),V()(Ae,be.getters.JIRA_VALUES,function(t){return void 0===t[be.state.AVAILABLE_JIRA_VALUES]?[]:at()(t[be.state.AVAILABLE_JIRA_VALUES]).filter(function(t){return!t.Hidden}).sort(Re)}),V()(Ae,be.getters.MAPPINGS_GROUPS,function(t,e){return t[be.state.MAPPINGS_GROUPS]}),V()(Ae,be.getters.IS_LOADER_VISIBLE,function(t){return t[be.state.LOADER_VISIBLE]}),V()(Ae,be.getters.SELECTED_JIRA_FIELD,function(t){return t[be.state.SELECTED_JIRA_FIELD]}),V()(Ae,be.getters.SELECTED_TFS_FIELD,function(t){return t[be.state.SELECTED_TFS_FIELD]}),Ae),Re=function(t,e){var i=t.Value.toUpperCase(),n=e.Value.toUpperCase();return i<n?-1:i>n?1:0},we={namespaced:!0,state:Ce,getters:Ve,actions:Oe,mutations:(Fe={},V()(Fe,be.mutations.SET_MAPPINGS_VALUES,function(t,e){void 0!==e.groupedMappings&&(t[be.state.MAPPINGS_GROUPS]=e.groupedMappings),void 0!==e.jiraFields&&(t[be.state.AVAILABLE_JIRA_VALUES]=e.jiraFields),void 0!==e.tfsFields&&(t[be.state.AVAILABLE_TFS_VALUES]=e.tfsFields)}),V()(Fe,be.mutations.SHOW_LOADER,function(t,e){t[be.state.LOADER_VISIBLE]=e}),V()(Fe,be.mutations.SET_SELECTED_JIRA_FIELD,function(t,e){t[be.state.SELECTED_JIRA_FIELD]=void 0===e||null===e?null:e}),V()(Fe,be.mutations.SET_SELECTED_TFS_FIELD,function(t,e){t[be.state.SELECTED_TFS_FIELD]=void 0===e||null===e?null:e}),V()(Fe,be.mutations.UPDATE_MAPPINGS,function(t,e){void 0!==e.groupedMappings&&(t[be.state.MAPPINGS_GROUPS]=e.groupedMappings)}),Fe)},ke=w("fieldsMapping",be);function Pe(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function De(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Pe(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var je={data:function(){return{selectedTfsValue:null,selectedJiraValue:null}},computed:Object(R.c)({tfsFields:ke.getters.TFS_VALUES,jiraFields:ke.getters.JIRA_VALUES}),methods:De(De({},Object(R.b)({mapFields:ke.actions.MAP,setJiraSelectedValue:ke.actions.SET_SELECTED_JIRA_FIELD,setTfsSelectedValue:ke.actions.SET_SELECTED_TFS_FIELD,registerListener:tt.actions.ADD_LISTENER})),{},{addMapping:function(){null!==this.selectedJiraValue&&null!==this.selectedTfsValue&&(this.mapFields({jiraField:this.selectedJiraValue,tfsField:this.selectedTfsValue}),this.selectedTfsValue=null,this.selectedJiraValue=null)},disableMapButton:function(){return null===this.selectedJiraValue||null===this.selectedTfsValue},documentClick:function(t){xe(t.target)||(this.selectedTfsValue=null,this.selectedJiraValue=null)}}),created:function(){document.addEventListener("click",this.documentClick)},destroyed:function(){document.removeEventListener("click",this.documentClick)},watch:{selectedJiraValue:function(t){this.setJiraSelectedValue(t)},selectedTfsValue:function(t){this.setTfsSelectedValue(t)}},components:{Notification:It},mounted:function(){this.registerListener({on:"MapEpicName",handler:function(t){var e=this.jiraFields.find(function(t){return"Epic Name"===t.Value});e&&(this.selectedJiraValue=e)}.bind(this)})}},xe=function(t){var e=document.getElementById("jiraFieldsSelect"),i=document.getElementById("tfsFieldsSelect"),n=t.parentElement;return t===e||t===i||n===e||n===i},Ue={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[i("strong",[t._v("Mapping will only work for the fields that are available on the create screen in Jira.")])])]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout"},[t._m(0),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-row"},[i("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedJiraValue,expression:"selectedJiraValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"jiraFieldsSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedJiraValue=e.target.multiple?i:i[0]}}},t._l(t.jiraFields,function(e){return i("option",{key:e.Key,domProps:{value:e}},[t._v("\n                        "+t._s(e.Value)+"\n                    ")])}))]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTfsValue,expression:"selectedTfsValue"}],staticClass:"tfs4jira-mapping-select",attrs:{id:"tfsFieldsSelect",size:"10"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedTfsValue=e.target.multiple?i:i[0]}}},t._l(t.tfsFields,function(e){return i("option",{key:e.Key,domProps:{value:e}},[t._v("\n                        "+t._s(e.Value)+"\n                    ")])}))])])]),t._v(" "),i("button",{staticClass:"tfs4jira-mapping-map-button tfs4jira-rounded-button",attrs:{disabled:t.disableMapButton(),title:"Please select values for both Jira and TFS to map them."},on:{click:function(e){t.addMapping()}}},[t._v("Map\n    ")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tfs4jira-mapping-layout-row"},[e("div",{staticClass:"tfs4jira-mapping-layout-column-jira"},[e("h2",[this._v("Jira Fields")]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-header-note-jira"})]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-layout-column-tfs"},[e("h2",[this._v("TFS Fields")]),this._v(" "),e("div",{staticClass:"tfs4jira-mapping-header-note-tfs"})])])}]},Me=i("VU/8")(je,Ue,!1,null,null,null).exports,Ge=i("h/Ox"),Je=i.n(Ge);i("TOaT");function He(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Be(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?He(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):He(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}p.a.use(Je.a);var We={props:["groupLength","group","guid","isWizardView"],computed:Object(R.c)({selectedJiraField:ke.getters.SELECTED_JIRA_FIELD,selectedTfsField:ke.getters.SELECTED_TFS_FIELD,imagePath:tt.getters.IMAGE_PATH}),methods:Be(Be(Be({},Object(R.b)({removeMapping:ke.actions.REMOVE_MAPPING,mapFields:ke.actions.MAP,setJiraSelectedValue:ke.actions.SET_SELECTED_JIRA_FIELD,setTfsSelectedValue:ke.actions.SET_SELECTED_TFS_FIELD,setMappingAsDefault:ke.actions.SET_DEFAULT_MAPPING})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{editValues:function(t){this.isWizardView&&"true"===this.isWizardView?Ke(t):ze(this.contextPath(),this.guid,t.Id)},removeMappingFromGroup:function(t,e){this.removeMapping({mapping:t,group:e})},addJiraFieldToGroup:function(t,e){this.mapFields({jiraField:t,tfsField:e.TfsField}),this.setJiraSelectedValue(null)},addTfsFieldToGroup:function(t,e){this.mapFields({jiraField:e.JiraField,tfsField:t}),this.setTfsSelectedValue(null)},setAsDefault:function(t){this.setMappingAsDefault(t)}})},ze=function(t,e,i){window.location.href=t+"/Tfs/Index/"+e+"?mappings=1&mappingid="+i},Ke=function(t){$("#field-mapping-component").trigger("EditMappingButtonClicked",{jiraId:t.JiraField.Key,tfsId:t.TfsField.Key,mappingId:t.Id})},$e={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tbody",t._l(t.group.mappings,function(e,n){return i("tr",{key:e.Id},["jira"===t.group.kind&&0===n?i("td",{staticClass:"tfs4jira-mapping-row-left",attrs:{rowspan:t.groupLength}},[i("span",[t._v(" "+t._s(e.JiraField.Value)+" ")]),t._v(" "),e.JiraField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.jiraInfoTooltip},expression:"{html: mapping.jiraInfoTooltip}"}]},[i("div",{class:e.JiraField.Info.Type}),t._v(" "),i("div",{attrs:{id:e.jiraInfoTooltip},domProps:{innerHTML:t._s(e.JiraField.Info.Message)}})]):t._e()]):t._e(),t._v(" "),i("td",{directives:[{name:"show",rawName:"v-show",value:"jira"!==t.group.kind,expression:"group.kind !== 'jira'"}],staticClass:"tfs4jira-mapping-row-left"},[i("span",[t._v(" "+t._s(e.JiraField.Value)+" ")]),t._v(" "),e.JiraField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.jiraInfoTooltip},expression:"{html: mapping.jiraInfoTooltip}"}]},[i("div",{class:e.JiraField.Info.Type}),t._v(" "),i("div",{attrs:{id:e.jiraInfoTooltip},domProps:{innerHTML:t._s(e.JiraField.Info.Message)}})]):t._e(),t._v(" "),e.isLastInTfsGroup&&t.selectedJiraField?i("div",[i("span",{staticClass:"field-inline-link-button",on:{click:function(i){t.addJiraFieldToGroup(t.selectedJiraField,e)}}},[t._v(" + add selected field\n                ")])]):t._e()]),t._v(" "),i("td",{staticClass:"tfs4jira-mapping-row-direction"},[e.Default||"none"===t.group.kind?i("div",{class:"tfs4jira-mapping-row-direction"+e.Direction}):i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:"jira"===t.group.kind&&"-tfs-to-jira"!=e.Direction,expression:"group.kind === 'jira' && mapping.Direction != '-tfs-to-jira'"}],class:"tfs4jira-mapping-row-direction-jira-to-tfs"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"tfs"===t.group.kind&&"-jira-to-tfs"!=e.Direction,expression:"group.kind === 'tfs' && mapping.Direction != '-jira-to-tfs'"}],class:"tfs4jira-mapping-row-direction-tfs-to-jira"})])]),t._v(" "),"tfs"===t.group.kind&&0===n?i("td",{staticClass:"tfs4jira-mapping-row-right",attrs:{rowspan:t.groupLength}},[i("span",[t._v(" "+t._s(e.TfsField.Value)+" ")]),t._v(" "),e.TfsField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.tfsInfoTooltip},expression:"{html: mapping.tfsInfoTooltip}"}]},[i("div",{staticClass:"info"}),t._v(" "),i("div",{attrs:{id:e.tfsInfoTooltip},domProps:{innerHTML:t._s(e.TfsField.Info.Message)}})]):t._e()]):t._e(),t._v(" "),i("td",{directives:[{name:"show",rawName:"v-show",value:"tfs"!==t.group.kind,expression:"group.kind !== 'tfs'"}],staticClass:"tfs4jira-mapping-row-right"},[i("span",[t._v(" "+t._s(e.TfsField.Value)+" ")]),t._v(" "),e.TfsField.HasInfo?i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.tfsInfoTooltip},expression:"{html: mapping.tfsInfoTooltip}"}]},[i("div",{staticClass:"info"}),t._v(" "),i("div",{attrs:{id:e.tfsInfoTooltip},domProps:{innerHTML:t._s(e.TfsField.Info.Message)}})]):t._e(),t._v(" "),e.isLastInJiraGroup&&t.selectedTfsField?i("div",[i("span",{staticClass:"field-inline-link-button",on:{click:function(i){t.addTfsFieldToGroup(t.selectedTfsField,e)}}},[t._v(" + add selected field\n                ")])]):t._e()]),t._v(" "),i("td",{staticClass:"mapping-set-primary"},[i("span",{staticClass:"fields-mapping-group-settings"},[e.Default&&t.groupLength>1?i("div",{staticClass:"fields-mapping-default"},[t._v(" \n                    Primary \n                ")]):i("div",{directives:[{name:"show",rawName:"v-show",value:!t.selectedJiraField&&!t.selectedTfsField,expression:"!selectedJiraField && !selectedTfsField"}]},[t.group.mappings.length>1?i("a",{staticClass:"fields-mapping-set-default",on:{click:function(i){t.setAsDefault(e)}}},[t._v(" Set as primary")]):t._e()])])]),t._v(" "),i("td",{staticClass:"mapping-row-settings"},[i("div",{staticClass:"mapping-value-settings"},[i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-remove tfs4jira-rounded-button",attrs:{title:"Remove"},on:{click:function(i){t.removeMappingFromGroup(e,t.group)}}},[i("img",{attrs:{src:t.imagePath+"delete-icon.svg"}})]),t._v(" "),e.NeedsAttention?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{html:e.Id},expression:"{html: mapping.Id}"}],staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-edit tfs4jira-rounded-button mapping-needs-attention",attrs:{disabled:e.Immutable},on:{click:function(i){t.editValues(e)}}},[i("img",{attrs:{src:t.imagePath+"field-values-icon-active.svg"}}),t._v(" "),i("div",{attrs:{id:e.Id}},[3===e.MappingMode?i("span",[t._v("No users are currently mapped - define them using this button\n                            "),t.isWizardView?t._e():i("span",[t._v(" or enter Users Mapping tab")])]):i("span",[t._v("No values are currently mapped - define them using this button")])])]):i("button",{staticClass:"tfs4jira-mapping-row-operation tfs4jira-mapping-edit tfs4jira-rounded-button",attrs:{title:"Edit",disabled:e.Immutable},on:{click:function(i){t.editValues(e)}}},[i("img",{attrs:{src:t.imagePath+"field-values-icon.svg"}})])])])])}))},staticRenderFns:[]};var Ye=i("VU/8")(We,$e,!1,function(t){i("duNd")},"data-v-79e70651",null).exports;function qe(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Xe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):qe(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Qe={props:["profileGuid","loadOnInit","isWizardView"],data:function(){return{mountCallback:function(){}}},computed:Object(R.c)({selectedJiraField:ke.getters.SELECTED_JIRA_FIELD,selectedTfsField:ke.getters.SELECTED_TFS_FIELD,mappingsGroups:ke.getters.MAPPINGS_GROUPS,isLoaderVisible:ke.getters.IS_LOADER_VISIBLE}),methods:Xe(Xe(Xe({},Object(R.b)({setUpService:ke.actions.SET_UP_SERVICE,getAvailableValues:ke.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAvailableValues();case 2:this.mountCallback();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{FieldsMappingSelects:Me,FieldsMappingRow:Ye},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles/"+this.profileGuid}),this.loadOnInit&&"true"===this.loadOnInit&&!this.isWizardView&&this.initComponent(),this.registerListener({on:"RefreshFieldsMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Ze={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fields-mapping"},[i("div",{staticClass:"tfs4jira-mapping-container"},[i("fields-mapping-selects"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.mappingsGroups&&0===t.mappingsGroups.length,expression:"(mappingsGroups != undefined && mappingsGroups.length === 0)"}],staticClass:"tfs4jira-mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS fields that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},t._l(t.mappingsGroups,function(e,n){return i("fields-mapping-row",{key:n,attrs:{"is-wizard-view":t.isWizardView,group:e,guid:t.profileGuid,groupLength:e.mappings.length}})}))],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var ti,ei,ii=i("VU/8")(Qe,Ze,!1,function(t){i("W2he")},"data-v-af8ae446",null).exports,ni=i("gYgk"),ai=i.n(ni),ri=i("ucJ4"),si=i.n(ri),oi=k({state:["CONFIGURATION","WAITING_FOR_RESPONSE","LOADING_MESSAGE","VIEW_NOTIFICATION"],actions:["FETCH","SAVE","CONFIRM_REMOVE","REMOVE","TEST","SET_UP_SERVICE","SET_VIEW_NOTIFICATION","HANDLE_ERROR"],mutations:["SET_CONFIGURATION","DISABLE_VIEW","ENABLE_VIEW","SET_VIEW_NOTIFICATION"],getters:["CONFIGURATION","WAITING_FOR_RESPONSE","LOADING_MESSAGE","VIEW_NOTIFICATION"]}),li={LOADING_MESSAGES:{FETCH:"Fetching SMTP configuration",SAVE:"Saving SMTP configuration",REMOVE:"Removing SMTP configuration",TEST:"Sending test email to {EMAIL}"},VIEW_NOTIFICATIONS:{SAVED:{kind:"SUCCESS",text:"Configuration saved."},TEST_PASSED:{kind:"SUCCESS",text:"Test email successfully sent."},NONE:{kind:"NONE"},ERROR:{kind:"ERROR",text:"Unfortunately, error occurred. Please review and rectify:",error:""}}},ci={Id:0,Name:"",FromEmailAddress:"",ToEmailAddress:"",EmailSubjectPrefix:"",SynchronizerUrl:null,HostName:"",Port:465,TimeoutInSeconds:30,UseSSL:!1,UserName:"",Password:""},ui=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"fetchConfiguration",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/notifications/smtp-configuration").then(function(t){200===t.status&&t.data&&e(t.data)},function(t){i(t)})})}},{key:"saveConfiguration",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration",t).then(function(t){200===t.status&&t.data&&setTimeout(function(){i(t.data)},500)},function(t){n(t)})})}},{key:"testConfiguration",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/test",t).then(function(t){204===t.status&&i()},function(t){n(t)})})}},{key:"removeConfiguration",value:function(t){var e=this;return new St.a(function(i,n){e.http.delete(e.backendUrl+"/notifications/smtp-configuration/"+t).then(function(t){204===t.status&&i(ci)},function(t){n(t)})})}},{key:"disableConfiguration",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/"+t+"/disable").then(function(t){204===t.status&&i()},function(t){n(t)})})}},{key:"enableConfiguration",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/notifications/smtp-configuration/"+t+"/enable").then(function(t){204===t.status&&i()},function(t){n(t)})})}}]),t}(),fi=new z,pi=new ui(M.a),di=(ti={},V()(ti,oi.actions.FETCH,function(t){return O()(N.a.mark(function e(){var i,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(oi.mutations.DISABLE_VIEW,li.LOADING_MESSAGES.FETCH),e.t0=i,e.t1=oi.mutations.SET_CONFIGURATION,e.next=7,pi.fetchConfiguration();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.next=14;break;case 11:e.prev=11,e.t3=e.catch(1),n(oi.actions.HANDLE_ERROR,e.t3);case 14:return e.prev=14,i(oi.mutations.ENABLE_VIEW),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))()}),V()(ti,oi.actions.SAVE,function(t){return O()(N.a.mark(function e(){var i,n,a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,r=hi(n[oi.state.CONFIGURATION]),i(oi.mutations.SET_VIEW_NOTIFICATION,li.VIEW_NOTIFICATIONS.NONE),i(oi.mutations.DISABLE_VIEW,li.LOADING_MESSAGES.SAVE),e.t0=i,e.t1=oi.mutations.SET_CONFIGURATION,e.next=9,pi.saveConfiguration(r);case 9:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(oi.mutations.SET_VIEW_NOTIFICATION,li.VIEW_NOTIFICATIONS.SAVED),e.next=17;break;case 14:e.prev=14,e.t3=e.catch(1),a(oi.actions.HANDLE_ERROR,e.t3);case 17:return e.prev=17,i(oi.mutations.ENABLE_VIEW),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])}))()}),V()(ti,oi.actions.TEST,function(t){return O()(N.a.mark(function e(){var i,n,a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,r=hi(n[oi.state.CONFIGURATION]),i(oi.mutations.SET_VIEW_NOTIFICATION,li.VIEW_NOTIFICATIONS.NONE),i(oi.mutations.DISABLE_VIEW,li.LOADING_MESSAGES.TEST.replace("{EMAIL}",r.ToEmailAddress)),e.next=7,pi.testConfiguration(r);case 7:i(oi.mutations.SET_VIEW_NOTIFICATION,li.VIEW_NOTIFICATIONS.TEST_PASSED),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a(oi.actions.HANDLE_ERROR,e.t0);case 13:return e.prev=13,i(oi.mutations.ENABLE_VIEW),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,10,13,16]])}))()}),V()(ti,oi.actions.CONFIRM_REMOVE,function(t,e){t.commit;var i=t.dispatch;i(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Confirm",message:"Are you sure you want to remove SMTP configuration?",buttons:[{title:"Cancel"},{title:"Remove",onClickHandler:function(){i(oi.actions.REMOVE,e)}}]}},{root:!0})}),V()(ti,oi.actions.REMOVE,function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.dispatch,i.prev=1,n(oi.mutations.DISABLE_VIEW,li.LOADING_MESSAGES.REMOVE),i.t0=n,i.t1=oi.mutations.SET_CONFIGURATION,i.next=7,pi.removeConfiguration(e);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),i.next=14;break;case 11:i.prev=11,i.t3=i.catch(1),a(oi.actions.HANDLE_ERROR,i.t3);case 14:return i.prev=14,n(oi.mutations.ENABLE_VIEW),i.finish(14);case 17:case"end":return i.stop()}},i,null,[[1,11,14,17]])}))()}),V()(ti,oi.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(pi=e.service),void 0!==e.prefix&&(pi.backendUrl=e.prefix)}),V()(ti,oi.actions.HANDLE_ERROR,function(t,e){t.dispatch;var i=t.commit,n=fi.extractMessageFromErrorObject(e),a=le()({},li.VIEW_NOTIFICATIONS.ERROR,{error:n});i(oi.mutations.SET_VIEW_NOTIFICATION,a)}),ti);function hi(t){return le()({},t,{IsEnabled:t.Enabled})}var vi,Ei,mi={namespaced:!0,state:(ei={},V()(ei,oi.state.CONFIGURATION,{}),V()(ei,oi.state.VIEW_NOTIFICATION,{kind:"NONE",text:""}),V()(ei,oi.state.WAITING_FOR_RESPONSE,!1),V()(ei,oi.state.LOADING_MESSAGE,""),ei),getters:(vi={},V()(vi,oi.getters.CONFIGURATION,function(t){return t[oi.state.CONFIGURATION]}),V()(vi,oi.getters.WAITING_FOR_RESPONSE,function(t){return t[oi.state.WAITING_FOR_RESPONSE]}),V()(vi,oi.getters.LOADING_MESSAGE,function(t){return t[oi.state.LOADING_MESSAGE]}),V()(vi,oi.getters.VIEW_NOTIFICATION,function(t){return t[oi.state.VIEW_NOTIFICATION]}),vi),actions:di,mutations:(Ei={},V()(Ei,oi.mutations.SET_CONFIGURATION,function(t,e){void 0!==e&&(t[oi.state.CONFIGURATION]=e,t[oi.state.CONFIGURATION].Enabled=t[oi.state.CONFIGURATION].IsEnabled)}),V()(Ei,oi.mutations.DISABLE_VIEW,function(t,e){t[oi.state.WAITING_FOR_RESPONSE]=!0,t[oi.state.LOADING_MESSAGE]=e}),V()(Ei,oi.mutations.ENABLE_VIEW,function(t){t[oi.state.WAITING_FOR_RESPONSE]=!1}),V()(Ei,oi.mutations.SET_VIEW_NOTIFICATION,function(t,e){t[oi.state.VIEW_NOTIFICATION]=e}),Ei)},_i=w("SmtpConfiguration",oi);function gi(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ii(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):gi(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Ti="This field is required",Si=["FromEmailAddress","ToEmailAddress","HostName","UserName","Password","Port","TimeoutInSeconds"],Ai={props:["loadOnInit"],data:function(){return{mountCallback:function(){},formErrors:{}}},computed:Ii(Ii({},Object(R.c)({configuration:_i.getters.CONFIGURATION,waitingForResponse:_i.getters.WAITING_FOR_RESPONSE,loadingMessage:_i.getters.LOADING_MESSAGE,imagePath:tt.getters.IMAGE_PATH,viewNotification:_i.getters.VIEW_NOTIFICATION})),{},{isDisabled:function(){return!this.configuration.IsEnabled&&this.configuration.Id},isConfigurationFetched:function(){return void 0!==this.configuration.Id}}),components:{Notification:It},methods:Ii(Ii(Ii({},Object(R.b)({setUpService:_i.actions.SET_UP_SERVICE,getConfiguration:_i.actions.FETCH,saveConfiguration:_i.actions.SAVE,testConfiguration:_i.actions.TEST,removeConfiguration:_i.actions.CONFIRM_REMOVE,disableConfiguration:_i.actions.DISABLE,enableConfiguration:_i.actions.ENABLE,registerListener:tt.actions.ADD_LISTENER})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getConfiguration();case 2:this.mountCallback();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),saveData:function(t){t.preventDefault(),this.formErrors=Li(this.configuration),0===L()(this.formErrors).length?this.saveConfiguration(this.configuration):p.a.nextTick(Fi)},test:function(){this.formErrors=Li(this.configuration),0===L()(this.formErrors).length?this.testConfiguration(this.configuration):p.a.nextTick(Fi)}}),watch:{configuration:function(t){null===t.SynchronizerUrl&&(t.SynchronizerUrl=function(t){if(window.location.hostname.startsWith("localhost")||window.location.hostname.startsWith("127.0.0."))return"";if(!window.location.origin)return"";return window.location.origin+t}(this.contextPath()))}},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"}),"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefresSmtpConfigurationComponent",handler:function(t){this.initComponent()}.bind(this)})}};function Fi(){$("html, body").animate({scrollTop:si()($(".form-error:visible").offset().top-100)},300)}function Li(t){var e={};return Si.forEach(function(i){t[i]||(e[i]=Ti)}),ai()(e)}var bi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("h1",[t._v("Mail Notifications "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}]},[t._v("(Disabled)")])]),t._v(" "),i("form",{attrs:{method:"post"},on:{submit:t.saveData}},[i("notification",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}],staticClass:"warning",attrs:{"icon-name":"exclamation-triangle"}},[i("p",[t._v(" You will not receive email notifications if this configuration is disabled.")])]),t._v(" "),t.viewNotification&&"NONE"!==t.viewNotification.kind?i("notification",{attrs:{kind:t.viewNotification.kind}},[i("p",[i("b",[t._v(t._s(t.viewNotification.text))])]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.viewNotification.error,expression:"viewNotification.error"}],staticClass:"error-text"},[t._v(t._s(t.viewNotification.error))])]):t._e(),t._v(" "),i("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.isConfigurationFetched,expression:"isConfigurationFetched"}]},[t._m(0),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(1),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.FromEmailAddress,expression:"configuration.FromEmailAddress"}],attrs:{type:"text",id:"from-address"},domProps:{value:t.configuration.FromEmailAddress},on:{input:function(e){e.target.composing||t.$set(t.configuration,"FromEmailAddress",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("The default address this server will use to send emails from.")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.FromEmailAddress,expression:"formErrors.FromEmailAddress"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.FromEmailAddress))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(2),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.ToEmailAddress,expression:"configuration.ToEmailAddress"}],attrs:{type:"text",id:"to-address"},domProps:{value:t.configuration.ToEmailAddress},on:{input:function(e){e.target.composing||t.$set(t.configuration,"ToEmailAddress",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("The default address this server will use to send emails to.")]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.ToEmailAddress,expression:"formErrors.ToEmailAddress"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.ToEmailAddress))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"email-prefix"}},[t._v("Email subject prefix")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.EmailSubjectPrefix,expression:"configuration.EmailSubjectPrefix"}],attrs:{type:"text",id:"email-prefix"},domProps:{value:t.configuration.EmailSubjectPrefix},on:{input:function(e){e.target.composing||t.$set(t.configuration,"EmailSubjectPrefix",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("Optional. This prefix will be prepended to all outgoing email subjects.")])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"synchronizer-url"}},[t._v("This Synchronizer's URL")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.SynchronizerUrl,expression:"configuration.SynchronizerUrl"}],attrs:{type:"text",id:"synchronizer-url"},domProps:{value:t.configuration.SynchronizerUrl},on:{input:function(e){e.target.composing||t.$set(t.configuration,"SynchronizerUrl",e.target.value)}}}),t._v(" "),i("p",{staticClass:"input-description"},[t._v("Optional. This URL will be included in email footer.")])])])]),t._v(" "),i("fieldset",{directives:[{name:"show",rawName:"v-show",value:t.isConfigurationFetched,expression:"isConfigurationFetched"}]},[t._m(3),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(4),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.HostName,expression:"configuration.HostName"}],attrs:{type:"text",id:"host-name"},domProps:{value:t.configuration.HostName},on:{input:function(e){e.target.composing||t.$set(t.configuration,"HostName",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.HostName,expression:"formErrors.HostName"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.HostName))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(5),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Port,expression:"configuration.Port"}],attrs:{type:"number",min:"0",step:"1",id:"port"},domProps:{value:t.configuration.Port},on:{input:function(e){e.target.composing||t.$set(t.configuration,"Port",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.Port,expression:"formErrors.Port"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.Port))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(6),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.TimeoutInSeconds,expression:"configuration.TimeoutInSeconds"}],attrs:{type:"number",min:"0",step:"1",id:"timeout"},domProps:{value:t.configuration.TimeoutInSeconds},on:{input:function(e){e.target.composing||t.$set(t.configuration,"TimeoutInSeconds",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.TimeoutInSeconds,expression:"formErrors.TimeoutInSeconds"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.TimeoutInSeconds))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("label",{staticClass:"flex-label",attrs:{for:"ssl"}},[t._v("SSL")]),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.UseSSL,expression:"configuration.UseSSL"}],attrs:{type:"checkbox",id:"ssl"},domProps:{checked:Array.isArray(t.configuration.UseSSL)?t._i(t.configuration.UseSSL,null)>-1:t.configuration.UseSSL},on:{change:function(e){var i=t.configuration.UseSSL,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&(t.configuration.UseSSL=i.concat([null])):r>-1&&(t.configuration.UseSSL=i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.configuration,"UseSSL",a)}}})])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(7),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.UserName,expression:"configuration.UserName"}],attrs:{type:"text",id:"user-name"},domProps:{value:t.configuration.UserName},on:{input:function(e){e.target.composing||t.$set(t.configuration,"UserName",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.UserName,expression:"formErrors.UserName"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.UserName))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[t._m(8),t._v(" "),i("div",{staticClass:"flex-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Password,expression:"configuration.Password"}],attrs:{type:"password",id:"password"},domProps:{value:t.configuration.Password},on:{input:function(e){e.target.composing||t.$set(t.configuration,"Password",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.formErrors.Password,expression:"formErrors.Password"}],staticClass:"form-error"},[t._v(t._s(t.formErrors.Password))])])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"flex-input"},[i("label",{attrs:{for:"is-enabled"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.configuration.Enabled,expression:"configuration.Enabled"}],attrs:{type:"checkbox",id:"is-enabled"},domProps:{checked:Array.isArray(t.configuration.Enabled)?t._i(t.configuration.Enabled,null)>-1:t.configuration.Enabled},on:{change:function(e){var i=t.configuration.Enabled,n=e.target,a=!!n.checked;if(Array.isArray(i)){var r=t._i(i,null);n.checked?r<0&&(t.configuration.Enabled=i.concat([null])):r>-1&&(t.configuration.Enabled=i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.configuration,"Enabled",a)}}}),t._v("\n                        Configuration enabled\n                    ")])])])]),t._v(" "),i("div",{staticClass:"splitter"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.waitingForResponse,expression:"waitingForResponse"}],staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col spinning-wheel"},[i("img",{attrs:{src:t.imagePath+"ajax-loader.gif"}}),t._v(" "),i("span",[t._v(t._s(t.loadingMessage))])])]),t._v(" "),t.isConfigurationFetched&&!t.waitingForResponse?i("fieldset",{staticClass:"form-footer"},[i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col buttons"},[t._m(9),t._v(" "),i("input",{staticClass:"col-button",attrs:{type:"button",value:"Test"},on:{click:function(e){t.test()}}})])]),t._v(" "),i("div",{staticClass:"flex-row"},[i("div",{staticClass:"left-col"}),t._v(" "),i("div",{staticClass:"right-col"},[i("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.configuration.Id,expression:"configuration.Id !== 0"}]},[t._v("\n                        If you would like to remove this SMTP configuration, click "),i("span",{staticClass:"inline-button",on:{click:function(e){t.removeConfiguration(t.configuration.Id)}}},[t._v("here")]),t._v(".\n                        "),i("br"),t._v(" Keep in mind that you will need to fill out this form again to enable Mail Notifications.\n                    ")])])])]):t._e()],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n                Use this form to setup SMTP mail server. This server will be used to send notifications about errors and warnings encountered in the Synchronizer."),e("br"),this._v(" "),e("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/Mail+Notifications",target:"_blank"}},[this._v("Learn more about Mail Notifications")]),this._v(".\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"from-address"}},[this._v("From address "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"from-address"}},[this._v("To address "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("legend",[e("h4",[this._v("SMTP Server")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"host-name"}},[this._v("SMTP host "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"port"}},[this._v("SMTP port "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"timeout"}},[this._v("Timeout (s) "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"user-name"}},[this._v("Username "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"flex-label",attrs:{for:"password"}},[this._v("Password "),e("span",{staticClass:"red-star"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-button"},[e("input",{attrs:{type:"submit",value:"Save"}})])}]};var Ni,yi,Oi,Ci,Vi=i("VU/8")(Ai,bi,!1,function(t){i("6edX")},"data-v-0f0d1bdc",null).exports,Ri=k({state:["LOGGING_EVENTS","WAITING_FOR_RESPONSE","IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE","IS_SMTP_CONFIGURATION_ENABLED"],actions:["FETCH_LOGGING_EVENTS","SET_UP_SERVICE","HANDLE_ERROR","DELETE_BY_ID","CONFIRM_DELETE_ALL","DELETE_LOGGING_EVENTS"],mutations:["SET_LOGGING_EVENTS","DELETE_LOGGING_EVENT_BY_ID","CLEAR_LOGGING_EVENTS","WAIT_FOR_DELETE_RESPONSE","STOP_WAIT_FOR_DELETE_RESPONSE","SET_SMTP_CONFIGURATION_STATE"],getters:["LOGGING_EVENTS","WAITING_FOR_RESPONSE","IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE","IS_SMTP_CONFIGURATION_ENABLED"]}),wi=new(function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/notifications/loggingEvents").then(function(i){if(200===i.status&&i.data){var n=at()(i.data).sort(t.sortByFirstOccurence);e(n)}},function(t){i(t)})})}},{key:"removeLoggingEventById",value:function(t){var e=this;return new St.a(function(i,n){e.http.delete(e.backendUrl+"/notifications/loggingEvents/"+t).then(function(e){204===e.status&&i(t)},function(t){n(t)})})}},{key:"removeLoggingEvents",value:function(t){var e=this,i=t.map(function(t){return t.Id});return new St.a(function(t,n){e.http.post(e.backendUrl+"/notifications/loggingEvents/remove",i).then(function(e){204===e.status&&t()},function(t){n(t)})})}},{key:"sortByFirstOccurence",value:function(t,e){var i=t.FirstOccurenceTime,n=e.FirstOccurenceTime;return i<n?-1:i>n?1:0}}]),t}())(M.a),ki=new ui(M.a),Pi=new z,Di=(Ni={},V()(Ni,Ri.actions.FETCH_LOGGING_EVENTS,function(t){return O()(N.a.mark(function e(){var i,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,n[Ri.state.WAITING_FOR_RESPONSE]=!0,e.t0=i,e.t1=Ri.mutations.SET_SMTP_CONFIGURATION_STATE,e.next=7,ki.fetchConfiguration();case 7:return e.t2=e.sent,(0,e.t0)(e.t1,e.t2),e.t3=i,e.t4=Ri.mutations.SET_LOGGING_EVENTS,e.next=13,wi.getData();case 13:e.t5=e.sent,(0,e.t3)(e.t4,e.t5),n[Ri.state.WAITING_FOR_RESPONSE]=!1,e.next=21;break;case 18:e.prev=18,e.t6=e.catch(1),a(Ri.actions.HANDLE_ERROR,e.t6);case 21:case"end":return e.stop()}},e,null,[[1,18]])}))()}),V()(Ni,Ri.actions.DELETE_BY_ID,function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(Ri.mutations.WAIT_FOR_DELETE_RESPONSE,e),i.t0=n,i.t1=Ri.mutations.DELETE_LOGGING_EVENT_BY_ID,i.next=7,wi.removeLoggingEventById(e);case 7:i.t2=i.sent,(0,i.t0)(i.t1,i.t2),n(Ri.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,e),i.next=16;break;case 12:i.prev=12,i.t3=i.catch(1),n(Ri.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,e),a(Ri.actions.HANDLE_ERROR,i.t3);case 16:case"end":return i.stop()}},i,null,[[1,12]])}))()}),V()(Ni,Ri.actions.CONFIRM_DELETE_ALL,function(t,e){t.commit;var i=t.dispatch;i(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Confirm",message:"Are you sure you want to clear all errors?",buttons:[{title:"Cancel"},{title:"Clear",onClickHandler:function(){i(Ri.actions.DELETE_LOGGING_EVENTS)}}]}},{root:!0})}),V()(Ni,Ri.actions.DELETE_LOGGING_EVENTS,function(t){return O()(N.a.mark(function e(){var i,n,a,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.state,a=t.dispatch,e.prev=1,r=n[Ri.state.LOGGING_EVENTS],n[Ri.state.WAITING_FOR_RESPONSE]=!0,e.t0=i,e.t1=Ri.mutations.CLEAR_LOGGING_EVENTS,e.next=8,wi.removeLoggingEvents(r);case 8:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),n[Ri.state.WAITING_FOR_RESPONSE]=!1,e.next=16;break;case 13:e.prev=13,e.t3=e.catch(1),a(Ri.actions.HANDLE_ERROR,e.t3);case 16:case"end":return e.stop()}},e,null,[[1,13]])}))()}),V()(Ni,Ri.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(wi=e.service),void 0!==e.smtpConfigurationService&&(ki=e.smtpConfigurationService),void 0!==e.prefix&&(wi.backendUrl=e.prefix,ki.backendUrl=e.prefix)}),V()(Ni,Ri.actions.HANDLE_ERROR,function(t,e){t.commit;var i=t.state,n=t.dispatch;i[Ri.state.WAITING_FOR_RESPONSE]=!1;var a=Pi.extractMessageFromErrorObject(e);n(tt.actions.SEND_NOTIFICATION,{receiver:"MessageBox",payload:{title:"Operation failed",message:a}},{root:!0})}),Ni),ji={namespaced:!0,state:(yi={},V()(yi,Ri.state.LOGGING_EVENTS,null),V()(yi,Ri.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE,[]),V()(yi,Ri.state.WAITING_FOR_RESPONSE,!1),V()(yi,Ri.state.IS_SMTP_CONFIGURATION_ENABLED,!1),yi),getters:(Oi={},V()(Oi,Ri.getters.LOGGING_EVENTS,function(t){return t[Ri.state.LOGGING_EVENTS]}),V()(Oi,Ri.getters.WAITING_FOR_RESPONSE,function(t){return t[Ri.state.WAITING_FOR_RESPONSE]}),V()(Oi,Ri.getters.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE,function(t){return t[Ri.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE]}),V()(Oi,Ri.getters.IS_SMTP_CONFIGURATION_ENABLED,function(t){return t[Ri.state.IS_SMTP_CONFIGURATION_ENABLED]}),Oi),actions:Di,mutations:(Ci={},V()(Ci,Ri.mutations.SET_LOGGING_EVENTS,function(t,e){t[Ri.state.LOGGING_EVENTS]=e}),V()(Ci,Ri.mutations.DELETE_LOGGING_EVENT_BY_ID,function(t,e){var i=t[Ri.state.LOGGING_EVENTS];t[Ri.state.LOGGING_EVENTS]=i.filter(function(t){return t.Id!==e})}),V()(Ci,Ri.mutations.CLEAR_LOGGING_EVENTS,function(t){t[Ri.state.LOGGING_EVENTS]=[]}),V()(Ci,Ri.mutations.WAIT_FOR_DELETE_RESPONSE,function(t,e){t[Ri.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE].push(e)}),V()(Ci,Ri.mutations.STOP_WAIT_FOR_DELETE_RESPONSE,function(t,e){var i=t[Ri.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE];t[Ri.state.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE]=i.filter(function(t){return t!==e})}),V()(Ci,Ri.mutations.SET_SMTP_CONFIGURATION_STATE,function(t,e){var i=0!=e.Id,n=e.IsEnabled;t[Ri.state.IS_SMTP_CONFIGURATION_ENABLED]=i&&n}),Ci)},xi=w("loggingEvents",Ri),Ui=i("PJh5"),Mi=i.n(Ui);function Gi(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ji(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Gi(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Hi={props:["loggingEvent"],data:function(){return{collapsed:!0}},components:{Notification:It},computed:Ji(Ji({},Object(R.c)({imagePath:tt.getters.IMAGE_PATH,rowsWaitingForDelete:xi.getters.IDS_ARRAY_OF_ROWS_WAITING_FOR_DELETE})),{},{loggingEventLevel:function(){return"WARN"==this.loggingEvent.EventLevel?"WARNING":"ERROR"},shortMessage:function(){return this.loggingEvent.Message.length>500?this.loggingEvent.Message.substring(0,500)+"...":""},firstOccurenceTime:function(){return Mi()(this.loggingEvent.FirstOccurenceTime).format("YYYY-MM-DD HH:mm:ssZ")},lastOccurenceTime:function(){return Mi()(this.loggingEvent.LastOccurenceTime).format("YYYY-MM-DD HH:mm:ssZ")},isWaitingForDeleteResponse:function(){return this.rowsWaitingForDelete.indexOf(this.loggingEvent.Id)>=0}}),methods:Ji(Ji({},Object(R.b)({removeById:xi.actions.DELETE_BY_ID})),{},{expandMessage:function(){this.collapsed=!1},collapseMessage:function(){this.collapsed=!0}})},Bi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logging-event-row"},[i("notification",{attrs:{kind:t.loggingEventLevel,"icon-name":"none"}},[i("div",{staticClass:"logging-event-container",class:{disabled:t.isWaitingForDeleteResponse}},[i("div",{staticClass:"logging-event-message"},[""!==t.shortMessage&&t.collapsed?i("div",{staticClass:"logging-event-message-body"},[i("p",[i("pre",[t._v(t._s(t.shortMessage))])]),t._v(" "),i("span",{on:{click:function(e){t.expandMessage()}}},[t._v("Show more")])]):i("div",{staticClass:"logging-event-message-body"},[i("p",[i("pre",[t._v(t._s(t.loggingEvent.Message))])]),t._v(" "),""!==t.shortMessage?i("span",{on:{click:function(e){t.collapseMessage()}}},[t._v("Show less")]):t._e()]),t._v(" "),i("div",{staticClass:"logging-event-message-footer"},[i("span",[i("b",[t._v("Number of occurences:")]),t._v(" "+t._s(t.loggingEvent.MergedEventsCount))]),t._v(" "),i("span",[i("b",[t._v("First occurence:")]),t._v(" "+t._s(t.firstOccurenceTime))]),t._v(" "),i("span",[i("b",[t._v("Last occurence:")]),t._v(" "+t._s(t.lastOccurenceTime))])])]),t._v(" "),i("div",[i("img",{staticClass:"close-button",attrs:{src:t.imagePath+"delete-icon.svg"},on:{click:function(e){t.removeById(t.loggingEvent.Id)}}})])])])],1)},staticRenderFns:[]};var Wi=i("VU/8")(Hi,Bi,!1,function(t){i("Q7/d")},"data-v-07374bf8",null).exports;function zi(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Ki(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):zi(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var $i={props:["loadOnInit"],computed:Object(R.c)({loggingEvents:xi.getters.LOGGING_EVENTS,waitingForResponse:xi.getters.WAITING_FOR_RESPONSE,isSmtpConfigurationEnabled:xi.getters.IS_SMTP_CONFIGURATION_ENABLED,imagePath:tt.getters.IMAGE_PATH}),methods:Ki(Ki(Ki({},Object(R.b)({setUpService:xi.actions.SET_UP_SERVICE,getLoggingEvents:xi.actions.FETCH_LOGGING_EVENTS,removeLoggingEvents:xi.actions.CONFIRM_DELETE_ALL})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLoggingEvents();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{LoggingEventRow:Wi,Notification:It},mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"}),"true"===this.loadOnInit&&this.initComponent()}},Yi={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loggingEvents?i("div",[i("notification",{directives:[{name:"show",rawName:"v-show",value:!t.isSmtpConfigurationEnabled,expression:"!isSmtpConfigurationEnabled"}],staticClass:"warning",attrs:{"icon-name":"exclamation-triangle"}},[i("p",[t._v(" \n                Errors will not be collected and listed until the "),i("a",{attrs:{href:t.contextPath()+"/Settings"}},[t._v("SMTP configuration")]),t._v(" is configured and enabled.\n            ")])]),t._v(" "),0!==t.loggingEvents.length?i("div",{staticClass:"logging-events-container"},[i("div",{staticClass:"rows-container"},[i("div",{staticClass:"rows-container-header"},[i("div",[t._v("\n                        Synchronizer encountered "+t._s(t.loggingEvents.length)+" error(s).\n                    ")]),t._v(" "),i("input",{attrs:{type:"button",value:"Clear all errors"},on:{click:function(e){t.removeLoggingEvents()}}})]),t._v(" "),t._l(t.loggingEvents,function(t){return i("logging-event-row",{key:t.Id,attrs:{loggingEvent:t}})})],2)]):i("div",{staticClass:"no-logging-events"},[t._v("\n            There are no errors.\n        ")])],1):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.waitingForResponse,expression:"waitingForResponse"}]},[i("div",{staticClass:"logging-events-load spinning-wheel"},[i("img",{attrs:{src:t.imagePath+"ajax-loader.gif"}}),t._v(" "),i("span",[t._v("Loading...")])])])])},staticRenderFns:[]};var qi=i("VU/8")($i,Yi,!1,function(t){i("xBJv")},"data-v-27a152f4",null).exports,Xi={computed:{isUserBrowserUnsupported:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ")>=0,i=t.indexOf("Trident/")>=0;return e||i}}},Qi={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isUserBrowserUnsupported,expression:"isUserBrowserUnsupported"}],staticClass:"main-container"},[this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("h1",[this._v("BROWSER NOT SUPPORTED")]),this._v(" "),e("p",[this._v("\n            The TFS4JIRA Synchronizer features are currently not supported in your browser.\n            Please try opening the application using the latest version of Chrome, Firefox, Safari, Opera or Edge."),e("br"),e("br"),this._v("\n            List of supported browsers is available\n            "),e("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+system+requirements",target:"_blank"}},[this._v("here")]),this._v(".\n        ")])])}]};var Zi,tn=i("VU/8")(Xi,Qi,!1,function(t){i("VBot")},"data-v-09c29a03",null).exports,en=k({actions:["SEND_EVENT","SET_UP_SERVICE"]}),nn=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"sendEvent",value:function(t){var e=this;return new St.a(function(i,n){e.http.post(e.backendUrl+"/notifications/support",t).then(function(t){},function(t){n(t)})})}}]),t}(),an=(new z,new nn(M.a)),rn={namespaced:!0,actions:(Zi={},V()(Zi,en.actions.SEND_EVENT,function(t,e){return O()(N.a.mark(function i(){var n;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.commit,n=t.dispatch,i.prev=1,i.next=4,an.sendEvent(e);case 4:i.next=9;break;case 6:i.prev=6,i.t0=i.catch(1),n(tt.actions.HANDLE_ERROR,i.t0,{root:!0});case 9:case"end":return i.stop()}},i,null,[[1,6]])}))()}),V()(Zi,en.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.prefix&&(an.backendUrl=e.prefix)}),Zi)},sn=w("supportActivity",en);i("Em2B"),i("OHUv"),i("wdG2");function on(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function ln(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?on(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):on(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var cn={data:function(){return{SubmitFeature:{SupportType:"Submit feature request or report bug",EventType:"Clicked"},ContactUs:{SupportType:"Contact us (mailto)",EventType:"Clicked"},ReadDocumentation:{SupportType:"Link to TFS4JIRA documentation",EventType:"Clicked"}}},components:{icon:d.a},methods:ln(ln({},Object(R.b)({setUpService:sn.actions.SET_UP_SERVICE,sendEvent:sn.actions.SEND_EVENT})),Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),mounted:function(){this.setUpService({prefix:this.contextPath()+"/api/profiles"})}},un={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-bar"},[i("div",[i("a",{attrs:{href:"https://spartez-software.atlassian.net/servicedesk/customer/portals",target:"_blank",title:"Submit a feature request or report a bug"},on:{click:function(e){t.sendEvent(t.SubmitFeature)}}},[i("icon",{attrs:{name:"comments"}})],1),t._v(" "),i("a",{attrs:{href:"mailto:support@spartez-software.com",title:"Contact us"},on:{click:function(e){t.sendEvent(t.ContactUs)}}},[i("icon",{attrs:{name:"envelope"}})],1),t._v(" "),i("a",{attrs:{href:"https://confluence.spartez-software.com/display/TFS4JIRA/TFS4JIRA+Documentation+Home",target:"_blank",title:"TFS4JIRA documentation"},on:{click:function(e){t.sendEvent(t.ReadDocumentation)}}},[i("icon",{attrs:{name:"book"}})],1)])])},staticRenderFns:[]};var fn=i("VU/8")(cn,un,!1,function(t){i("u7Cn")},"data-v-69b5c5a4",null).exports;i("nZeE");function pn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function dn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):pn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var hn=new Date("2019-02-25"),vn={data:function(){return{stripeHiddenByUserManually:!1}},components:{Icon:d.a},computed:dn(dn({},Object(R.c)({cookieStore:tt.getters.GET_COOKIE_STORE,imagePath:tt.getters.IMAGE_PATH})),{},{shouldHideWebinarStripe:function(){if("function"!=typeof this.cookieStore)return!0;var t=new Date>hn;return this.cookieStore("WEBINAR_STRIPE_HIDDEN_BY_USER")||t}}),methods:{hide:function(){this.cookieStore("WEBINAR_STRIPE_HIDDEN_BY_USER",!0,{path:"/",expires:30}),this.stripeHiddenByUserManually=!0}}},En={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.shouldHideWebinarStripe&&!t.stripeHiddenByUserManually,expression:"!shouldHideWebinarStripe && !stripeHiddenByUserManually"}],staticClass:"stripe"},[i("a",{staticClass:"hide",on:{click:function(e){t.hide()}}},[i("icon",{attrs:{name:"close"}})],1),t._v(" "),i("p",[t._v("Sign up for 1 of the 2 free webinars & get a 10% discount for license purchase")]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"buttons-bar"},[e("a",{attrs:{href:"https://campaigns.spartez-software.com/tfs4jiragetthemost?src=tfs4jirasynchronizer",target:"parent"}},[this._v("New to TFS4JIRA? Get the most out of your evaluation")]),this._v(" "),e("a",{attrs:{href:"https://campaigns.spartez-software.com/tfs4jirawhatscoming?src=tfs4jirasynchronizer",target:"parent"}},[this._v("Already using TFS4JIRA? Learn what's coming up")])])}]};var mn,_n,gn,In,Tn=i("VU/8")(vn,En,!1,function(t){i("vr85")},"data-v-2138830f",null).exports,Sn=k({state:["DEFAULT_VALUES","AVAILABLE_VALUES","SPECIAL_VALUES","LOADER_VISIBLE"],actions:["SET_UP_SERVICE","GET_DEFAULT_VALUES","SET_AVAILABLE_VALUES","UPDATE_DEFAULT_VALUES","HANDLE_ERROR"],mutations:["SET_DEFAULT_VALUES","SET_AVAILABLE_VALUES","SHOW_LOADER"],getters:["DEFAULT_VALUES","AVAILABLE_VALUES","SPECIAL_VALUES","IS_LOADER_VISIBLE"]}),An={},Fn=(mn={},V()(mn,Sn.actions.GET_DEFAULT_VALUES,function(t){return O()(N.a.mark(function e(){var i,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i(Sn.mutations.SHOW_LOADER,!0),e.t0=i,e.t1=Sn.mutations.SET_DEFAULT_VALUES,e.next=7,An.getDefaultValues();case 7:e.t2=e.sent,(0,e.t0)(e.t1,e.t2),i(Sn.mutations.SHOW_LOADER,!1),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(1),n(Sn.actions.HANDLE_ERROR,e.t3);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))()}),V()(mn,Sn.actions.SET_AVAILABLE_VALUES,function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.commit,a=t.dispatch;try{n(Sn.mutations.SHOW_LOADER,!0),n(Sn.mutations.SET_AVAILABLE_VALUES,e),n(Sn.mutations.SHOW_LOADER,!1)}catch(t){a(Sn.actions.HANDLE_ERROR,t)}case 2:case"end":return i.stop()}},i)}))()}),V()(mn,Sn.actions.UPDATE_DEFAULT_VALUES,function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,t.state,a=t.dispatch,i.prev=1,n(Sn.mutations.SHOW_LOADER,!0),i.next=5,An.updateDefaultValues(e);case 5:n(Sn.mutations.SHOW_LOADER,!1),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),a(Sn.actions.HANDLE_ERROR,i.t0);case 11:case"end":return i.stop()}},i,null,[[1,8]])}))()}),V()(mn,Sn.actions.SET_UP_SERVICE,function(t,e){x()(t),void 0!==e.service&&(An=e.service),void 0!==e.prefix&&(An.backendUrl=e.prefix)}),V()(mn,Sn.actions.HANDLE_ERROR,function(t,e){var i=t.commit,n=t.dispatch;i(Sn.mutations.SHOW_LOADER,!1),n(tt.actions.HANDLE_ERROR,e,{root:!0})}),mn),Ln={namespaced:!0,state:(_n={},V()(_n,Sn.state.DEFAULT_VALUES,[]),V()(_n,Sn.state.AVAILABLE_VALUES,[]),V()(_n,Sn.state.SPECIAL_VALUES,[]),V()(_n,Sn.state.LOADER_VISIBLE,!1),_n),getters:(gn={},V()(gn,Sn.getters.DEFAULT_VALUES,function(t){return t[Sn.state.DEFAULT_VALUES]}),V()(gn,Sn.getters.AVAILABLE_VALUES,function(t){var e=t[Sn.state.AVAILABLE_VALUES],i=[],n=[];return 0!==e.length&&(e.forEach(function(t){return t.visible=!0}),i=e.filter(function(t){return"JIRA"===t.kind}).sort(P),n=e.filter(function(t){return"TFS"===t.kind}).sort(P)),{TfsValues:n,JiraValues:i}}),V()(gn,Sn.getters.SPECIAL_VALUES,function(t){return t[Sn.state.SPECIAL_VALUES]}),V()(gn,Sn.getters.IS_LOADER_VISIBLE,function(t){return t[Sn.state.LOADER_VISIBLE]}),gn),actions:Fn,mutations:(In={},V()(In,Sn.mutations.SET_DEFAULT_VALUES,function(t,e){void 0!==e.DefaultValues&&(t[Sn.state.DEFAULT_VALUES]=e.DefaultValues),void 0!==e.SpecialValues&&(t[Sn.state.SPECIAL_VALUES]=e.SpecialValues)}),V()(In,Sn.mutations.SET_AVAILABLE_VALUES,function(t,e){var i=at()(e).map(function(t){return le()({},t)});t[Sn.state.AVAILABLE_VALUES]=i}),V()(In,Sn.mutations.SHOW_LOADER,function(t,e){t[Sn.state.LOADER_VISIBLE]=e}),In)},bn=w("usersMapping",Sn),Nn=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/mappings/users").then(function(i){200===i.status&&i.data&&e(t.shapeDataFromWebService(i.data))},function(t){i(t)})})}},{key:"createItem",value:function(t,e,i){return{id:e+"_"+t,kind:t,key:e,label:i,visible:!0}}},{key:"shapeDataFromWebService",value:function(t){var e=this,i={};return Array.prototype.forEach.call(t.JiraUsers,function(t){var n=e.createItem("JIRA",t.Key,t.Value);i[n.id]=n}),Array.prototype.forEach.call(t.TfsUsers,function(t){var n=e.createItem("TFS",t.Key,t.Value);i[n.id]=n}),this.hideListItemsAndEnrichMappings(i,t.Mappings)}},{key:"hideListItemsAndEnrichMappings",value:function(t,e){return at()(t).forEach(function(t){t.visible=!0}),e.forEach(function(e){at()(t).forEach(function(t){"JIRA"===t.kind&&t.key===e.JiraUserKey&&(t.visible=!1),"TFS"===t.kind&&t.key===e.TfsUserKey&&(t.visible=!1)}),e.jiraTitle=e.JiraUserValue,e.tfsTitle=e.TfsUserValue,e.duringProcessing=!1}),{available:t,mappings:e}}},{key:"addMapping",value:function(t,e,i,n){var a=this;return new St.a(function(r,s){a.http.post(a.backendUrl+"/mappings/users",{JiraUserKey:t.key,JiraUserValue:t.label,TfsUserKey:e.key,TfsUserValue:e.label}).then(function(t){200===t.status&&t.data&&(n.push(t.data),r(a.hideListItemsAndEnrichMappings(i,n)))},function(t){s(t)})})}},{key:"removeMapping",value:function(t,e,i){var n=this;return new St.a(function(a,r){n.http.delete(n.backendUrl+"/mappings/users/"+i.Id).then(function(r){200===r.status&&!0===r.data&&(e=e.filter(function(t){return t.Id!==i.Id}),a(n.hideListItemsAndEnrichMappings(t,e)))},function(t){r(t)})})}},{key:"getDefaultValues",value:function(){var t=this;return new St.a(function(e,i){t.http.get(t.backendUrl+"/mappings/users/defaults").then(function(i){200===i.status&&i.data&&e(t.wrapDefaultValues(i.data))},function(t){i(t)})})}},{key:"wrapDefaultValues",value:function(t){var e,i=this,n=t.DefaultValues,a=[];return Array.prototype.forEach.call(t.SpecialValues,function(t){var e=i.createItem("JIRA",t.Key,t.Value);a.push(e);var n=i.createItem("TFS",t.Key,t.Value);a.push(n)}),{DefaultValues:(e=n,{JiraValue:i.createItem("JIRA",e.JiraUserKey,e.JiraUserValue),TfsValue:i.createItem("TFS",e.TfsUserKey,e.TfsUserValue)}),SpecialValues:a}}},{key:"updateDefaultValues",value:function(t){var e=this;return new St.a(function(i,n){e.http.put(e.backendUrl+"/mappings/users/defaults",t).then(function(t){204===t.status&&i()},function(t){n(t)})})}}]),t}();function yn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function On(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):yn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Cn={props:{profileGuid:String,contextPath:String,loadOnInit:String},computed:On(On({},Object(R.c)({defaultValues:bn.getters.DEFAULT_VALUES,availableValues:bn.getters.AVAILABLE_VALUES,specialValues:bn.getters.SPECIAL_VALUES,waitingForResponse:bn.getters.IS_LOADER_VISIBLE})),{},{defaultJiraValue:{get:function(){if(this.defaultValues.JiraValue)return this.defaultValues.JiraValue},set:function(t){t&&(this.updateDefaultValues({JiraUserKey:t.key,JiraUserValue:t.label,TfsUserKey:this.defaultTfsValue.key,TfsUserValue:this.defaultTfsValue.label}),this.defaultValues.JiraValue=t)}},defaultTfsValue:{get:function(){if(this.defaultValues.TfsValue)return this.defaultValues.TfsValue},set:function(t){t&&(this.updateDefaultValues({JiraUserKey:this.defaultJiraValue.key,JiraUserValue:this.defaultJiraValue.label,TfsUserKey:t.key,TfsUserValue:t.label}),this.defaultValues.TfsValue=t)}},jiraSpecialValues:{get:function(){return this.specialValues.filter(function(t){return"JIRA"===t.kind})}},tfsSpecialValues:{get:function(){return this.specialValues.filter(function(t){return"TFS"===t.kind})}}}),methods:On(On({},Object(R.b)({setUpService:bn.actions.SET_UP_SERVICE,getDefaultValues:bn.actions.GET_DEFAULT_VALUES,updateDefaultValues:bn.actions.UPDATE_DEFAULT_VALUES})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new Nn(M.a)}),t.next=3,this.getDefaultValues();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),watch:{loadOnInit:{handler:function(t,e){t!=e&&"true"===t&&this.initComponent()}}},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent()}},Vn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"default-mapping-row"},[i("div",{staticClass:"fieldlistleft"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.defaultJiraValue,expression:"defaultJiraValue"}],staticClass:"defaultvalue",attrs:{id:"default-jira-value",disabled:t.waitingForResponse},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.defaultJiraValue=e.target.multiple?i:i[0]}}},[i("optgroup",{attrs:{label:"Action"}},t._l(t.jiraSpecialValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),i("optgroup",{attrs:{label:"Set value"}},t._l(t.availableValues.JiraValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"default-mapping-row"},[t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"fieldlistright"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.defaultTfsValue,expression:"defaultTfsValue"}],staticClass:"defaultvalue",attrs:{id:"default-tfs-value",disabled:t.waitingForResponse},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.defaultTfsValue=e.target.multiple?i:i[0]}}},[i("optgroup",{attrs:{label:"Action"}},t._l(t.tfsSpecialValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])})),t._v(" "),i("optgroup",{attrs:{label:"Set value"}},t._l(t.availableValues.TfsValues,function(e){return i("option",{key:e.key,domProps:{value:e}},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistmiddle"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-tfs-to-jira"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistright"},[e("i",[this._v("anything else")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistleft"},[e("i",[this._v("anything else")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fieldlistmiddle"},[e("div",{staticClass:"tfs4jira-mapping-row-direction-jira-to-tfs"})])}]};var Rn=i("VU/8")(Cn,Vn,!1,function(t){i("qLqe")},"data-v-7f1947e5",null).exports;function wn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function kn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):wn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Pn={props:["profileGuid","loadOnInit"],data:function(){return{loadDefaultValues:this.loadOnInit,mountCallback:function(){}}},computed:Object(R.c)({mappings:st.getters.MAPPINGS,isLoaderVisible:st.getters.IS_LOADER_VISIBLE,contextPath:tt.getters.CONTEXT_PATH}),methods:kn(kn({},Object(R.b)({setUpService:st.actions.SET_UP_SERVICE,getAvailableValues:st.actions.GET_AVAILABLE_VALUES,registerListener:tt.actions.ADD_LISTENER,setAvailableValuesForDefaults:bn.actions.SET_AVAILABLE_VALUES})),{},{initComponent:function(){var t=O()(N.a.mark(function t(){var e;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:this.contextPath+"/api/profiles/"+this.profileGuid,service:new Nn(M.a)}),t.next=3,this.getAvailableValues();case 3:e=t.sent,this.loadDefaultValues="true",this.setAvailableValuesForDefaults(e.available),this.mountCallback();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{MappingSelects:ft,MappingRow:Et,UsersMappingDefault:Rn},mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent(),this.registerListener({on:"RefreshUsersMappingComponent",handler:function(t){this.initComponent()}.bind(this)})}},Dn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v("User Mapping")]),t._v(" "),i("div",{staticClass:"tfs4jira-mapping-container"},[i("mapping-selects",{attrs:{jiraSelectTitle:"Jira Users",tfsSelectTitle:"TFS Users"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.mappings&&0==t.mappings.length,expression:"(mappings && mappings.length == 0)"}],staticClass:"mapping-no-mapped-values-container"},[i("span",{staticClass:"tfs4jira-mapping-no-mapped-values"},[t._v("\n                Please select Jira and TFS users that you want to map.\n            ")])]),t._v(" "),i("table",{staticClass:"tfs4jira-mapping-table"},[i("tbody",t._l(t.mappings,function(t){return i("mapping-row",{key:t.Id,attrs:{mapping:t}})}))]),t._v(" "),i("users-mapping-default",{attrs:{profileGuid:t.profileGuid,contextPath:t.contextPath,loadOnInit:t.loadDefaultValues}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoaderVisible,expression:"isLoaderVisible"}],staticClass:"spinner"})])},staticRenderFns:[]};var jn=i("VU/8")(Pn,Dn,!1,function(t){i("uJHK")},"data-v-1b30d985",null).exports;function xn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Un(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):xn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Mn={props:{availableFields:{type:Array,required:!0},filterType:{type:String,required:!0}},data:function(){return{availableOperations:[{id:"Equals",name:"equals"},{id:"NotEquals",name:"not equals"},{id:"StartsWith",name:"starts with"},{id:"DoesntStartWith",name:"doesn't start with"},{id:"Contains",name:"contains"},{id:"DoesntContain",name:"doesn't contain"}],filter:{FieldId:null,FieldName:null,FieldValue:null,FilterOperatorId:null}}},computed:Un({},Object(R.c)("profileFilters",["currentFilterInEdit"])),watch:{currentFilterInEdit:{immediate:!0,handler:function(t){t?this.filter=le()({},t):(this.filter.FilterOperatorId=this.availableOperations[0].id,this.filter.FieldId=this.availableFields[0].Key,this.filter.FieldName=this.availableFields[0].Value,this.filter.FilterType=this.filterType)}},filter:{deep:!0,handler:function(t){var e=this.availableFields.find(function(e){return e.Key===t.FieldId});t.FieldName=e.Value;var i=this.availableOperations.find(function(e){return e.id===t.FilterOperatorId});t.FilterOperatorName=i.name}}},methods:Un(Un({},Object(R.b)("profileFilters",["upsertFilter"])),Object(R.d)("profileFilters",["clearEditViewState"]))},Gn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-row-edit filter-text"},[i("div",[i("span",{staticClass:"filter-text"},[t._v("Field")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.FieldId,expression:"filter.FieldId"}],staticClass:"filter-fields ts4jira-select2-form-field medium-field small-left-separator",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"FieldId",e.target.multiple?i:i[0])}}},t._l(t.availableFields,function(e){return i("option",{key:e.Key,domProps:{value:e.Key}},[t._v("\n                "+t._s(e.Value)+"\n            ")])})),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.FilterOperatorId,expression:"filter.FilterOperatorId"}],staticClass:"filter-operators ts4jira-select2-form-field short-field small-left-separator",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.filter,"FilterOperatorId",e.target.multiple?i:i[0])}}},t._l(t.availableOperations,function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                "+t._s(e.name)+"\n            ")])})),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.FieldValue,expression:"filter.FieldValue"}],staticClass:"filter-field-value medium-field small-left-separator",attrs:{type:"text",placeholder:"Field value"},domProps:{value:t.filter.FieldValue},on:{input:function(e){e.target.composing||t.$set(t.filter,"FieldValue",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"filter-button-container"},[i("button",{staticClass:"cancel-filter-button button-link filter-text",on:{click:function(e){t.clearEditViewState()}}},[t._v("\n            Cancel\n        ")]),t._v(" "),i("button",{staticClass:"save-filter-button tfs4jira-rounded-button filter-button filter-text",on:{click:function(e){t.upsertFilter(t.filter)}}},[t._v("\n            Save filter\n        ")])])])},staticRenderFns:[]},Jn=i("VU/8")(Mn,Gn,!1,null,null,null).exports;function Hn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function Bn(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Hn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Hn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Wn={props:{profileFilter:{type:Object,required:!0}},computed:Bn({},Object(R.c)({imagePath:tt.getters.IMAGE_PATH})),methods:Bn({},Object(R.b)("profileFilters",["removeProfileFilter","activateEditView"]))},zn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-row-show filter-text"},[i("span",[t._v("Field")]),t._v(" "),i("span",{staticClass:"filter-field-name bold"},[t._v(t._s(t.profileFilter.FieldName))]),t._v(" "),i("span",{staticClass:"filter-operator"},[t._v(t._s(t.profileFilter.FilterOperatorName))]),t._v(" "),i("span",{staticClass:"filter-field-value bold"},[t._v('"'+t._s(t.profileFilter.FieldValue)+'"')]),t._v(" "),i("div",{staticClass:"filter-operations-button-container"},[i("button",{staticClass:"filter-edit-button tfs4jira-rounded-button tfs4jira-icon-button",on:{click:function(e){t.activateEditView({profileFilter:t.profileFilter,filterType:t.profileFilter.FilterType})}}},[i("img",{attrs:{src:t.imagePath+"edit-icon.svg"}})]),t._v(" "),i("button",{staticClass:"filter-delete-button tfs4jira-rounded-button tfs4jira-icon-button",on:{click:function(e){t.removeProfileFilter(t.profileFilter.FilterId)}}},[i("img",{attrs:{src:t.imagePath+"delete-icon.svg"}})])])])},staticRenderFns:[]};function Kn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function $n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Kn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var Yn={components:{ProfileFilterEdit:Jn,ProfileFilterRow:i("VU/8")(Wn,zn,!1,null,null,null).exports},props:{dictionary:{type:Object,required:!0},filterData:{type:Object,required:!0},availableFields:{type:Array,required:!0}},data:function(){return{isLocalFilterEditActive:!1,filterMatchingType:null,numberOfFilters:0}},computed:$n({},Object(R.c)("profileFilters",["filterIdOfActiveEditFilterView","filterTypeOfActiveCreateFilterView"])),watch:{filterData:{deep:!0,handler:function(t){this.filterMatchingType=t.filterMatching,this.numberOfFilters=t.filters.length}},filterMatchingType:function(t,e){e&&this.updateFilterMatchingType({filterType:this.dictionary.filterType,filterMatchingType:t})},isFilterEditActive:function(t){t||(this.isLocalFilterEditActive=!1)}},methods:$n($n({},Object(R.b)("profileFilters",["updateFilterMatchingType","activateCreateView"])),{},{isElementInEdit:function(t){return this.filterIdOfActiveEditFilterView===t}})},qn={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filter-section",class:"filter-section-"+t.dictionary.filterType},[i("div",{staticClass:"filter-header-container"},[i("span",{staticClass:"filter-header-text"},[t._v(t._s(t.dictionary.filterType)+" filters")]),t._v(" "),t.filterIdOfActiveEditFilterView||t.filterTypeOfActiveCreateFilterView?t._e():i("button",{staticClass:"add-filter-button button-link filter-text",on:{click:function(e){t.activateCreateView({filterType:t.dictionary.filterType})}}},[t._v("\n            + Add "+t._s(t.dictionary.filterType)+" Filter\n        ")])]),t._v(" "),t.numberOfFilters>1?i("div",{staticClass:"filter-matching-section"},[i("span",{staticClass:"filter-text"},[t._v("Each "+t._s(t.dictionary.filterItemName)+" will be synchronized when it matches")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.filterMatchingType,expression:"filterMatchingType"}],staticClass:"ts4jira-select2-form-field short-field small-left-separator",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.filterMatchingType=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"AtLeastOneFilter"}},[t._v("at least one filter")]),t._v(" "),i("option",{attrs:{value:"AllFilters"}},[t._v("all filters")])])]):t._e(),t._v(" "),t.filterTypeOfActiveCreateFilterView===t.dictionary.filterType?i("ProfileFilterEdit",{attrs:{availableFields:t.availableFields,filterType:t.dictionary.filterType}}):t._e(),t._v(" "),i("div",{staticClass:"profile-filters"},[t.numberOfFilters>0?i("div",[t._l(t.filterData.filters,function(e){return[t.isElementInEdit(e.FilterId)?i("ProfileFilterEdit",{attrs:{availableFields:t.availableFields,filterType:t.dictionary.filterType}}):i("ProfileFilterRow",{key:e.FilterId,attrs:{profileFilter:e}})]})],2):i("div",{staticClass:"no-filter-info filter-text"},[t._v("\n            Currently there are no "+t._s(t.dictionary.filterType)+" filters added.\n        ")])])],1)},staticRenderFns:[]},Xn=i("VU/8")(Yn,qn,!1,null,null,null).exports,Qn=function(){function t(e){H()(this,t),this.http=e}return W()(t,[{key:"getData",value:function(){var t=this;return new St.a(function(e,i){t.http.get("".concat(t.backendUrl,"/filters")).then(function(t){e(t.data)}).catch(function(t){i(t)})})}},{key:"removeFilter",value:function(t,e){var i=this;return new St.a(function(n,a){i.http.delete("".concat(i.backendUrl,"/filters/").concat(t)).then(function(){n(function(t,e){return e.profileFiltersForJira&&(e.profileFiltersForJira=e.profileFiltersForJira.filter(function(e){return e.FilterId!==t})),e.profileFiltersForTfs&&(e.profileFiltersForTfs=e.profileFiltersForTfs.filter(function(e){return e.FilterId!==t})),e}(t,e))}).catch(function(t){a(t)})})}},{key:"updateFilterMatchingType",value:function(t){var e=t.filterType,i=t.filterMatchingType,n=this;return new St.a(function(t,a){n.http.put("".concat(n.backendUrl,"/filters/update-filter-matching"),{FilterMatching:i,FilterType:e}).then(function(){t()}).catch(function(t){a(t)})})}},{key:"updateFilter",value:function(t){var e=this.createFilterObjectToSend(t),i=this;return new St.a(function(n,a){i.http.put("".concat(i.backendUrl,"/filters/").concat(t.FilterId),e).then(function(t){n(t.data)}).catch(function(t){a(t)})})}},{key:"insertFilter",value:function(t){var e=this.createFilterObjectToSend(t),i=this;return new St.a(function(t,n){i.http.post("".concat(i.backendUrl,"/filters"),e).then(function(e){t(e.data)}).catch(function(t){n(t)})})}},{key:"createFilterObjectToSend",value:function(t){return{FilterType:t.FilterType,FilterOperator:t.FilterOperatorId,FieldId:t.FieldId,FieldName:t.FieldName,FieldValue:t.FieldValue}}}]),t}();function Zn(t,e){var i=L()(t);if(A.a){var n=A()(t);e&&(n=n.filter(function(e){return T()(t,e).enumerable})),i.push.apply(i,n)}return i}function ta(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zn(Object(i),!0).forEach(function(e){V()(t,e,i[e])}):g.a?m()(t,g()(i)):Zn(Object(i)).forEach(function(e){v()(t,e,T()(i,e))})}return t}var ea={components:{ProfileFilterSection:Xn,Notification:It},props:{profileGuid:{type:String,required:!0},loadOnInit:{type:String}},computed:ta(ta({},Object(R.c)({contextPath:tt.getters.CONTEXT_PATH})),Object(R.c)("profileFilters",["availableFieldsForJira","availableFieldsForTfs","profileFiltersDataForJira","profileFiltersDataForTfs","loaderVisible"])),mounted:function(){void 0!==this.loadOnInit&&"true"===this.loadOnInit&&this.initComponent()},methods:ta(ta({},Object(R.b)("profileFilters",["setUpService","loadProfileFilterData"])),{},{initComponent:function(){var t=O()(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setUpService({prefix:"".concat(this.contextPath,"/api/profiles/").concat(this.profileGuid),service:new Qn(M.a)}),t.next=3,this.loadProfileFilterData();case 3:this.loadOnInit="true";case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},ia={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"filters-container"},[i("notification",{staticClass:"info",attrs:{"icon-name":"info-circle","icon-class":"info-message"}},[i("p",[t._v("By default synchronization profile has no filters and all issues and work items are synchronized."),i("br"),t._v("\n            When there is only one filter for Jira / TFS then these issues / work items that match this filter are\n            synchronized.\n        ")])]),t._v(" "),i("ProfileFilterSection",{attrs:{dictionary:{filterType:"Jira",filterItemName:"issue"},filterData:t.profileFiltersDataForJira,availableFields:t.availableFieldsForJira}}),t._v(" "),i("ProfileFilterSection",{attrs:{dictionary:{filterType:"TFS",filterItemName:"work item"},filterData:t.profileFiltersDataForTfs,availableFields:t.availableFieldsForTfs}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.loaderVisible,expression:"loaderVisible"}],staticClass:"spinner"})],1)},staticRenderFns:[]};var na,aa=i("VU/8")(ea,ia,!1,function(t){i("QpHD")},"data-v-d6f797aa",null).exports,ra={},sa={namespaced:!0,actions:{loadProfileFilterData:function(t){return O()(N.a.mark(function e(){var i,n,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.commit,n=t.dispatch,e.prev=1,i("showLoader",!0),e.next=5,ra.getData();case 5:a=e.sent,i("setAvailableFields",a),i("setProfileFilters",a),i("showLoader",!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n("handleError",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}))()},removeProfileFilter:function(t,e){return O()(N.a.mark(function i(){var n,a,r,s;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.dispatch,r=t.getters,i.prev=1,n("showLoader",!0),i.next=5,ra.removeFilter(e,{profileFiltersForJira:r.profileFiltersDataForJira.filters,profileFiltersForTfs:r.profileFiltersDataForTfs.filters});case 5:s=i.sent,n("updateProfileFiltersData",s),n("showLoader",!1),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),a("handleError",i.t0);case 13:case"end":return i.stop()}},i,null,[[1,10]])}))()},updateFilterMatchingType:function(t,e){return O()(N.a.mark(function i(){var n,a;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.commit,a=t.dispatch,i.prev=1,n("showLoader",!0),i.next=5,ra.updateFilterMatchingType(e);case 5:n("updateFilterMatchingType",e),n("showLoader",!1),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(1),a("handleError",i.t0);case 12:case"end":return i.stop()}},i,null,[[1,9]])}))()},activateCreateView:function(t,e){var i=t.commit,n=e.profileFilter;i("changeFilterTypeOfActiveCreateFilterView",e.filterType),i("setCurrentFilterInEdit",n)},activateEditView:function(t,e){var i=t.commit,n=e.profileFilter;i("changeIdOfActiveEditFilterView",n&&n.FilterId),i("setCurrentFilterInEdit",n)},upsertFilter:function(t,e){return O()(N.a.mark(function i(){var n,a,r,s;return N.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(n=t.commit,a=t.dispatch,i.prev=1,n("showLoader",!0),!e.FilterId){i.next=10;break}return i.next=6,ra.updateFilter(e);case 6:r=i.sent,n("updateFilter",r),i.next=14;break;case 10:return i.next=12,ra.insertFilter(e);case 12:s=i.sent,n("addNewFilterToProfileFilter",s);case 14:n("clearEditViewState"),n("showLoader",!1),i.next=21;break;case 18:i.prev=18,i.t0=i.catch(1),a("handleError",i.t0);case 21:case"end":return i.stop()}},i,null,[[1,18]])}))()},setUpService:function(t,e){x()(t),void 0!==e.service&&(ra=e.service),void 0!==e.prefix&&(ra.backendUrl=e.prefix)},handleError:function(t,e){var i=t.commit,n=t.dispatch;i("showLoader",!1),n(tt.actions.HANDLE_ERROR,e,{root:!0})}},getters:{availableFieldsForJira:function(t){return t.availableFieldsForJira},availableFieldsForTfs:function(t){return t.availableFieldsForTfs},profileFiltersDataForJira:function(t){return t.profileFiltersDataForJira},profileFiltersDataForTfs:function(t){return t.profileFiltersDataForTfs},filterIdOfActiveEditFilterView:function(t){return t.filterIdOfActiveEditFilterView},filterTypeOfActiveCreateFilterView:function(t){return t.filterTypeOfActiveCreateFilterView},currentFilterInEdit:function(t){return t.currentFilterInEdit},loaderVisible:function(t){return t.loaderVisible}},mutations:{setAvailableFields:function(t,e){t.availableFieldsForJira=e.JiraFields,t.availableFieldsForTfs=e.TfsFields},setProfileFilters:function(t,e){var i={filterMatching:e.JiraFilterMatching,filters:[]},n={filterMatching:e.TfsFilterMatching,filters:[]};e.Filters.forEach(function(t){"Jira"===t.FilterType?i.filters.push(t):n.filters.push(t)}),t.profileFiltersDataForJira=i,t.profileFiltersDataForTfs=n},updateProfileFiltersData:function(t,e){t.profileFiltersDataForJira.filters=e.profileFiltersForJira,t.profileFiltersDataForTfs.filters=e.profileFiltersForTfs},updateFilter:function(t,e){var i;switch(e.FilterType.toUpperCase()){case"JIRA":i=t.profileFiltersDataForJira.filters;break;case"TFS":i=t.profileFiltersDataForTfs.filters;break;default:throw new Error("Unknown filter type: ".concat(updateData.filterType))}var n=i.findIndex(function(t){return t.FilterId===e.FilterId});i.splice(n,1,e)},updateFilterMatchingType:function(t,e){switch(e.filterType.toUpperCase()){case"JIRA":t.profileFiltersDataForJira.filterMatching=e.filterMatchingType;break;case"TFS":t.profileFiltersDataForTfs.filterMatching=e.filterMatchingType;break;default:throw new Error("Unknown filter type: ".concat(e.filterType))}},addNewFilterToProfileFilter:function(t,e){switch(e.FilterType.toUpperCase()){case"JIRA":t.profileFiltersDataForJira.filters.push(e);break;case"TFS":t.profileFiltersDataForTfs.filters.push(e);break;default:throw new Error("Unknown filter type: ".concat(e.filterType))}},showLoader:function(t,e){t.loaderVisible=e},changeIdOfActiveEditFilterView:function(t,e){t.filterIdOfActiveEditFilterView=e},changeFilterTypeOfActiveCreateFilterView:function(t,e){t.filterTypeOfActiveCreateFilterView=e},clearEditViewState:function(t){t.filterIdOfActiveEditFilterView=null,t.filterTypeOfActiveCreateFilterView=null},setCurrentFilterInEdit:function(t,e){t.currentFilterInEdit=e}},state:{availableFieldsForJira:[],availableFieldsForTfs:[],profileFiltersDataForJira:{},profileFiltersDataForTfs:{},filterIdOfActiveEditFilterView:null,filterTypeOfActiveCreateFilterView:null,currentFilterInEdit:null,loaderVisible:!1}};p.a.use(R.a);var oa=new R.a.Store({modules:(na={},V()(na,"mappings",rt),V()(na,"hierarchy",de),V()(na,"app",Z),V()(na,"fieldsMapping",we),V()(na,"SmtpConfiguration",mi),V()(na,"loggingEvents",ji),V()(na,"supportActivity",rn),V()(na,"usersMapping",Ln),V()(na,"profileFilters",sa),na)});p.a.config.productionTip=!1,p.a.component("icon",d.a),Array.prototype.forEach.call(document.querySelectorAll(".vue-container"),function(t){new p.a({el:"#"+t.getAttribute("id"),store:oa,components:{LinkMapping:yt,WizardSide:Wt,NotificationHandler:Xt,HealthStatusIndicator:wt,ProfileHealth:xt,MessageBox:se,Hierarchy:Le,Notification:It,FieldsMapping:ii,SmtpConfiguration:Vi,LoggingEvents:qi,UnsupportedBrowserChecker:tn,SupportSideBar:fn,WebinarStripe:Tn,UsersMapping:jn,ProfileFilters:aa}})})},"Q7/d":function(t,e){},QpHD:function(t,e){},TOaT:function(t,e){},VBot:function(t,e){},W2he:function(t,e){},duNd:function(t,e){},gq9q:function(t,e){},jSVj:function(t,e){},jxQI:function(t,e){},kEHW:function(t,e){},"qL+f":function(t,e){},qLqe:function(t,e){},u7Cn:function(t,e){},uJHK:function(t,e){},uslO:function(t,e,i){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return i(r(t))}function r(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="uslO"},vRcm:function(t,e){},vr85:function(t,e){},wJNk:function(t,e){},xBJv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map